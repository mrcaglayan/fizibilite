{"version":3,"file":"static/js/389.5775636a.chunk.js","mappings":"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","sources":["hooks/useScenarioUIState.js","components/HREditorIK.jsx","pages/school/IKPage.jsx","components/NumberInput.jsx","utils/kademe.js","components/ui/TabProgressHeatmap.jsx","utils/programType.js"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\n// Per school + per scenario persistence.\r\n// We scope by current URL (pathname + search). In your app, this URL already contains\r\n// schoolId and scenarioId (either in params or querystring), so each school/scenario\r\n// gets its own remembered UI state.\r\n\r\nconst DEFAULT_PREFIX = \"fizizbilite\";\r\n\r\nfunction safeRead(key, fallback) {\r\n  try {\r\n    const raw = window.localStorage.getItem(key);\r\n    if (raw == null) return fallback;\r\n    return JSON.parse(raw);\r\n  } catch {\r\n    return fallback;\r\n  }\r\n}\r\n\r\nfunction safeWrite(key, value) {\r\n  try {\r\n    window.localStorage.setItem(key, JSON.stringify(value));\r\n  } catch {\r\n    // ignore quota / privacy mode errors\r\n  }\r\n}\r\n\r\nexport function useScenarioScopeKey(prefix = DEFAULT_PREFIX, scopeOverride) {\r\n  const loc = useLocation();\r\n  return useMemo(() => {\r\n    const override = typeof scopeOverride === \"string\" ? scopeOverride.trim() : \"\";\r\n    const scope = override || (loc.pathname + (loc.search || \"\"));\r\n    return prefix + \":\" + scope;\r\n  }, [prefix, scopeOverride, loc.pathname, loc.search]);\r\n}\r\n\r\n/**\r\n * Generic persisted state hook (localStorage), scoped by current scenario URL.\r\n *\r\n * NOTE: We intentionally avoid writing to a *new* scope key until we've loaded that\r\n * key's stored value. This prevents \"old state\" from being written into a newly\r\n * navigated scenario.\r\n */\r\nexport function useScenarioUiState(name, defaultValue, { prefix = DEFAULT_PREFIX, scope } = {}) {\r\n  const scopeKey = useScenarioScopeKey(prefix, scope);\r\n  const storageKey = useMemo(() => `${scopeKey}:ui:${name}`, [scopeKey, name]);\r\n\r\n  const loadedKeyRef = useRef(null);\r\n\r\n  const [state, setState] = useState(() => safeRead(storageKey, defaultValue));\r\n\r\n  // Load when the scope (school/scenario) changes\r\n  useEffect(() => {\r\n    loadedKeyRef.current = storageKey;\r\n    setState(safeRead(storageKey, defaultValue));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [storageKey]);\r\n\r\n  // Persist changes (only after we loaded for this key)\r\n  useEffect(() => {\r\n    if (loadedKeyRef.current !== storageKey) return;\r\n    safeWrite(storageKey, state);\r\n  }, [storageKey, state]);\r\n\r\n  return [state, setState, storageKey];\r\n}\r\n\r\nexport function useScenarioUiFlag(name, defaultValue = false, opts) {\r\n  const [v, setV] = useScenarioUiState(name, !!defaultValue, opts);\r\n  const setFlag = (next) => setV(!!(typeof next === \"function\" ? next(v) : next));\r\n  return [!!v, setFlag];\r\n}\r\n\r\nexport function useScenarioUiString(name, defaultValue = \"\", opts) {\r\n  const [v, setV] = useScenarioUiState(name, String(defaultValue ?? \"\"), opts);\r\n  const setStr = (next) => setV(String(typeof next === \"function\" ? next(v) : next));\r\n  return [String(v ?? \"\"), setStr];\r\n}\r\n\r\nexport function useScenarioUiNumber(name, defaultValue = 0, opts) {\r\n  const [v, setV] = useScenarioUiState(name, Number(defaultValue ?? 0), opts);\r\n  const setNum = (next) => {\r\n    const raw = typeof next === \"function\" ? next(v) : next;\r\n    const n = Number(raw);\r\n    setV(Number.isFinite(n) ? n : 0);\r\n  };\r\n  return [Number(v ?? 0), setNum];\r\n}\r\n","//frontend/src/components/HREditorIK.jsx\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { formatKademeLabel, normalizeKademeConfig } from \"../utils/kademe\";\r\nimport { isKademeKeyVisible } from \"../utils/programType\";\r\nimport { useScenarioUiFlag } from \"../hooks/useScenarioUIState\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nconst toNum = (v) => {\r\n  const n = Number(v);\r\n  return Number.isFinite(n) ? n : 0;\r\n};\r\n\r\nconst fmtMoney = (v) =>\r\n  Number.isFinite(v)\r\n    ? v.toLocaleString(undefined, { maximumFractionDigits: 0 })\r\n    : \"-\";\r\n\r\nconst YEARS = [\r\n  { key: \"y1\", label: \"1.Yıl\" },\r\n  { key: \"y2\", label: \"2.Yıl\" },\r\n  { key: \"y3\", label: \"3.Yıl\" },\r\n];\r\n\r\nconst DEFAULT_UNIT_COST_RATIO = 1;\r\n\r\nfunction getInflationFactors(temelBilgiler) {\r\n  const infl = temelBilgiler?.inflation || {};\r\n  const y2 = toNum(infl?.y2);\r\n  const y3 = toNum(infl?.y3);\r\n  return {\r\n    y1: 1,\r\n    y2: 1 + y2,\r\n    y3: (1 + y2) * (1 + y3),\r\n  };\r\n}\r\n\r\nconst LEVEL_DEFS = [\r\n  { key: \"merkez\", baseLabel: \"MERKEZ / HQ\", kademeKey: null },\r\n  { key: \"okulOncesi\", baseLabel: \"Okul Öncesi\", kademeKey: \"okulOncesi\" },\r\n  { key: \"ilkokulYerel\", baseLabel: \"İlkokul\", kademeKey: \"ilkokul\", suffix: \"-YEREL\" },\r\n  { key: \"ilkokulInt\", baseLabel: \"İlkokul\", kademeKey: \"ilkokul\", suffix: \"-INT.\" },\r\n  { key: \"ortaokulYerel\", baseLabel: \"Ortaokul\", kademeKey: \"ortaokul\", suffix: \"-YEREL\" },\r\n  { key: \"ortaokulInt\", baseLabel: \"Ortaokul\", kademeKey: \"ortaokul\", suffix: \"-INT.\" },\r\n  { key: \"liseYerel\", baseLabel: \"Lise\", kademeKey: \"lise\", suffix: \"-YEREL\" },\r\n  { key: \"liseInt\", baseLabel: \"Lise\", kademeKey: \"lise\", suffix: \"-INT.\" },\r\n];\r\n\r\nconst ROLE_GROUPS = [\r\n  {\r\n    groupKey: \"turk\",\r\n    groupLabel: \"MERKEZ TARAFINDAN GÖREVLENDİRİLEN (TÜRK PER.)\",\r\n    roles: [\r\n      { key: \"turk_mudur\", label: \"Müdür\" },\r\n      { key: \"turk_mdyard\", label: \"Md.Yrd.\" },\r\n      { key: \"turk_egitimci\", label: \"Eğitimci (Eğitimci, Öğretmen, Belletmen vb.)\" },\r\n      { key: \"turk_temsil\", label: \"TEMSİLCİLİK / EĞİTİM KURUMU ÇALIŞANLARI\" },\r\n    ],\r\n  },\r\n  {\r\n    groupKey: \"yerel\",\r\n    groupLabel: \"YEREL KAYNAKTAN TEMİN EDİLEN ÇALIŞANLAR\",\r\n    roles: [\r\n      { key: \"yerel_yonetici_egitimci\", label: \"Yönetici ve Eğitimci\" },\r\n      { key: \"yerel_destek\", label: \"Destek Per.\" },\r\n      { key: \"yerel_ulke_temsil_destek\", label: \"Ülke Temsilciliği Destek Per.\" },\r\n    ],\r\n  },\r\n  {\r\n    groupKey: \"international\",\r\n    groupLabel: \"INTERNATIONAL\",\r\n    roles: [{ key: \"int_yonetici_egitimci\", label: \"Yönetici ve Eğitimci\" }],\r\n  },\r\n];\r\n\r\nconst ALL_ROLES = ROLE_GROUPS.flatMap((g) => g.roles);\r\n\r\nconst ROLE_META = (() => {\r\n  const out = {};\r\n  ROLE_GROUPS.forEach((group, groupIndex) => {\r\n    group.roles.forEach((role, roleIndex) => {\r\n      out[role.key] = {\r\n        groupIndex,\r\n        groupKey: group.groupKey,\r\n        roleIndex,\r\n        groupLen: group.roles.length,\r\n        isGroupEnd: roleIndex === group.roles.length - 1,\r\n      };\r\n    });\r\n  });\r\n  return out;\r\n})();\r\n\r\nconst groupDividerClass = (groupIndex) =>\r\n  groupIndex < ROLE_GROUPS.length - 1 ? \"ik-compact-divider\" : \"\";\r\n\r\n// Column dividers:\r\n// - Inside the same group: dotted separator\r\n// - End of group (between groups): solid separator\r\nconst cellDividerClass = (roleKey) => {\r\n  const meta = ROLE_META[roleKey];\r\n  if (!meta) return \"\";\r\n  if (!meta.isGroupEnd) return \"ik-compact-dot\";\r\n  if (meta.groupIndex < ROLE_GROUPS.length - 1) return \"ik-compact-divider\";\r\n  return \"\";\r\n};\r\n\r\n\r\nfunction deepMerge(target, source) {\r\n  const t = { ...(target || {}) };\r\n  const s = source || {};\r\n  for (const k of Object.keys(s)) {\r\n    const sv = s[k];\r\n    if (sv && typeof sv === \"object\" && !Array.isArray(sv)) t[k] = deepMerge(t[k], sv);\r\n    else t[k] = sv;\r\n  }\r\n  return t;\r\n}\r\n\r\nfunction defaultYearIK() {\r\n  const unitCosts = {};\r\n  const headcountsByLevel = {};\r\n  for (const r of ALL_ROLES) unitCosts[r.key] = 0;\r\n  for (const lvl of LEVEL_DEFS) {\r\n    headcountsByLevel[lvl.key] = {};\r\n    for (const r of ALL_ROLES) headcountsByLevel[lvl.key][r.key] = 0;\r\n  }\r\n  return { unitCosts, headcountsByLevel };\r\n}\r\n\r\nfunction defaultIK3Y() {\r\n  return {\r\n    unitCostRatio: DEFAULT_UNIT_COST_RATIO,\r\n    years: {\r\n      y1: defaultYearIK(),\r\n      y2: defaultYearIK(),\r\n      y3: defaultYearIK(),\r\n    },\r\n  };\r\n}\r\n\r\nfunction buildIK(value) {\r\n  const base = defaultIK3Y();\r\n  const v = value || {};\r\n\r\n  // Backward compatibility:\r\n  // - old shape: { unitCosts, headcountsByLevel }\r\n  // - new shape: { years: { y1: {..}, y2: {..}, y3: {..} } }\r\n  if (v?.years && typeof v.years === \"object\") {\r\n    return deepMerge(base, v);\r\n  }\r\n\r\n  if (v?.unitCosts || v?.headcountsByLevel) {\r\n    return deepMerge(base, { years: { y1: v } });\r\n  }\r\n\r\n  return deepMerge(base, v);\r\n}\r\n\r\nfunction normalizeUnitCostRatio(value) {\r\n  const n = toNum(value);\r\n  if (!Number.isFinite(n) || n <= 0) return DEFAULT_UNIT_COST_RATIO;\r\n  return n;\r\n}\r\n\r\nfunction applyUnitCostGrowth(input, ratioValue, inflFactors) {\r\n  const ratio = normalizeUnitCostRatio(ratioValue);\r\n  const factors = inflFactors || { y1: 1, y2: 1, y3: 1 };\r\n  const next = structuredClone(input || {});\r\n  next.unitCostRatio = ratio;\r\n  next.years = next.years || {};\r\n  next.years.y1 = next.years.y1 || defaultYearIK();\r\n  next.years.y2 = next.years.y2 || defaultYearIK();\r\n  next.years.y3 = next.years.y3 || defaultYearIK();\r\n  next.years.y1.unitCosts = next.years.y1.unitCosts || {};\r\n  next.years.y2.unitCosts = next.years.y2.unitCosts || {};\r\n  next.years.y3.unitCosts = next.years.y3.unitCosts || {};\r\n\r\n  for (const r of ALL_ROLES) {\r\n    const base = toNum(next.years.y1.unitCosts?.[r.key]);\r\n    const meta = ROLE_META[r.key] || {};\r\n    const useInflation = meta.groupKey === \"yerel\";\r\n    const y2 = useInflation ? base * (factors.y2 ?? 1) : base * ratio;\r\n    const y3 = useInflation ? base * (factors.y3 ?? 1) : y2 * ratio;\r\n    next.years.y2.unitCosts[r.key] = y2;\r\n    next.years.y3.unitCosts[r.key] = y3;\r\n  }\r\n\r\n  return next;\r\n}\r\n\r\nfunction areUnitCostsSynced(input, ratioValue, inflFactors) {\r\n  const ratio = normalizeUnitCostRatio(ratioValue);\r\n  const factors = inflFactors || { y1: 1, y2: 1, y3: 1 };\r\n  const y1 = input?.years?.y1?.unitCosts || {};\r\n  const y2 = input?.years?.y2?.unitCosts || {};\r\n  const y3 = input?.years?.y3?.unitCosts || {};\r\n  for (const r of ALL_ROLES) {\r\n    const base = toNum(y1?.[r.key]);\r\n    const meta = ROLE_META[r.key] || {};\r\n    const useInflation = meta.groupKey === \"yerel\";\r\n    const expY2 = useInflation ? base * (factors.y2 ?? 1) : base * ratio;\r\n    const expY3 = useInflation ? base * (factors.y3 ?? 1) : expY2 * ratio;\r\n    if (Math.abs(toNum(y2?.[r.key]) - expY2) > 1e-6) return false;\r\n    if (Math.abs(toNum(y3?.[r.key]) - expY3) > 1e-6) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction computeYear(yearIK) {\r\n  const roleTotals = {};\r\n  const roleAnnualCosts = {};\r\n  const roleMonthlyUnitCosts = {};\r\n  const roleMonthlyPerPersonAvg = {};\r\n\r\n  for (const r of ALL_ROLES) {\r\n    let totalCount = 0;\r\n    for (const lvl of LEVEL_DEFS) {\r\n      totalCount += toNum(yearIK?.headcountsByLevel?.[lvl.key]?.[r.key]);\r\n    }\r\n    roleTotals[r.key] = totalCount;\r\n\r\n    const unit = toNum(yearIK?.unitCosts?.[r.key]);\r\n    const annual = unit * totalCount;\r\n    roleAnnualCosts[r.key] = annual;\r\n    roleMonthlyUnitCosts[r.key] = unit / 12;\r\n    roleMonthlyPerPersonAvg[r.key] = totalCount > 0 ? annual / 12 / totalCount : 0;\r\n  }\r\n\r\n  const totalAnnual = Object.values(roleAnnualCosts).reduce((s, v) => s + toNum(v), 0);\r\n  const totalHeadcount = Object.values(roleTotals).reduce((s, v) => s + toNum(v), 0);\r\n\r\n  const sumAnnual = (keys) => keys.reduce((s, k) => s + toNum(roleAnnualCosts[k]), 0);\r\n  const salaryExpenseMapping = {\r\n    turkPersonelMaas: sumAnnual([\"turk_mudur\", \"turk_mdyard\", \"turk_egitimci\"]),\r\n    turkDestekPersonelMaas: sumAnnual([\"turk_temsil\"]),\r\n    yerelPersonelMaas: sumAnnual([\"yerel_yonetici_egitimci\"]),\r\n    yerelDestekPersonelMaas: sumAnnual([\"yerel_destek\", \"yerel_ulke_temsil_destek\"]),\r\n    internationalPersonelMaas: sumAnnual([\"int_yonetici_egitimci\"]),\r\n  };\r\n\r\n  return {\r\n    roleTotals,\r\n    roleAnnualCosts,\r\n    roleMonthlyUnitCosts,\r\n    roleMonthlyPerPersonAvg,\r\n    salaryExpenseMapping,\r\n    totals: { totalAnnual, totalHeadcount },\r\n  };\r\n}\r\n\r\nexport default function HREditorIK({\r\n  value,\r\n  kademeConfig,\r\n  onChange,\r\n  onSalaryComputed,\r\n  currencyCode = \"USD\",\r\n  programType = \"local\",\r\n  temelBilgiler,\r\n  dirtyPaths,\r\n  onDirty,\r\n  uiScopeKey,\r\n}) {\r\n  const [showRules, setShowRules] = useState(false);\r\n\r\n  // Persist per school + scenario (scoped by URL)\r\n  // Default is \"Geniş\".\r\n  const [isCondensed, setIsCondensed] = useScenarioUiFlag(\"hr.isCondensed\", true, { scope: uiScopeKey });\r\n\r\n  const ik = useMemo(() => buildIK(value), [value]);\r\n\r\n  const unitCostRatio = useMemo(\r\n    () => normalizeUnitCostRatio(ik?.unitCostRatio),\r\n    [ik?.unitCostRatio]\r\n  );\r\n  const inflationFactors = useMemo(() => getInflationFactors(temelBilgiler), [temelBilgiler]);\r\n\r\n  const kademeler = useMemo(() => normalizeKademeConfig(kademeConfig), [kademeConfig]);\r\n  const baseKeys = [\"okulOncesi\", \"ilkokul\", \"ortaokul\", \"lise\"];\r\n  const noKademeMode = baseKeys.every((k) => kademeler?.[k]?.enabled === false);\r\n\r\n  const levels = useMemo(\r\n    () =>\r\n      LEVEL_DEFS.map((lvl) => {\r\n        const base = formatKademeLabel(lvl.baseLabel, kademeler, lvl.kademeKey);\r\n        return { ...lvl, label: lvl.suffix ? `${base}${lvl.suffix}` : base };\r\n      }),\r\n    [kademeler]\r\n  );\r\n\r\n  const visibleLevels = useMemo(\r\n    () => {\r\n      if (noKademeMode) {\r\n        const hq = levels.find((lvl) => lvl.key === \"merkez\");\r\n        return hq ? [hq] : [];\r\n      }\r\n      return levels.filter(\r\n        (lvl) =>\r\n          lvl.key !== \"merkez\" &&\r\n          kademeler[lvl.kademeKey]?.enabled !== false &&\r\n          isKademeKeyVisible(lvl.key, programType)\r\n      );\r\n    },\r\n    [levels, kademeler, programType, noKademeMode]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!ik) return;\r\n    if (areUnitCostsSynced(ik, unitCostRatio, inflationFactors)) return;\r\n    const next = applyUnitCostGrowth(ik, unitCostRatio, inflationFactors);\r\n    onChange?.(next);\r\n  }, [ik, unitCostRatio, inflationFactors, onChange]);\r\n\r\n  const unitCostPath = (yearKey, roleKey) => `inputs.ik.years.${yearKey}.unitCosts.${roleKey}`;\r\n  const unitCostRatioPath = \"inputs.ik.unitCostRatio\";\r\n  const headcountPath = (yearKey, levelKey, roleKey) =>\r\n    `inputs.ik.years.${yearKey}.headcountsByLevel.${levelKey}.${roleKey}`;\r\n\r\n  const isDirty = (path) => (dirtyPaths ? dirtyPaths.has(path) : false);\r\n  const dirtyClass = (path) => (isDirty(path) ? \"input-dirty\" : \"\");\r\n\r\n  const setUnitCostRatio = (v) => {\r\n    const ratio = normalizeUnitCostRatio(v);\r\n    const next = applyUnitCostGrowth(ik, ratio, inflationFactors);\r\n    onChange?.(next);\r\n    onDirty?.(unitCostRatioPath, ratio);\r\n  };\r\n\r\n  const setUnitCost = (yearKey, roleKey, v) => {\r\n    if (yearKey !== \"y1\") return;\r\n    const nextValue = toNum(v);\r\n    const next = structuredClone(ik);\r\n    next.years = next.years || {};\r\n    next.years.y1 = next.years.y1 || defaultYearIK();\r\n    next.years.y1.unitCosts = next.years.y1.unitCosts || {};\r\n    next.years.y1.unitCosts[roleKey] = nextValue;\r\n    const withGrowth = applyUnitCostGrowth(next, unitCostRatio, inflationFactors);\r\n    onChange?.(withGrowth);\r\n    onDirty?.(unitCostPath(\"y1\", roleKey), nextValue);\r\n  };\r\n\r\n  const setHeadcount = (yearKey, levelKey, roleKey, v) => {\r\n    const nextValue = Math.max(0, Math.trunc(toNum(v)));\r\n    const next = structuredClone(ik);\r\n    next.years = next.years || {};\r\n    next.years[yearKey] = next.years[yearKey] || defaultYearIK();\r\n    next.years[yearKey].headcountsByLevel = next.years[yearKey].headcountsByLevel || {};\r\n    next.years[yearKey].headcountsByLevel[levelKey] =\r\n      next.years[yearKey].headcountsByLevel[levelKey] || {};\r\n    next.years[yearKey].headcountsByLevel[levelKey][roleKey] = nextValue;\r\n    onChange?.(next);\r\n    onDirty?.(headcountPath(yearKey, levelKey, roleKey), nextValue);\r\n  };\r\n\r\n  const computedByYear = useMemo(() => {\r\n    const out = {};\r\n    for (const y of YEARS) out[y.key] = computeYear(ik?.years?.[y.key] || defaultYearIK());\r\n    return out;\r\n  }, [ik]);\r\n\r\n  const salaryMappingByYear = useMemo(() => {\r\n    const out = {};\r\n    for (const y of YEARS) out[y.key] = computedByYear?.[y.key]?.salaryExpenseMapping || {};\r\n    return out;\r\n  }, [computedByYear]);\r\n\r\n  useEffect(() => {\r\n    onSalaryComputed?.(salaryMappingByYear);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [JSON.stringify(salaryMappingByYear)]);\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div style={{ fontWeight: 800, textAlign: \"center\" }}>\r\n        PERSONEL SAYILARI VE İŞVEREN MALİYETLERİ\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"row\" style={{ marginTop: 8 }}>\r\n        <label>\r\n          <div className=\"small\">Yıllık Birim Maliyet Çarpanı (Y2/Y3)</div>\r\n          <NumberInput\r\n            className={`input sm ${dirtyClass(unitCostRatioPath)}`}\r\n           \r\n            min=\"0\"\r\n            step=\"0.01\"\r\n            value={unitCostRatio}\r\n            onChange={(value) => setUnitCostRatio(value)}\r\n          />\r\n        </label>\r\n\r\n        <div className=\"row\" style={{ marginLeft: \"auto\" }}>\r\n          <div className=\"small\" style={{ fontWeight: 700 }}>\r\n            Görünüm\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className={`pill ${!isCondensed ? \"active\" : \"\"}`}\r\n            onClick={() => setIsCondensed(false)}\r\n          >\r\n            Geniş\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className={`pill ${isCondensed ? \"active\" : \"\"}`}\r\n            onClick={() => setIsCondensed(true)}\r\n          >\r\n            Yoğun\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {noKademeMode ? (\r\n        <div className=\"small\" style={{ marginTop: 6, color: \"#475569\" }}>\r\n          HQ senaryoda personel say?lar? MERKEZ / HQ sat?r?ndan girilir.\r\n        </div>\r\n      ) : null}\r\n\r\n      <div className=\"ik-compact-wrap table-scroll\" style={{ marginTop: 8 }}>\r\n        <table className=\"table data-table ik-compact-table\">\r\n          <thead>\r\n            <tr>\r\n              {/* �\r\n 3 satır header var artık */}\r\n              <th className=\"ik-compact-level\" rowSpan={3}>\r\n                Kademeler\r\n              </th>\r\n\r\n              {ROLE_GROUPS.map((g, groupIndex) => (\r\n                <th\r\n                  key={g.groupKey}\r\n                  colSpan={g.roles.length}\r\n                  className={`ik-compact-group ik-compact-group-dot ${groupDividerClass(groupIndex)}`}\r\n                >\r\n                  {g.groupLabel}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n\r\n            <tr>\r\n              {ALL_ROLES.map((r) => (\r\n                <th key={r.key} className={`ik-compact-role ${cellDividerClass(r.key)}`}>\r\n                  {r.label}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n\r\n            {/* �\r\n Yeni header satırı: Yıllar (dinamik) */}\r\n            <tr>\r\n              {ALL_ROLES.map((r) => (\r\n                <th key={`yr-${r.key}`} className={`ik-year-head ${cellDividerClass(r.key)}`}>\r\n                  <div\r\n                    className={`ik-year-stack ${isCondensed ? \"ik-year-stack-condensed\" : \"\"}`}\r\n                  >\r\n                    {YEARS.map((y) => (\r\n                      <div key={`yr-${r.key}-${y.key}`} className=\"ik-year-chip\">\r\n                        {y.label}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            <tr>\r\n              <td className=\"ik-compact-level ik-compact-title\">\r\n                {`Birim İşveren Maliyeti / YIL (${currencyCode})`}\r\n              </td>\r\n\r\n              {ALL_ROLES.map((r) => (\r\n                <td key={`uc-${r.key}`} className={`ik-compact-cell ${cellDividerClass(r.key)}`}>\r\n                  <div className={`ik-stack ${isCondensed ? \"ik-stack-condensed\" : \"\"}`}>\r\n                    {YEARS.map((y) => (\r\n                      <div className=\"ik-stack-row\" key={`uc-${r.key}-${y.key}`} title={y.label}>\r\n                        {y.key === \"y1\" ? (\r\n                          <NumberInput\r\n                           \r\n                            min=\"0\"\r\n                            step=\"100\"\r\n                            className={`ik-stack-input ${dirtyClass(unitCostPath(y.key, r.key))}`}\r\n                            value={toNum(ik?.years?.[y.key]?.unitCosts?.[r.key])}\r\n                            onChange={(value) => setUnitCost(y.key, r.key, value)}\r\n                          />\r\n                        ) : (\r\n                          <div className=\"ik-stack-readonly\">\r\n                            {fmtMoney(toNum(ik?.years?.[y.key]?.unitCosts?.[r.key]) || 0)}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </td>\r\n              ))}\r\n            </tr>\r\n\r\n            {visibleLevels.map((lvl) => (\r\n              <tr key={lvl.key}>\r\n                <td className=\"ik-compact-level\">{lvl.label}</td>\r\n                {ALL_ROLES.map((r) => (\r\n                  <td key={`${lvl.key}-${r.key}`} className={`ik-compact-cell ${cellDividerClass(r.key)}`}>\r\n                    <div className={`ik-stack ${isCondensed ? \"ik-stack-condensed\" : \"\"}`}>\r\n                      {YEARS.map((y) => (\r\n                        <div className=\"ik-stack-row\" key={`${lvl.key}-${r.key}-${y.key}`} title={y.label}>\r\n                          <NumberInput\r\n                           \r\n                            min=\"0\"\r\n                            step=\"1\"\r\n                            className={`ik-stack-input ${dirtyClass(headcountPath(y.key, lvl.key, r.key))}`}\r\n                            value={toNum(ik?.years?.[y.key]?.headcountsByLevel?.[lvl.key]?.[r.key])}\r\n                            onChange={(value) => setHeadcount(y.key, lvl.key, r.key, value)}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n\r\n            <tr className=\"ik-total-row row-group-start\">\r\n              <td className=\"ik-compact-level\">TOPLAM YILLIK MALİYET</td>\r\n              {ALL_ROLES.map((r) => (\r\n                <td key={`totcost-${r.key}`} className={`ik-compact-cell ${cellDividerClass(r.key)}`}>\r\n                  <div className={`ik-stack ${isCondensed ? \"ik-stack-condensed\" : \"\"}`}>\r\n                    {YEARS.map((y) => (\r\n                      <div className=\"ik-stack-row\" key={`totcost-${r.key}-${y.key}`} title={y.label}>\r\n                        <div className=\"ik-stack-value\">\r\n                          {fmtMoney(computedByYear?.[y.key]?.roleAnnualCosts?.[r.key] || 0)}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </td>\r\n              ))}\r\n            </tr>\r\n\r\n            <tr className=\"ik-total-row row-group-start\">\r\n              <td className=\"ik-compact-level small\">Ortalama Aylık / Kişi (Bilgi)</td>\r\n              {ALL_ROLES.map((r) => (\r\n                <td key={`avgm-${r.key}`} className={`ik-compact-cell ${cellDividerClass(r.key)}`}>\r\n                  <div className={`ik-stack ${isCondensed ? \"ik-stack-condensed\" : \"\"}`}>\r\n                    {YEARS.map((y) => (\r\n                      <div className=\"ik-stack-row\" key={`avgm-${r.key}-${y.key}`} title={y.label}>\r\n                        <div className=\"ik-stack-muted\">\r\n                          {fmtMoney(computedByYear?.[y.key]?.roleMonthlyPerPersonAvg?.[r.key] || 0)}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </td>\r\n              ))}\r\n            </tr>\r\n\r\n            <tr className=\"ik-total-row row-group-start\">\r\n              <td className=\"ik-compact-level\">TOPLAM PERSONEL SAYISI</td>\r\n              {ALL_ROLES.map((r) => (\r\n                <td key={`totcnt-${r.key}`} className={`ik-compact-cell ${cellDividerClass(r.key)}`}>\r\n                  <div className={`ik-stack ${isCondensed ? \"ik-stack-condensed\" : \"\"}`}>\r\n                    {YEARS.map((y) => (\r\n                      <div className=\"ik-stack-row\" key={`totcnt-${r.key}-${y.key}`} title={y.label}>\r\n                        <div className=\"ik-stack-value\">\r\n                          {fmtMoney(computedByYear?.[y.key]?.roleTotals?.[r.key] || 0)}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"grid3\" style={{ marginTop: 12 }}>\r\n        {YEARS.map((y) => (\r\n          <div className=\"stat\" key={`sum-${y.key}`}>\r\n            <div className=\"label\">{y.label} Toplam Yıllık Maliyet</div>\r\n            <div className=\"value\">{fmtMoney(computedByYear?.[y.key]?.totals?.totalAnnual || 0)}</div>\r\n            <div className=\"small\" style={{ marginTop: 2 }}>\r\n              Personel: {fmtMoney(computedByYear?.[y.key]?.totals?.totalHeadcount || 0)}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <hr />\r\n\r\n      <div className=\"table-scroll\" style={{ marginTop: 8 }}>\r\n        <table className=\"table data-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Gider Anahtarı</th>\r\n              {YEARS.map((y) => (\r\n                <th key={`map-${y.key}`} className=\"cell-num\">\r\n                  {`${y.label} (${currencyCode})`}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {[\r\n              \"turkPersonelMaas\",\r\n              \"turkDestekPersonelMaas\",\r\n              \"yerelPersonelMaas\",\r\n              \"yerelDestekPersonelMaas\",\r\n              \"internationalPersonelMaas\",\r\n            ].map((k) => (\r\n              <tr key={k}>\r\n                <td style={{ fontFamily: \"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace\" }}>\r\n                  {k}\r\n                </td>\r\n                {YEARS.map((y) => (\r\n                  <td key={`${k}-${y.key}`} className=\"cell-num\" style={{ fontWeight: 800 }}>\r\n                    {fmtMoney(salaryMappingByYear?.[y.key]?.[k] || 0)}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <hr />\r\n\r\n      <div className=\"row\" style={{ justifyContent: \"space-between\" }}>\r\n        <div>\r\n          <div style={{ fontWeight: 700 }}>Kural Notları</div>\r\n        </div>\r\n        <button className=\"btn\" onClick={() => setShowRules((s) => !s)}>\r\n          {showRules ? \"Hide\" : \"Show\"}\r\n        </button>\r\n      </div>\r\n\r\n      {showRules ? (\r\n        <div style={{ marginTop: 10 }}>\r\n          <div className=\"card\" style={{ background: \"#f9fafb\" }}>\r\n            <div style={{ fontWeight: 700, marginBottom: 6 }}>5.x – Yönetim / Temsil</div>\r\n            <pre className=\"small\" style={{ margin: 0, whiteSpace: \"pre-wrap\" }}>\r\n              {`5.1.1.1. Okul müdürünün çalışma süresi ülkelerin yasal sürelerinin azami ve asgari sınırlarını aşmamak kaydıyla 40-45 saattir. 5.1.1.2. Türkiye Maarif Vakfı bünyesinde tüm branşları okul öncesinden liseye kadar bulunan kampüs şeklindeki okulların eğitim hizmetlerinin yürütülmesi ile ilgili olarak okul açıldığında Türk Okul Müdürü atanır. 5.1.1.3. Ülke Temsilcisinin olmadığı ve en fazla 300 öğrencinin bulunduğu yerlerde okul müdürü ülke temsilcisi tarafından Ülke Temsilcisi Vekili olarak görevlendirilebilir. 5.2.1.1. Okul müdür yardımcısının çalışma süresi ülkelerin yasal sürelerinin azami ve asgari sınırlarını aşmamak kaydıyla 40-45 saattir. 5.2.1.2. Okul müdür yardımcısı kampüs şeklindeki okullarda öğrenci sayısı 500 e ulaşıldığında Türk Okul Müdür Yardımcısı atanabilir.`}\r\n            </pre>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{ background: \"#f9fafb\", marginTop: 10 }}>\r\n            <div style={{ fontWeight: 700, marginBottom: 6 }}>5.4 – Öğretmen</div>\r\n            <pre className=\"small\" style={{ margin: 0, whiteSpace: \"pre-wrap\" }}>\r\n              {`5.4.1.1. Öğretmenin çalışma süresi ülkelerin yasal sürelerinin azami ve asgari sınırlarını aşmamak kaydıyla ortalama 40 saattir. 5.4.1.2. Bir öğretmene haftalık olarak 26 saat ders verilir. 5.4.1.3. Bir öğretmene haftalık olarak 8 saat ek ders verilir. Türkiye'den görevlendirilen öğretmenlerin haftalık ders saati 24 saat olarak belirlenmiştir. 5.4.1.4. Genel ve mesleki bilgi derslerinde bir öğretmene haftalık 26 saat ders verilir. Eğer bu branşlarda haftalık ders saati 36 saat ders çıkıyorsa 2 öğretmen istihdam edilir. Ayrıca beden eğitimi, müzik, görsel sanatlar gibi branşlarda haftalık ders saati 24 saat olarak belirlenmiştir.`}\r\n            </pre>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{ background: \"#f9fafb\", marginTop: 10 }}>\r\n            <div style={{ fontWeight: 700, marginBottom: 6 }}>6.x – Güvenlik / Temizlik</div>\r\n            <pre className=\"small\" style={{ margin: 0, whiteSpace: \"pre-wrap\" }}>\r\n              {`6.1.1. Okulun Güvenliği: Okulda 7 gün 24 saat (3 vardiya) şeklinde güvenlik personeli istihdam edilir. 6.3.1. Temizlik Personeli: Okulda hijyenin sağlanmasına yönelik yeteri kadar temizlik personeli istihdam edilir. 6.3.1.1. Okul öncesi kademesinde 50 öğrenciye 1 personel istihdamı yapılır. 6.3.1.2. İlkokul, ortaokul ve lise kademelerinde 150 öğrenciye 1 personel istihdamı yapılır.`}\r\n            </pre>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\nimport HREditorIK from \"../../components/HREditorIK\";\r\nimport TabProgressHeatmap from \"../../components/ui/TabProgressHeatmap\";\r\n\r\nfunction pctValue(tab) {\r\n  const n = Number(tab?.pct);\r\n  return Number.isFinite(n) ? n : 0;\r\n}\r\n\r\nexport default function IKPage() {\r\n  const {\r\n    inputs,\r\n    setField,\r\n    programType,\r\n    inputCurrencyCode,\r\n    dirtyPaths,\r\n    markDirty,\r\n    uiScopeKey,\r\n    handleIkSalaryComputed,\r\n    progMap,\r\n\r\n  } = useOutletContext();\r\n\r\n  if (!inputs) return null;\r\n\r\n\r\n\r\n  return (\r\n    <div style={{ marginTop: 12 }}>\r\n\r\n      <TabProgressHeatmap\r\n        pct={pctValue(progMap?.ik)}\r\n        title=\"IK / HR\"\r\n        missingLines={progMap?.ik?.missingLines}\r\n        missingPreview={progMap?.ik?.missingPreview}\r\n      >\r\n        <HREditorIK\r\n          value={inputs.ik}\r\n          kademeConfig={inputs.temelBilgiler?.kademeler}\r\n          currencyCode={inputCurrencyCode}\r\n          programType={programType}\r\n          temelBilgiler={inputs.temelBilgiler}\r\n          onChange={(v) => {\r\n            setField(\"ik\", v);\r\n          }}\r\n          onSalaryComputed={handleIkSalaryComputed}\r\n          dirtyPaths={dirtyPaths}\r\n          onDirty={markDirty}\r\n          uiScopeKey={uiScopeKey}\r\n        />\r\n      </TabProgressHeatmap>\r\n    </div>\r\n  );\r\n}\r\n","// frontend/src/components/NumberInput.jsx\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\n\r\nconst DEFAULT_LOCALE = \"tr-TR\";\r\n\r\nconst separatorsCache = new Map();\r\n\r\nfunction getSeparators(locale) {\r\n  if (separatorsCache.has(locale)) return separatorsCache.get(locale);\r\n  const parts = new Intl.NumberFormat(locale).formatToParts(1000.1);\r\n  const group = parts.find((p) => p.type === \"group\")?.value || \",\";\r\n  const decimal = parts.find((p) => p.type === \"decimal\")?.value || \".\";\r\n  const next = { group, decimal };\r\n  separatorsCache.set(locale, next);\r\n  return next;\r\n}\r\n\r\nfunction countStepDecimals(step) {\r\n  if (step == null) return 2;\r\n  const s = String(step).trim();\r\n  if (!s || s === \"any\") return 6;\r\n  const dot = s.indexOf(\".\");\r\n  if (dot === -1) return 0;\r\n  return Math.max(0, s.length - dot - 1);\r\n}\r\n\r\nfunction parseFlexibleNumber(input) {\r\n  const raw = String(input ?? \"\").trim();\r\n  if (!raw) return { value: null, empty: true };\r\n\r\n  // Remove spaces and keep only digits/separators/sign.\r\n  const cleaned = raw.replace(/\\s+/g, \"\");\r\n  const hasDot = cleaned.includes(\".\");\r\n  const hasComma = cleaned.includes(\",\");\r\n\r\n  let decimalSep = null;\r\n  let thousandSep = null;\r\n\r\n  if (hasDot && hasComma) {\r\n    const lastDot = cleaned.lastIndexOf(\".\");\r\n    const lastComma = cleaned.lastIndexOf(\",\");\r\n    decimalSep = lastDot > lastComma ? \".\" : \",\";\r\n    thousandSep = decimalSep === \".\" ? \",\" : \".\";\r\n  } else if (hasDot || hasComma) {\r\n    const sep = hasDot ? \".\" : \",\";\r\n    const count = (cleaned.match(new RegExp(`\\\\${sep}`, \"g\")) || []).length;\r\n    if (count > 1) {\r\n      thousandSep = sep;\r\n    } else {\r\n      const idx = cleaned.lastIndexOf(sep);\r\n      const digitsAfter = cleaned.length - idx - 1;\r\n      if (digitsAfter >= 1 && digitsAfter <= 2) {\r\n        decimalSep = sep;\r\n      } else {\r\n        thousandSep = sep;\r\n      }\r\n    }\r\n  }\r\n\r\n  let normalized = cleaned;\r\n  if (thousandSep) normalized = normalized.split(thousandSep).join(\"\");\r\n  if (decimalSep) normalized = normalized.replace(decimalSep, \".\");\r\n  if (!decimalSep) normalized = normalized.replace(/[.,]/g, \"\");\r\n\r\n  // Keep a single leading minus.\r\n  normalized = normalized.replace(/(?!^)-/g, \"\");\r\n  normalized = normalized.replace(/[^0-9.-]/g, \"\");\r\n\r\n  const value = Number(normalized);\r\n  if (!Number.isFinite(value)) return { value: null, empty: false };\r\n  return { value, empty: false };\r\n}\r\n\r\nexport default function NumberInput({\r\n  value,\r\n  onChange,\r\n  onBlur,\r\n  onFocus,\r\n  className,\r\n  step,\r\n  disabled,\r\n  placeholder,\r\n  title,\r\n  name,\r\n  id,\r\n  inputMode,\r\n  ...rest\r\n}) {\r\n  const decimals = useMemo(() => countStepDecimals(step), [step]);\r\n  const locale = DEFAULT_LOCALE;\r\n  const { decimal } = useMemo(() => getSeparators(locale), [locale]);\r\n\r\n  const formatter = useMemo(\r\n    () =>\r\n      new Intl.NumberFormat(locale, {\r\n        useGrouping: true,\r\n        maximumFractionDigits: decimals,\r\n      }),\r\n    [locale, decimals]\r\n  );\r\n\r\n  const rawFormatter = useMemo(\r\n    () =>\r\n      new Intl.NumberFormat(locale, {\r\n        useGrouping: false,\r\n        maximumFractionDigits: decimals,\r\n      }),\r\n    [locale, decimals]\r\n  );\r\n\r\n  const [editing, setEditing] = useState(false);\r\n  const [draft, setDraft] = useState(\"\");\r\n\r\n  const numericValue = Number(value);\r\n  const hasValue = value !== \"\" && value != null && Number.isFinite(numericValue);\r\n\r\n  useEffect(() => {\r\n    if (editing) return;\r\n    if (!hasValue) {\r\n      setDraft(\"\");\r\n      return;\r\n    }\r\n    setDraft(formatter.format(numericValue));\r\n  }, [editing, formatter, hasValue, numericValue]);\r\n\r\n  const handleFocus = (event) => {\r\n    setEditing(true);\r\n    if (hasValue) {\r\n      setDraft(rawFormatter.format(numericValue));\r\n    } else {\r\n      setDraft(\"\");\r\n    }\r\n    onFocus?.(event);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const next = event.target.value;\r\n    setDraft(next);\r\n\r\n    const parsed = parseFlexibleNumber(next);\r\n    if (parsed.empty) {\r\n      onChange?.(\"\");\r\n      return;\r\n    }\r\n    if (parsed.value == null) return;\r\n    onChange?.(parsed.value);\r\n  };\r\n\r\n  const handleBlur = (event) => {\r\n    setEditing(false);\r\n\r\n    const parsed = parseFlexibleNumber(draft);\r\n    if (parsed.empty) {\r\n      setDraft(\"\");\r\n      onChange?.(\"\");\r\n      onBlur?.(event);\r\n      return;\r\n    }\r\n    if (parsed.value != null) {\r\n      const rounded = Number(parsed.value);\r\n      setDraft(formatter.format(rounded));\r\n      onChange?.(rounded);\r\n    }\r\n    onBlur?.(event);\r\n  };\r\n\r\n  return (\r\n    <input\r\n      {...rest}\r\n      id={id}\r\n      name={name}\r\n      className={className}\r\n      value={editing ? draft : draft || \"\"}\r\n      onChange={handleChange}\r\n      onFocus={handleFocus}\r\n      onBlur={handleBlur}\r\n      disabled={disabled}\r\n      placeholder={placeholder}\r\n      title={title}\r\n      inputMode={inputMode || \"decimal\"}\r\n      autoComplete=\"off\"\r\n      aria-invalid={rest[\"aria-invalid\"]}\r\n      data-decimal-separator={decimal}\r\n    />\r\n  );\r\n}\r\n","const GRADES = [\"KG\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"];\r\n\r\nconst KADEME_DEFS = [\r\n  { key: \"okulOncesi\", label: \"Okul Öncesi\", defaultFrom: \"KG\", defaultTo: \"KG\" },\r\n  { key: \"ilkokul\", label: \"İlkokul\", defaultFrom: \"1\", defaultTo: \"5\" },\r\n  { key: \"ortaokul\", label: \"Ortaokul\", defaultFrom: \"6\", defaultTo: \"9\" },\r\n  { key: \"lise\", label: \"Lise\", defaultFrom: \"10\", defaultTo: \"12\" },\r\n];\r\n\r\nfunction normalizeGrade(value) {\r\n  const v = String(value || \"\").trim().toUpperCase();\r\n  if (v === \"KG\") return \"KG\";\r\n  if (!/^\\d{1,2}$/.test(v)) return null;\r\n  const n = Number(v);\r\n  if (!Number.isFinite(n) || n < 1 || n > 12) return null;\r\n  return String(n);\r\n}\r\n\r\nfunction gradeIndex(value) {\r\n  const g = normalizeGrade(value);\r\n  if (!g) return -1;\r\n  return GRADES.indexOf(g);\r\n}\r\n\r\nfunction normalizeRange(fromValue, toValue, def) {\r\n  const from = normalizeGrade(fromValue) ?? def.defaultFrom;\r\n  const to = normalizeGrade(toValue) ?? def.defaultTo;\r\n  const fromIdx = gradeIndex(from);\r\n  const toIdx = gradeIndex(to);\r\n  if (fromIdx < 0 || toIdx < 0) return { from: def.defaultFrom, to: def.defaultTo };\r\n  if (fromIdx <= toIdx) return { from, to };\r\n  return { from: to, to: from };\r\n}\r\n\r\nexport function getKademeDefinitions() {\r\n  return KADEME_DEFS.map((d) => ({ ...d }));\r\n}\r\n\r\nexport function getDefaultKademeConfig() {\r\n  const out = {};\r\n  KADEME_DEFS.forEach((d) => {\r\n    out[d.key] = { enabled: true, from: d.defaultFrom, to: d.defaultTo };\r\n  });\r\n  return out;\r\n}\r\n\r\nexport function normalizeKademeConfig(config) {\r\n  const cfg = config && typeof config === \"object\" ? config : {};\r\n  const out = {};\r\n  KADEME_DEFS.forEach((d) => {\r\n    const row = cfg[d.key] && typeof cfg[d.key] === \"object\" ? cfg[d.key] : {};\r\n    const enabled = row.enabled !== false;\r\n    const range = normalizeRange(row.from, row.to, d);\r\n    out[d.key] = { enabled, ...range };\r\n  });\r\n  return out;\r\n}\r\n\r\nexport function getKademeRangeLabel(config, key) {\r\n  const def = KADEME_DEFS.find((d) => d.key === key);\r\n  if (!def) return \"\";\r\n  const cfg = normalizeKademeConfig(config)[key];\r\n  if (!cfg?.enabled) return \"\";\r\n  return cfg.from === cfg.to ? cfg.from : `${cfg.from}-${cfg.to}`;\r\n}\r\n\r\nexport function formatKademeLabel(label, config, key) {\r\n  const range = getKademeRangeLabel(config, key);\r\n  if (!range) return label;\r\n  return `${label} (${range})`;\r\n}\r\n\r\nexport function getKademeForGrade(grade, config) {\r\n  const idx = gradeIndex(grade);\r\n  if (idx < 0) return null;\r\n  const cfg = normalizeKademeConfig(config);\r\n  for (const def of KADEME_DEFS) {\r\n    const row = cfg[def.key];\r\n    if (!row?.enabled) continue;\r\n    const fromIdx = gradeIndex(row.from);\r\n    const toIdx = gradeIndex(row.to);\r\n    if (fromIdx <= idx && idx <= toIdx) return def.key;\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function summarizeGradesByKademe(grades, config) {\r\n  const rows = Array.isArray(grades) ? grades : [];\r\n  const out = { okulOncesi: 0, ilkokul: 0, ortaokul: 0, lise: 0, total: 0 };\r\n\r\n  for (const r of rows) {\r\n    // studentsPerBranch now represents TOTAL students for the grade (not per-branch).\r\n    const students = Number(r?.studentsPerBranch || 0);\r\n    if (!Number.isFinite(students)) continue;\r\n    out.total += students;\r\n    const key = getKademeForGrade(r?.grade, config);\r\n    if (key && Object.prototype.hasOwnProperty.call(out, key)) out[key] += students;\r\n  }\r\n\r\n  return out;\r\n}\r\n\r\nexport function getGradeOptions() {\r\n  return GRADES.map((g) => g);\r\n}\r\n","import React from \"react\";\r\nimport { FaInfoCircle } from \"react-icons/fa\";\r\n\r\nfunction clampPct(value) {\r\n  const n = Number(value);\r\n  if (!Number.isFinite(n)) return 0;\r\n  return Math.max(0, Math.min(100, n));\r\n}\r\n\r\nfunction buildTitle({ pct, title, missingPreview, missingLines }) {\r\n  const lines = Array.isArray(missingLines)\r\n    ? missingLines.map((line) => String(line)).filter(Boolean).slice(0, 15)\r\n    : [];\r\n  if (lines.length) return lines.join(\"\\n\");\r\n  if (missingPreview) return String(missingPreview);\r\n  if (title) return `${title}: ${pct}%`;\r\n  return `${pct}%`;\r\n}\r\n\r\nexport default function TabProgressHeatmap({\r\n  pct = 0,\r\n  title = \"\",\r\n  missingPreview = \"\",\r\n  missingLines = [],\r\n  children,\r\n}) {\r\n  const clamped = clampPct(pct);\r\n  const mask = `linear-gradient(90deg, #000 0%, #000 ${clamped}%, transparent ${clamped}%, transparent 100%)`;\r\n  const tooltipText = buildTitle({\r\n    pct: Math.round(clamped),\r\n    title,\r\n    missingPreview,\r\n    missingLines,\r\n  });\r\n  const showInfo = clamped < 100;\r\n\r\n  return (\r\n    <div style={{ position: \"relative\", overflow: \"hidden\", borderRadius: 12 }}>\r\n      <div\r\n        aria-hidden=\"true\"\r\n        style={{\r\n          position: \"absolute\",\r\n          inset: 0,\r\n          pointerEvents: \"none\",\r\n          zIndex: 0,\r\n          backgroundImage:\r\n            \"linear-gradient(90deg, rgba(16,185,129, 0.05) 0%, rgba(16,185,129, 0.10) 30%, rgba(16,185,129, 0.16) 70%, rgba(16,185,129, 0.10) 100%), radial-gradient(circle at 20% 45%, rgba(16,185,129, 0.14) 0%, rgba(16,185,129, 0.00) 65%)\",\r\n          WebkitMaskImage: mask,\r\n          maskImage: mask,\r\n        }}\r\n      />\r\n\r\n      {showInfo ? (\r\n        <button\r\n          type=\"button\"\r\n          title={tooltipText}\r\n          aria-label=\"Progress details\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 12,\r\n            right: 12,\r\n            zIndex: 20,\r\n            width: 26,\r\n            height: 26,\r\n            borderRadius: 999,\r\n            border: \"1px solid rgba(15, 23, 42, 0.15)\",\r\n            background: \"rgba(255, 255, 255, 0.9)\",\r\n            color: \"#0f172a\",\r\n            display: \"inline-flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            cursor: \"help\",\r\n            boxShadow: \"0 6px 16px rgba(15, 23, 42, 0.08)\",\r\n          }}\r\n        >\r\n          <FaInfoCircle size={12} />\r\n        </button>\r\n      ) : null}\r\n\r\n      <div style={{ position: \"relative\", zIndex: 1 }}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","const PROGRAM_TYPES = {\r\n  LOCAL: \"local\",\r\n  INTERNATIONAL: \"international\",\r\n};\r\n\r\nconst ALLOWED_PROGRAM_TYPES = new Set(Object.values(PROGRAM_TYPES));\r\n\r\nfunction normalizeProgramType(value) {\r\n  const raw = String(value || \"\").trim().toLowerCase();\r\n  if (ALLOWED_PROGRAM_TYPES.has(raw)) return raw;\r\n  return PROGRAM_TYPES.LOCAL;\r\n}\r\n\r\nfunction getProgramType(inputs = {}, scenario = null) {\r\n  const programFromInputs =\r\n    inputs?.temelBilgiler?.programType ?? inputs?.programType ?? inputs?.program_type;\r\n  if (programFromInputs) {\r\n    return normalizeProgramType(programFromInputs);\r\n  }\r\n  const programFromScenario = scenario?.program_type || scenario?.programType;\r\n  if (programFromScenario) return normalizeProgramType(programFromScenario);\r\n  return PROGRAM_TYPES.LOCAL;\r\n}\r\n\r\nfunction isKademeKeyVisible(key, programType = PROGRAM_TYPES.LOCAL) {\r\n  const type = normalizeProgramType(programType);\r\n  if (!key) return true;\r\n  if (key === \"okulOncesi\") return true;\r\n  if (key.endsWith(\"Yerel\")) return type === PROGRAM_TYPES.LOCAL;\r\n  if (key.endsWith(\"Int\")) return type === PROGRAM_TYPES.INTERNATIONAL;\r\n  return true;\r\n}\r\n\r\nfunction mapBaseKademeToVariant(baseKademe, programType = PROGRAM_TYPES.LOCAL) {\r\n  const type = normalizeProgramType(programType);\r\n  if (baseKademe === \"okulOncesi\") return \"okulOncesi\";\r\n  const suffix = type === PROGRAM_TYPES.INTERNATIONAL ? \"Int\" : \"Yerel\";\r\n  return `${baseKademe}${suffix}`;\r\n}\r\n\r\nfunction getVariantKeysForProgramType(programType = PROGRAM_TYPES.LOCAL) {\r\n  const type = normalizeProgramType(programType);\r\n  return new Set([\r\n    \"okulOncesi\",\r\n    `ilkokul${type === PROGRAM_TYPES.INTERNATIONAL ? \"Int\" : \"Yerel\"}`,\r\n    `ortaokul${type === PROGRAM_TYPES.INTERNATIONAL ? \"Int\" : \"Yerel\"}`,\r\n    `lise${type === PROGRAM_TYPES.INTERNATIONAL ? \"Int\" : \"Yerel\"}`,\r\n  ]);\r\n}\r\n\r\nexport {\r\n  PROGRAM_TYPES,\r\n  ALLOWED_PROGRAM_TYPES,\r\n  getProgramType,\r\n  normalizeProgramType,\r\n  isKademeKeyVisible,\r\n  mapBaseKademeToVariant,\r\n  getVariantKeysForProgramType,\r\n};\r\n"],"names":["DEFAULT_PREFIX","safeRead","key","fallback","raw","window","localStorage","getItem","JSON","parse","_unused","useScenarioUiState","name","defaultValue","prefix","scope","arguments","length","undefined","scopeKey","scopeOverride","loc","useLocation","useMemo","trim","pathname","search","useScenarioScopeKey","storageKey","concat","loadedKeyRef","useRef","state","setState","useState","useEffect","current","value","setItem","stringify","_unused2","safeWrite","useScenarioUiFlag","opts","v","setV","next","useScenarioUiString","String","toNum","n","Number","isFinite","fmtMoney","toLocaleString","maximumFractionDigits","YEARS","label","LEVEL_DEFS","baseLabel","kademeKey","suffix","ROLE_GROUPS","groupKey","groupLabel","roles","ALL_ROLES","flatMap","g","ROLE_META","out","forEach","group","groupIndex","role","roleIndex","groupLen","isGroupEnd","groupDividerClass","cellDividerClass","roleKey","meta","deepMerge","target","source","t","_objectSpread","s","k","Object","keys","sv","Array","isArray","defaultYearIK","unitCosts","headcountsByLevel","r","lvl","buildIK","base","unitCostRatio","years","y1","y2","y3","normalizeUnitCostRatio","applyUnitCostGrowth","input","ratioValue","inflFactors","ratio","factors","structuredClone","_next$years$y1$unitCo","_factors$y","_factors$y2","useInflation","computeYear","yearIK","roleTotals","roleAnnualCosts","roleMonthlyUnitCosts","roleMonthlyPerPersonAvg","_yearIK$unitCosts","totalCount","_yearIK$headcountsByL","_yearIK$headcountsByL2","unit","annual","totalAnnual","values","reduce","totalHeadcount","sumAnnual","salaryExpenseMapping","turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas","totals","HREditorIK","_ref","kademeConfig","onChange","onSalaryComputed","currencyCode","programType","temelBilgiler","dirtyPaths","onDirty","uiScopeKey","showRules","setShowRules","isCondensed","setIsCondensed","ik","inflationFactors","infl","inflation","getInflationFactors","kademeler","normalizeKademeConfig","noKademeMode","every","_kademeler$k","enabled","levels","map","formatKademeLabel","visibleLevels","hq","find","filter","_kademeler$lvl$kademe","isKademeKeyVisible","_input$years","_input$years$y","_input$years2","_input$years2$y","_input$years3","_input$years3$y","_factors$y3","_factors$y4","expY2","expY3","Math","abs","areUnitCostsSynced","unitCostPath","yearKey","unitCostRatioPath","headcountPath","levelKey","dirtyClass","path","has","isDirty","computedByYear","y","_ik$years","salaryMappingByYear","_computedByYear$y$key","_jsxs","className","children","_jsx","style","fontWeight","textAlign","marginTop","NumberInput","min","step","setUnitCostRatio","marginLeft","type","onClick","color","rowSpan","colSpan","_ik$years2","_ik$years2$y$key","_ik$years2$y$key$unit","_ik$years3","_ik$years3$y$key","_ik$years3$y$key$unit","title","setUnitCost","nextValue","withGrowth","_ik$years4","_ik$years4$y$key","_ik$years4$y$key$head","_ik$years4$y$key$head2","setHeadcount","max","trunc","_computedByYear$y$key2","_computedByYear$y$key3","_computedByYear$y$key4","_computedByYear$y$key5","_computedByYear$y$key6","_computedByYear$y$key7","_computedByYear$y$key8","_computedByYear$y$key9","_computedByYear$y$key0","_computedByYear$y$key1","fontFamily","_salaryMappingByYear$","justifyContent","background","marginBottom","margin","whiteSpace","pctValue","tab","pct","IKPage","_progMap$ik","_progMap$ik2","_inputs$temelBilgiler","inputs","setField","inputCurrencyCode","markDirty","handleIkSalaryComputed","progMap","useOutletContext","TabProgressHeatmap","missingLines","missingPreview","separatorsCache","Map","parseFlexibleNumber","empty","cleaned","replace","hasDot","includes","hasComma","decimalSep","thousandSep","lastIndexOf","sep","match","RegExp","idx","digitsAfter","normalized","split","join","onBlur","onFocus","disabled","placeholder","id","inputMode","rest","_objectWithoutProperties","_excluded","decimals","dot","indexOf","countStepDecimals","locale","decimal","_parts$find","_parts$find2","get","parts","Intl","NumberFormat","formatToParts","p","set","getSeparators","formatter","useGrouping","rawFormatter","editing","setEditing","draft","setDraft","numericValue","hasValue","format","event","parsed","rounded","autoComplete","GRADES","KADEME_DEFS","defaultFrom","defaultTo","normalizeGrade","toUpperCase","test","gradeIndex","getKademeDefinitions","d","getDefaultKademeConfig","from","to","config","cfg","row","range","fromValue","toValue","def","_normalizeGrade","_normalizeGrade2","fromIdx","toIdx","normalizeRange","getKademeRangeLabel","getKademeForGrade","grade","summarizeGradesByKademe","grades","rows","okulOncesi","ilkokul","ortaokul","lise","total","students","studentsPerBranch","prototype","hasOwnProperty","call","getGradeOptions","_ref2","clamped","clampPct","mask","tooltipText","lines","line","Boolean","slice","buildTitle","round","showInfo","position","overflow","borderRadius","inset","pointerEvents","zIndex","backgroundImage","WebkitMaskImage","maskImage","top","right","width","height","border","display","alignItems","cursor","boxShadow","FaInfoCircle","size","PROGRAM_TYPES","LOCAL","INTERNATIONAL","ALLOWED_PROGRAM_TYPES","Set","normalizeProgramType","toLowerCase","getProgramType","_inputs$temelBilgiler2","scenario","programFromInputs","program_type","programFromScenario","endsWith","mapBaseKademeToVariant","baseKademe"],"ignoreList":[],"sourceRoot":""}