/*! For license information please see main.75c0cf3c.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var i=n(853),r=n(43),a=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(l(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case w:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case y:return"Portal";case k:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var L=Array.isArray,R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},D=[],I=-1;function B(e){return{current:e}}function z(e){0>I||(e.current=D[I],D[I]=null,I--)}function U(e,t){I++,D[I]=e.current,e.current=t}var Y,K,W=B(null),H=B(null),V=B(null),G=B(null);function q(e,t){switch(U(V,t),U(H,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=gd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(W),U(W,e)}function $(){z(W),z(H),z(V)}function X(e){null!==e.memoizedState&&U(G,e);var t=W.current,n=gd(t,e.type);t!==n&&(U(H,e),U(W,n))}function Q(e){H.current===e&&(z(W),z(H)),G.current===e&&(z(G),um._currentValue=F)}function Z(e){if(void 0===Y)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Y=t&&t[1]||"",K=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Y+e+K}var J=!1;function ee(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){i=a}e.call(n.prototype)}}else{try{throw Error()}catch(l){i=l}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&i&&"string"===typeof s.stack)return[s.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),l=a[0],s=a[1];if(l&&s){var o=l.split("\n"),c=s.split("\n");for(r=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===o.length||r===c.length)for(i=o.length-1,r=c.length-1;1<=i&&0<=r&&o[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(o[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||o[i]!==c[r]){var u="\n"+o[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Z(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(i){return"\nError generating stack: "+i.message+"\n"+i.stack}}var ie=Object.prototype.hasOwnProperty,re=i.unstable_scheduleCallback,ae=i.unstable_cancelCallback,le=i.unstable_shouldYield,se=i.unstable_requestPaint,oe=i.unstable_now,ce=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,de=i.unstable_UserBlockingPriority,me=i.unstable_NormalPriority,he=i.unstable_LowPriority,pe=i.unstable_IdlePriority,fe=i.log,ye=i.unstable_setDisableYieldValue,ve=null,ge=null;function be(e){if("function"===typeof fe&&ye(e),ge&&"function"===typeof ge.setStrictMode)try{ge.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ke(e)/je|0)|0},ke=Math.log,je=Math.LN2;var Se=256,we=262144,Ne=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var s=134217727&i;return 0!==s?0!==(i=s&~a)?r=Ce(i):0!==(l&=s)?r=Ce(l):n||0!==(n=s&~e)&&(r=Ce(n)):0!==(s=i&~a)?r=Ce(s):0!==l?r=Ce(l):n||0!==(n=i&~e)&&(r=Ce(n)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:r}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=Ne;return 0===(62914560&(Ne<<=1))&&(Ne=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Fe(n))&(e.suspendedLanes|t))?0:n}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Cm(e.type)}function Be(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var ze=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ze,Ye="__reactProps$"+ze,Ke="__reactContainer$"+ze,We="__reactEvents$"+ze,He="__reactListeners$"+ze,Ve="__reactHandles$"+ze,Ge="__reactResources$"+ze,qe="__reactMarker$"+ze;function $e(e){delete e[Ue],delete e[Ye],delete e[We],delete e[He],delete e[Ve]}function Xe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ke]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fd(e);null!==e;){if(n=e[Ue])return n;e=Fd(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ue]||e[Ke]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Je(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[qe]=!0}var tt=new Set,nt={};function it(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},st={};function ot(e,t,n){if(r=t,ie.call(st,r)||!ie.call(lt,r)&&(at.test(r)?st[r]=!0:(lt[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=mt(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var yt=/[\n"\\]/g;function vt(e){return e.replace(yt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,i,r,a,l,s){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?xt(e,l,dt(t)):null!=n?xt(e,l,dt(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,i,r,a,l,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=s?e.checked:!!i,e.defaultChecked=!!i,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l),ht(e)}function xt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function jt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(l(92));if(L(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),ht(e)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Ct(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mt(){}var Lt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Ft=null;function Dt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Ye]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ye]||null;if(!r)throw Error(l(90));gt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&pt(i)}break e;case"textarea":jt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var It=!1;function Bt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==Ot||null!==Ft)&&(Jc(),Ot&&(t=Ot,e=Ft,Ft=Ot=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Ye]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Yt=!1;if(Ut)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Yt=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch(Qm){Yt=!1}var Wt=null,Ht=null,Vt=null;function Gt(){if(Vt)return Vt;var e,t,n=Ht,i=n.length,r="value"in Wt?Wt.value:Wt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var l=i-e;for(t=1;t<=l&&n[i-t]===r[a-t];t++);return Vt=r.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Xt(){return!1}function Qt(e){function t(t,n,i,r,a){for(var l in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?$t:Xt,this.isPropagationStopped=Xt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Zt,Jt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=h({},tn,{view:0,detail:0}),an=Qt(rn),ln=h({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Zt=e.screenX-en.screenX,Jt=e.screenY-en.screenY):Jt=Zt=0,en=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),sn=Qt(ln),on=Qt(h({},ln,{dataTransfer:0})),cn=Qt(h({},rn,{relatedTarget:0})),un=Qt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Qt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),mn=Qt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function vn(){return yn}var gn=Qt(h({},rn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(h({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Qt(h({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),kn=Qt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=Qt(h({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Qt(h({},tn,{newState:0,oldState:0})),wn=[9,13,27,32],Nn=Ut&&"CompositionEvent"in window,Cn=null;Ut&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Ut&&"TextEvent"in window&&!Cn,En=Ut&&(!Nn||Cn&&8<Cn&&11>=Cn),An=String.fromCharCode(32),_n=!1;function Pn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Fn(e,t,n,i){Ot?Ft?Ft.push(i):Ft=[i]:Ot=i,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Dn=null,In=null;function Bn(e){$u(e,0)}function zn(e){if(pt(Ze(e)))return e}function Un(e,t){if("change"===e)return t}var Yn=!1;if(Ut){var Kn;if(Ut){var Wn="oninput"in document;if(!Wn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Wn="function"===typeof Hn.oninput}Kn=Wn}else Kn=!1;Yn=Kn&&(!document.documentMode||9<document.documentMode)}function Vn(){Dn&&(Dn.detachEvent("onpropertychange",Gn),In=Dn=null)}function Gn(e){if("value"===e.propertyName&&zn(In)){var t=[];Fn(t,In,e,Rt(e)),Bt(Bn,t)}}function qn(e,t,n){"focusin"===e?(Vn(),In=n,(Dn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Vn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(In)}function Xn(e,t){if("click"===e)return zn(t)}function Qn(e,t){if("input"===e||"change"===e)return zn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ie.call(t,r)||!Zn(e[r],t[r]))return!1}return!0}function ei(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ti(e,t){var n,i=ei(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ei(i)}}function ni(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ni(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ii(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ai=Ut&&"documentMode"in document&&11>=document.documentMode,li=null,si=null,oi=null,ci=!1;function ui(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ci||null==li||li!==ft(i)||("selectionStart"in(i=li)&&ri(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},oi&&Jn(oi,i)||(oi=i,0<(i=id(si,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=li)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},hi={},pi={};function fi(e){if(hi[e])return hi[e];if(!mi[e])return e;var t,n=mi[e];for(t in n)if(n.hasOwnProperty(t)&&t in pi)return hi[e]=n[t];return e}Ut&&(pi=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);var yi=fi("animationend"),vi=fi("animationiteration"),gi=fi("animationstart"),bi=fi("transitionrun"),xi=fi("transitionstart"),ki=fi("transitioncancel"),ji=fi("transitionend"),Si=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){Si.set(e,t),it(t,[e])}wi.push("scrollEnd");var Ci="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ti=[],Ei=0,Ai=0;function _i(){for(var e=Ei,t=Ai=Ei=0;t<e;){var n=Ti[t];Ti[t++]=null;var i=Ti[t];Ti[t++]=null;var r=Ti[t];Ti[t++]=null;var a=Ti[t];if(Ti[t++]=null,null!==i&&null!==r){var l=i.pending;null===l?r.next=r:(r.next=l.next,l.next=r),i.pending=r}0!==a&&Ri(n,r,a)}}function Pi(e,t,n,i){Ti[Ei++]=e,Ti[Ei++]=t,Ti[Ei++]=n,Ti[Ei++]=i,Ai|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Mi(e,t,n,i){return Pi(e,t,n,i),Oi(e)}function Li(e,t){return Pi(e,null,null,t),Oi(e)}function Ri(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-xe(n),null===(i=(e=a.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),a):null}function Oi(e){if(50<Wc)throw Wc=0,Hc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fi={};function Di(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,t,n,i){return new Di(e,t,n,i)}function Bi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zi(e,t){var n=e.alternate;return null===n?((n=Ii(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ui(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yi(e,t,n,i,r,a){var s=0;if(i=e,"function"===typeof e)Bi(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Ii(31,n,t,r)).elementType=T,e.lanes=a,e;case v:return Ki(n.children,r,a,t);case g:s=8,r|=24;break;case b:return(e=Ii(12,n,t,2|r)).elementType=b,e.lanes=a,e;case S:return(e=Ii(13,n,t,r)).elementType=S,e.lanes=a,e;case w:return(e=Ii(19,n,t,r)).elementType=w,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case x:s=9;break e;case j:s=11;break e;case N:s=14;break e;case C:s=16,i=null;break e}s=29,n=Error(l(130,null===e?"null":typeof e,"")),i=null}return(t=Ii(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Ki(e,t,n,i){return(e=Ii(7,e,i,t)).lanes=n,e}function Wi(e,t,n){return(e=Ii(6,e,null,t)).lanes=n,e}function Hi(e){var t=Ii(18,null,null,0);return t.stateNode=e,t}function Vi(e,t,n){return(t=Ii(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gi=new WeakMap;function qi(e,t){if("object"===typeof e&&null!==e){var n=Gi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gi.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var $i=[],Xi=0,Qi=null,Zi=0,Ji=[],er=0,tr=null,nr=1,ir="";function rr(e,t){$i[Xi++]=Zi,$i[Xi++]=Qi,Qi=e,Zi=t}function ar(e,t,n){Ji[er++]=nr,Ji[er++]=ir,Ji[er++]=tr,tr=e;var i=nr;e=ir;var r=32-xe(i)-1;i&=~(1<<r),n+=1;var a=32-xe(t)+r;if(30<a){var l=r-r%5;a=(i&(1<<l)-1).toString(32),i>>=l,r-=l,nr=1<<32-xe(t)+r|n<<r|i,ir=a+e}else nr=1<<a|n<<r|i,ir=e}function lr(e){null!==e.return&&(rr(e,1),ar(e,1,0))}function sr(e){for(;e===Qi;)Qi=$i[--Xi],$i[Xi]=null,Zi=$i[--Xi],$i[Xi]=null;for(;e===tr;)tr=Ji[--er],Ji[er]=null,ir=Ji[--er],Ji[er]=null,nr=Ji[--er],Ji[er]=null}function or(e,t){Ji[er++]=nr,Ji[er++]=ir,Ji[er++]=tr,nr=t.id,ir=t.overflow,tr=e}var cr=null,ur=null,dr=!1,mr=null,hr=!1,pr=Error(l(519));function fr(e){throw kr(qi(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pr}function yr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ue]=e,t[Ye]=i,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Xu(Gu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),bt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),St(t,i.value,i.defaultValue,i.children)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||cd(t.textContent,n)?(null!=i.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=i.onScroll&&Xu("scroll",t),null!=i.onScrollEnd&&Xu("scrollend",t),null!=i.onClick&&(t.onclick=Mt),t=!0):t=!1,t||fr(e,!0)}function vr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(hr=!1);case 27:case 3:return void(hr=!0);default:cr=cr.return}}function gr(e){if(e!==cr)return!1;if(!dr)return vr(e),dr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ur&&fr(e),vr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));ur=Od(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));ur=Od(e)}else 27===n?(n=ur,Cd(e.type)?(e=Rd,Rd=null,ur=e):ur=n):ur=cr?Ld(e.stateNode.nextSibling):null;return!0}function br(){ur=cr=null,dr=!1}function xr(){var e=mr;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),mr=null),e}function kr(e){null===mr?mr=[e]:mr.push(e)}var jr=B(null),Sr=null,wr=null;function Nr(e,t,n){U(jr,t._currentValue),t._currentValue=n}function Cr(e){e._currentValue=jr.current,z(jr)}function Tr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Er(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var s=r.child;a=a.firstContext;e:for(;null!==a;){var o=a;a=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Tr(a.return,n,e),i||(s=null);break e}a=o.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(l(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Tr(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function Ar(e,t,n,i){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(l(387));if(null!==(s=s.memoizedProps)){var o=r.type;Zn(r.pendingProps.value,s.value)||(null!==e?e.push(o):e=[o])}}else if(r===G.current){if(null===(s=r.alternate))throw Error(l(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(um):e=[um])}r=r.return}null!==e&&Er(t,e,n,i),t.flags|=262144}function _r(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){Sr=e,wr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Mr(e){return Rr(Sr,e)}function Lr(e,t){return null===Sr&&Pr(e),Rr(e,t)}function Rr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wr){if(null===e)throw Error(l(308));wr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wr=wr.next=t;return n}var Or="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fr=i.unstable_scheduleCallback,Dr=i.unstable_NormalPriority,Ir={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Br(){return{controller:new Or,data:new Map,refCount:0}}function zr(e){e.refCount--,0===e.refCount&&Fr(Dr,function(){e.controller.abort()})}var Ur=null,Yr=0,Kr=0,Wr=null;function Hr(){if(0===--Yr&&null!==Ur){null!==Wr&&(Wr.status="fulfilled");var e=Ur;Ur=null,Kr=0,Wr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=R.S;R.S=function(e,t){Lc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ur){var n=Ur=[];Yr=0,Kr=Yu(),Wr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Yr++,t.then(Hr,Hr)}(0,t),null!==Vr&&Vr(e,t)};var Gr=B(null);function qr(){var e=Gr.current;return null!==e?e:pc.pooledCache}function $r(e,t){U(Gr,null===t?Gr.current:t.pool)}function Xr(){var e=qr();return null===e?null:{parent:Ir._currentValue,pool:e}}var Qr=Error(l(460)),Zr=Error(l(474)),Jr=Error(l(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Mt,Mt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw la(e=t.reason),e;default:if("string"===typeof t.status)t.then(Mt,Mt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw la(e=t.reason),e}throw ra=t,Qr}}function ia(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ra=t,Qr;throw t}}var ra=null;function aa(){if(null===ra)throw Error(l(459));var e=ra;return ra=null,e}function la(e){if(e===Qr||e===Jr)throw Error(l(483))}var sa=null,oa=0;function ca(e){var t=oa;return oa+=1,null===sa&&(sa=[]),na(sa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===p)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ma(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=zi(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,i){return null===t||6!==t.tag?((t=Wi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===v?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&ia(a)===t.type)?(ua(t=r(t,n.props),n),t.return=e,t):(ua(t=Yi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=Ki(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ua(n=Yi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case y:return(t=Vi(t,e.mode,n)).return=e,t;case C:return m(e,t=ia(t),n)}if(L(t)||_(t))return(t=Ki(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,ca(t),n);if(t.$$typeof===k)return m(e,Lr(e,t),n);da(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:o(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,i):null;case y:return n.key===r?u(e,t,n,i):null;case C:return h(e,t,n=ia(n),i)}if(L(n)||_(n))return null!==r?null:d(e,t,n,i,null);if("function"===typeof n.then)return h(e,t,ca(n),i);if(n.$$typeof===k)return h(e,t,Lr(e,n),i);da(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return o(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case f:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case y:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case C:return p(e,t,n,i=ia(i),r)}if(L(i)||_(i))return d(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return p(e,t,n,ca(i),r);if(i.$$typeof===k)return p(e,t,n,Lr(t,i),r);da(t,i)}return null}function g(o,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(o,c.sibling),(d=r(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ia(b)===c.type){n(o,c.sibling),ua(d=r(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===v?((d=Ki(u.props.children,o.mode,d,u.key)).return=o,o=d):(ua(d=Yi(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return s(o);case y:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=r(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Vi(u,o.mode,d)).return=o,o=d}return s(o);case C:return g(o,c,u=ia(u),d)}if(L(u))return function(r,l,s,o){for(var c=null,u=null,d=l,f=l=0,y=null;null!==d&&f<s.length;f++){d.index>f?(y=d,d=null):y=d.sibling;var v=h(r,d,s[f],o);if(null===v){null===d&&(d=y);break}e&&d&&null===v.alternate&&t(r,d),l=a(v,l,f),null===u?c=v:u.sibling=v,u=v,d=y}if(f===s.length)return n(r,d),dr&&rr(r,f),c;if(null===d){for(;f<s.length;f++)null!==(d=m(r,s[f],o))&&(l=a(d,l,f),null===u?c=d:u.sibling=d,u=d);return dr&&rr(r,f),c}for(d=i(d);f<s.length;f++)null!==(y=p(d,r,f,s[f],o))&&(e&&null!==y.alternate&&d.delete(null===y.key?f:y.key),l=a(y,l,f),null===u?c=y:u.sibling=y,u=y);return e&&d.forEach(function(e){return t(r,e)}),dr&&rr(r,f),c}(o,c,u,d);if(_(u)){if("function"!==typeof(b=_(u)))throw Error(l(150));return function(r,s,o,c){if(null==o)throw Error(l(151));for(var u=null,d=null,f=s,y=s=0,v=null,g=o.next();null!==f&&!g.done;y++,g=o.next()){f.index>y?(v=f,f=null):v=f.sibling;var b=h(r,f,g.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(r,f),s=a(b,s,y),null===d?u=b:d.sibling=b,d=b,f=v}if(g.done)return n(r,f),dr&&rr(r,y),u;if(null===f){for(;!g.done;y++,g=o.next())null!==(g=m(r,g.value,c))&&(s=a(g,s,y),null===d?u=g:d.sibling=g,d=g);return dr&&rr(r,y),u}for(f=i(f);!g.done;y++,g=o.next())null!==(g=p(f,r,y,g.value,c))&&(e&&null!==g.alternate&&f.delete(null===g.key?y:g.key),s=a(g,s,y),null===d?u=g:d.sibling=g,d=g);return e&&f.forEach(function(e){return t(r,e)}),dr&&rr(r,y),u}(o,c,u=b.call(u),d)}if("function"===typeof u.then)return g(o,c,ca(u),d);if(u.$$typeof===k)return g(o,c,Lr(o,u),d);da(o,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=r(c,u)).return=o,o=d):(n(o,c),(d=Wi(u,o.mode,d)).return=o,o=d),s(o)):n(o,c)}return function(e,t,n,i){try{oa=0;var r=g(e,t,n,i);return sa=null,r}catch(l){if(l===Qr||l===Jr)throw l;var a=Ii(29,l,null,e.mode);return a.lanes=i,a.return=e,a}}}var ha=ma(!0),pa=ma(!1),fa=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&hc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Oi(e),Ri(e,null,n),t}return Pi(e,i,t,n),Oi(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Re(e,n)}}function ka(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ja=!1;function Sa(){if(ja){if(null!==Wr)throw Wr}}function wa(e,t,n,i){ja=!1;var r=e.updateQueue;fa=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var o=s,c=o.next;o.next=null,null===l?a=c:l.next=c,l=o;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=o))}if(null!==a){var d=r.baseState;for(l=0,u=c=o=null,s=a;;){var m=-536870913&s.lane,p=m!==s.lane;if(p?(yc&m)===m:(i&m)===m){0!==m&&m===Kr&&(ja=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,y=s;m=t;var v=n;switch(y.tag){case 1:if("function"===typeof(f=y.payload)){d=f.call(v,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=y.payload)?f.call(v,d,m):f)||void 0===m)break e;d=h({},d,m);break e;case 2:fa=!0}}null!==(m=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[m]:p.push(m))}else p={lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,o=d):u=u.next=p,l|=m;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(p=s).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(o=d),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),wc|=l,e.lanes=l,e.memoizedState=d}}function Na(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Ca(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Na(n[e],t)}var Ta=B(null),Ea=B(0);function Aa(e,t){U(Ea,e=jc),U(Ta,t),jc=e|t.baseLanes}function _a(){U(Ea,jc),U(Ta,Ta.current)}function Pa(){jc=Ea.current,z(Ta),z(Ea)}var Ma=B(null),La=null;function Ra(e){var t=e.alternate;U(Ba,1&Ba.current),U(Ma,e),null===La&&(null===t||null!==Ta.current||null!==t.memoizedState)&&(La=e)}function Oa(e){U(Ba,Ba.current),U(Ma,e),null===La&&(La=e)}function Fa(e){22===e.tag?(U(Ba,Ba.current),U(Ma,e),null===La&&(La=e)):Da()}function Da(){U(Ba,Ba.current),U(Ma,Ma.current)}function Ia(e){z(Ma),La===e&&(La=null),z(Ba)}var Ba=B(0);function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Md(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=0,Ya=null,Ka=null,Wa=null,Ha=!1,Va=!1,Ga=!1,qa=0,$a=0,Xa=null,Qa=0;function Za(){throw Error(l(321))}function Ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function el(e,t,n,i,r,a){return Ua=a,Ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?fs:ys,Ga=!1,a=n(i,r),Ga=!1,Va&&(a=nl(t,n,i,r)),tl(e),a}function tl(e){R.H=ps;var t=null!==Ka&&null!==Ka.next;if(Ua=0,Wa=Ka=Ya=null,Ha=!1,$a=0,Xa=null,t)throw Error(l(300));null===e||Ms||null!==(e=e.dependencies)&&_r(e)&&(Ms=!0)}function nl(e,t,n,i){Ya=e;var r=0;do{if(Va&&(Xa=null),$a=0,Va=!1,25<=r)throw Error(l(301));if(r+=1,Wa=Ka=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=vs,a=t(n,i)}while(Va);return a}function il(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?cl(t):t,e=e.useState()[0],(null!==Ka?Ka.memoizedState:null)!==e&&(Ya.flags|=1024),t}function rl(){var e=0!==qa;return qa=0,e}function al(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ll(e){if(Ha){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ha=!1}Ua=0,Wa=Ka=Ya=null,Va=!1,$a=qa=0,Xa=null}function sl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?Ya.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function ol(){if(null===Ka){var e=Ya.alternate;e=null!==e?e.memoizedState:null}else e=Ka.next;var t=null===Wa?Ya.memoizedState:Wa.next;if(null!==t)Wa=t,Ka=e;else{if(null===e){if(null===Ya.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Ka=e).memoizedState,baseState:Ka.baseState,baseQueue:Ka.baseQueue,queue:Ka.queue,next:null},null===Wa?Ya.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function cl(e){var t=$a;return $a+=1,null===Xa&&(Xa=[]),e=na(Xa,e,t),t=Ya,null===(null===Wa?t.memoizedState:Wa.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?fs:ys),e}function ul(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cl(e);if(e.$$typeof===k)return Mr(e)}throw Error(l(438,String(e)))}function dl(e){var t=null,n=Ya.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=Ya.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ya.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=E;return t.index++,n}function ml(e,t){return"function"===typeof t?t(e):t}function hl(e){return pl(ol(),Ka,e)}function pl(e,t,n){var i=e.queue;if(null===i)throw Error(l(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var o=s=null,c=null,u=t=r.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(yc&m)===m:(Ua&m)===m){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Kr&&(d=!0);else{if((Ua&h)===h){u=u.next,h===Kr&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,s=a):c=c.next=m,Ya.lanes|=h,wc|=h}m=u.action,Ga&&n(a,m),a=u.hasEagerState?u.eagerState:n(a,m)}else h={lane:m,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=h,s=a):c=c.next=h,Ya.lanes|=m,wc|=m;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=o,!Zn(a,e.memoizedState)&&(Ms=!0,d&&null!==(n=Wr)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,i.lastRenderedState=a}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function fl(e){var t=ol(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Zn(a,t.memoizedState)||(Ms=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function yl(e,t,n){var i=Ya,r=ol(),a=dr;if(a){if(void 0===n)throw Error(l(407));n=n()}else n=t();var s=!Zn((Ka||r).memoizedState,n);if(s&&(r.memoizedState=n,Ms=!0),r=r.queue,Ul(bl.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||null!==Wa&&1&Wa.memoizedState.tag){if(i.flags|=2048,Fl(9,{destroy:void 0},gl.bind(null,i,r,n,t),null),null===pc)throw Error(l(349));a||0!==(127&Ua)||vl(i,t,n)}return n}function vl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ya.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ya.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function gl(e,t,n,i){t.value=n,t.getSnapshot=i,xl(t)&&kl(e)}function bl(e,t,n){return n(function(){xl(t)&&kl(e)})}function xl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(i){return!0}}function kl(e){var t=Li(e,2);null!==t&&qc(t,e,2)}function jl(e){var t=sl();if("function"===typeof e){var n=e;if(e=n(),Ga){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function Sl(e,t,n,i){return e.baseState=n,pl(e,Ka,"function"===typeof i?i:ml)}function wl(e,t,n,i,r){if(ds(e))throw Error(l(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,Nl(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Nl(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=R.T,l={};R.T=l;try{var s=n(r,i),o=R.S;null!==o&&o(l,s),Cl(e,t,s)}catch(c){El(e,t,c)}finally{null!==a&&null!==l.types&&(a.types=l.types),R.T=a}}else try{Cl(e,t,a=n(r,i))}catch(u){El(e,t,u)}}function Cl(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Tl(e,t,n)},function(n){return El(e,t,n)}):Tl(e,t,n)}function Tl(e,t,n){t.status="fulfilled",t.value=n,Al(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Nl(e,n)))}function El(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,Al(t),t=t.next}while(t!==i)}e.action=null}function Al(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _l(e,t){return t}function Pl(e,t){if(dr){var n=pc.formState;if(null!==n){e:{var i=Ya;if(dr){if(ur){t:{for(var r=ur,a=hr;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=Ld(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){ur=Ld(r.nextSibling),i="F!"===r.data;break e}}fr(i)}i=!1}i&&(t=n[0])}}return(n=sl()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:t},n.queue=i,n=os.bind(null,Ya,i),i.dispatch=n,i=jl(!1),a=us.bind(null,Ya,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=sl()).queue=r,n=wl.bind(null,Ya,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ml(e){return Ll(ol(),Ka,e)}function Ll(e,t,n){if(t=pl(e,t,_l)[0],e=hl(ml)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=cl(t)}catch(l){if(l===Qr)throw Jr;throw l}else i=t;var r=(t=ol()).queue,a=r.dispatch;return n!==t.memoizedState&&(Ya.flags|=2048,Fl(9,{destroy:void 0},Rl.bind(null,r,n),null)),[i,a,e]}function Rl(e,t){e.action=t}function Ol(e){var t=ol(),n=Ka;if(null!==n)return Ll(t,n,e);ol(),t=t.memoizedState;var i=(n=ol()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Fl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=Ya.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ya.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Dl(){return ol().memoizedState}function Il(e,t,n,i){var r=sl();Ya.flags|=e,r.memoizedState=Fl(1|t,{destroy:void 0},n,void 0===i?null:i)}function Bl(e,t,n,i){var r=ol();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==Ka&&null!==i&&Ja(i,Ka.memoizedState.deps)?r.memoizedState=Fl(t,a,n,i):(Ya.flags|=e,r.memoizedState=Fl(1|t,a,n,i))}function zl(e,t){Il(8390656,8,e,t)}function Ul(e,t){Bl(2048,8,e,t)}function Yl(e){var t=ol().memoizedState;return function(e){Ya.flags|=4;var t=Ya.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ya.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hc))throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Kl(e,t){return Bl(4,2,e,t)}function Wl(e,t){return Bl(4,4,e,t)}function Hl(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Vl(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bl(4,4,Hl.bind(null,t,e),n)}function Gl(){}function ql(e,t){var n=ol();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Ja(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function $l(e,t){var n=ol();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Ja(t,i[1]))return i[0];if(i=e(),Ga){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[i,t],i}function Xl(e,t,n){return void 0===n||0!==(1073741824&Ua)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Ya.lanes|=e,wc|=e,n)}function Ql(e,t,n,i){return Zn(n,t)?n:null!==Ta.current?(e=Xl(e,n,i),Zn(e,t)||(Ms=!0),e):0===(42&Ua)||0!==(1073741824&Ua)&&0===(261930&yc)?(Ms=!0,e.memoizedState=n):(e=Gc(),Ya.lanes|=e,wc|=e,t)}function Zl(e,t,n,i,r){var a=O.p;O.p=0!==a&&8>a?a:8;var l=R.T,s={};R.T=s,us(e,!1,t,n);try{var o=r(),c=R.S;if(null!==c&&c(s,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)cs(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(o,i),Vc());else cs(e,t,i,Vc())}catch(u){cs(e,t,{then:function(){},status:"rejected",reason:u},Vc())}finally{O.p=a,null!==l&&null!==s.types&&(l.types=s.types),R.T=l}}function Jl(){}function es(e,t,n,i){if(5!==e.tag)throw Error(l(476));var r=ts(e).queue;Zl(e,r,t,F,null===n?Jl:function(){return ns(e),n(i)})}function ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ns(e){var t=ts(e);null===t.next&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},Vc())}function is(){return Mr(um)}function rs(){return ol().memoizedState}function as(){return ol().memoizedState}function ls(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Vc(),i=ba(t,e=ga(n),n);return null!==i&&(qc(i,t,n),xa(i,t,n)),t={cache:Br()},void(e.payload=t)}t=t.return}}function ss(e,t,n){var i=Vc();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ds(e)?ms(t,n):null!==(n=Mi(e,t,n,i))&&(qc(n,e,i),hs(n,t,i))}function os(e,t,n){cs(e,t,n,Vc())}function cs(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ds(e))ms(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=a(l,n);if(r.hasEagerState=!0,r.eagerState=s,Zn(s,l))return Pi(e,t,r,0),null===pc&&_i(),!1}catch(o){}if(null!==(n=Mi(e,t,r,i)))return qc(n,e,i),hs(n,t,i),!0}return!1}function us(e,t,n,i){if(i={lane:2,revertLane:Yu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ds(e)){if(t)throw Error(l(479))}else null!==(t=Mi(e,n,i,2))&&qc(t,e,2)}function ds(e){var t=e.alternate;return e===Ya||null!==t&&t===Ya}function ms(e,t){Va=Ha=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hs(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Re(e,n)}}var ps={readContext:Mr,use:ul,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};ps.useEffectEvent=Za;var fs={readContext:Mr,use:ul,useCallback:function(e,t){return sl().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:zl,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Il(4194308,4,Hl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){Il(4,2,e,t)},useMemo:function(e,t){var n=sl();t=void 0===t?null:t;var i=e();if(Ga){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=sl();if(void 0!==n){var r=n(t);if(Ga){be(!0);try{n(t)}finally{be(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=ss.bind(null,Ya,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},sl().memoizedState=e},useState:function(e){var t=(e=jl(e)).queue,n=os.bind(null,Ya,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Gl,useDeferredValue:function(e,t){return Xl(sl(),e,t)},useTransition:function(){var e=jl(!1);return e=Zl.bind(null,Ya,e.queue,!0,!1),sl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ya,r=sl();if(dr){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===pc)throw Error(l(349));0!==(127&yc)||vl(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,zl(bl.bind(null,i,a,e),[e]),i.flags|=2048,Fl(9,{destroy:void 0},gl.bind(null,i,a,n,t),null),n},useId:function(){var e=sl(),t=pc.identifierPrefix;if(dr){var n=ir;t="_"+t+"R_"+(n=(nr&~(1<<32-xe(nr)-1)).toString(32)+n),0<(n=qa++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Qa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:Pl,useActionState:Pl,useOptimistic:function(e){var t=sl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=us.bind(null,Ya,!0,n),n.dispatch=t,[e,t]},useMemoCache:dl,useCacheRefresh:function(){return sl().memoizedState=ls.bind(null,Ya)},useEffectEvent:function(e){var t=sl(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&hc))throw Error(l(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:Mr,use:ul,useCallback:ql,useContext:Mr,useEffect:Ul,useImperativeHandle:Vl,useInsertionEffect:Kl,useLayoutEffect:Wl,useMemo:$l,useReducer:hl,useRef:Dl,useState:function(){return hl(ml)},useDebugValue:Gl,useDeferredValue:function(e,t){return Ql(ol(),Ka.memoizedState,e,t)},useTransition:function(){var e=hl(ml)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:yl,useId:rs,useHostTransitionStatus:is,useFormState:Ml,useActionState:Ml,useOptimistic:function(e,t){return Sl(ol(),0,e,t)},useMemoCache:dl,useCacheRefresh:as};ys.useEffectEvent=Yl;var vs={readContext:Mr,use:ul,useCallback:ql,useContext:Mr,useEffect:Ul,useImperativeHandle:Vl,useInsertionEffect:Kl,useLayoutEffect:Wl,useMemo:$l,useReducer:fl,useRef:Dl,useState:function(){return fl(ml)},useDebugValue:Gl,useDeferredValue:function(e,t){var n=ol();return null===Ka?Xl(n,e,t):Ql(n,Ka.memoizedState,e,t)},useTransition:function(){var e=fl(ml)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:yl,useId:rs,useHostTransitionStatus:is,useFormState:Ol,useActionState:Ol,useOptimistic:function(e,t){var n=ol();return null!==Ka?Sl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:dl,useCacheRefresh:as};function gs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=Yl;var bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Vc(),r=ga(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ba(e,r,i))&&(qc(t,e,i),xa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Vc(),r=ga(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ba(e,r,i))&&(qc(t,e,i),xa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vc(),i=ga(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ba(e,i,n))&&(qc(t,e,n),xa(t,e,n))}};function xs(e,t,n,i,r,a,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,i)||!Jn(r,a))}function ks(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function js(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=h({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function Ss(e){Ci(e)}function ws(e){console.error(e)}function Ns(e){Ci(e)}function Cs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ts(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Es(e,t,n){return(n=ga(n)).tag=3,n.payload={element:null},n.callback=function(){Cs(e,t)},n}function As(e){return(e=ga(e)).tag=3,e}function _s(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Ts(t,n,i)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ts(t,n,i),"function"!==typeof r&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ps=Error(l(461)),Ms=!1;function Ls(e,t,n,i){t.child=null===e?pa(t,null,n,i):ha(t,e.child,n,i)}function Rs(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var l={};for(var s in i)"ref"!==s&&(l[s]=i[s])}else l=i;return Pr(t),i=el(e,t,n,l,a,r),s=rl(),null===e||Ms?(dr&&s&&lr(t),t.flags|=1,Ls(e,t,i,r),t.child):(al(e,t,r),io(e,t,r))}function Os(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Bi(a)||void 0!==a.defaultProps||null!==n.compare?((e=Yi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fs(e,t,a,i,r))}if(a=e.child,!ro(e,r)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(l,i)&&e.ref===t.ref)return io(e,t,r)}return t.flags|=1,(e=zi(a,i)).ref=t.ref,e.return=t,t.child=e}function Fs(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(Jn(a,i)&&e.ref===t.ref){if(Ms=!1,t.pendingProps=i=a,!ro(e,r))return t.lanes=e.lanes,io(e,t,r);0!==(131072&e.flags)&&(Ms=!0)}}return Ks(e,t,n,i,r)}function Ds(e,t,n,i){var r=i.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~a}else i=0,t.child=null;return Bs(e,t,a,n,i)}if(0===(536870912&n))return i=t.lanes=536870912,Bs(e,t,null!==a?a.baseLanes|n:n,n,i);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$r(0,null!==a?a.cachePool:null),null!==a?Aa(t,a):_a(),Fa(t)}else null!==a?($r(0,a.cachePool),Aa(t,a),Da(),t.memoizedState=null):(null!==e&&$r(0,null),_a(),Da());return Ls(e,t,r,n),t.child}function Is(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bs(e,t,n,i,r){var a=qr();return a=null===a?null:{parent:Ir._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&$r(0,null),_a(),Fa(t),null!==e&&Ar(e,t,i,!0),t.childLanes=r,null}function zs(e,t){return(t=Zs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Us(e,t,n){return ha(t,e.child,null,n),(e=zs(t,t.pendingProps)).flags|=2,Ia(t),t.memoizedState=null,e}function Ys(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ks(e,t,n,i,r){return Pr(t),n=el(e,t,n,i,void 0,r),i=rl(),null===e||Ms?(dr&&i&&lr(t),t.flags|=1,Ls(e,t,n,r),t.child):(al(e,t,r),io(e,t,r))}function Ws(e,t,n,i,r,a){return Pr(t),t.updateQueue=null,n=nl(t,i,n,r),tl(e),i=rl(),null===e||Ms?(dr&&i&&lr(t),t.flags|=1,Ls(e,t,n,a),t.child):(al(e,t,a),io(e,t,a))}function Hs(e,t,n,i,r){if(Pr(t),null===t.stateNode){var a=Fi,l=n.contextType;"object"===typeof l&&null!==l&&(a=Mr(l)),a=new n(i,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=bs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=i,a.state=t.memoizedState,a.refs={},ya(t),l=n.contextType,a.context="object"===typeof l&&null!==l?Mr(l):Fi,a.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(gs(t,n,l,i),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(l=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),l!==a.state&&bs.enqueueReplaceState(a,a.state,null),wa(t,i,a,r),Sa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,o=js(n,s);a.props=o;var c=a.context,u=n.contextType;l=Fi,"object"===typeof u&&null!==u&&(l=Mr(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==l)&&ks(t,a,i,l),fa=!1;var m=t.memoizedState;a.state=m,wa(t,i,a,r),Sa(),c=t.memoizedState,s||m!==c||fa?("function"===typeof d&&(gs(t,n,d,i),c=t.memoizedState),(o=fa||xs(t,n,o,i,m,c,l))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=l,i=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,va(e,t),u=js(n,l=t.memoizedProps),a.props=u,d=t.pendingProps,m=a.context,c=n.contextType,o=Fi,"object"===typeof c&&null!==c&&(o=Mr(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==d||m!==o)&&ks(t,a,i,o),fa=!1,m=t.memoizedState,a.state=m,wa(t,i,a,r),Sa();var h=t.memoizedState;l!==d||m!==h||fa||null!==e&&null!==e.dependencies&&_r(e.dependencies)?("function"===typeof s&&(gs(t,n,s,i),h=t.memoizedState),(u=fa||xs(t,n,u,i,m,h,o)||null!==e&&null!==e.dependencies&&_r(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,h,o),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,h,o)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=o,i=u):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Ys(e,t),i=0!==(128&t.flags),a||i?(a=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&i?(t.child=ha(t,e.child,null,r),t.child=ha(t,null,n,r)):Ls(e,t,n,r),t.memoizedState=a.state,e=t.child):e=io(e,t,r),e}function Vs(e,t,n,i){return br(),t.flags|=256,Ls(e,t,n,i),t.child}var Gs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qs(e){return{baseLanes:e,cachePool:Xr()}}function $s(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Xs(e,t,n){var i,r=t.pendingProps,a=!1,s=0!==(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&0!==(2&Ba.current)),i&&(a=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(dr){if(a?Ra(t):Da(),(e=ur)?null!==(e=null!==(e=_d(e,hr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Hi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw fr(t);return Md(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,a?(Da(),o=Zs({mode:"hidden",children:o},a=t.mode),r=Ki(r,a,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,(r=t.child).memoizedState=qs(n),r.childLanes=$s(e,i,n),t.memoizedState=Gs,Is(null,r)):(Ra(t),Qs(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(s)256&t.flags?(Ra(t),t.flags&=-257,t=Js(e,t,n)):null!==t.memoizedState?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),o=r.fallback,a=t.mode,r=Zs({mode:"visible",children:r.children},a),(o=Ki(o,a,n,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,ha(t,e.child,null,n),(r=t.child).memoizedState=qs(n),r.childLanes=$s(e,i,n),t.memoizedState=Gs,t=Is(null,r));else if(Ra(t),Md(o)){if(i=o.nextSibling&&o.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(l(419))).stack="",r.digest=i,kr({value:r,source:null,stack:null}),t=Js(e,t,n)}else if(Ms||Ar(e,t,n,!1),i=0!==(n&e.childLanes),Ms||i){if(null!==(i=pc)&&(0!==(r=Oe(i,n))&&r!==c.retryLane))throw c.retryLane=r,Li(e,r),qc(i,e,r),Ps;Pd(o)||lu(),t=Js(e,t,n)}else Pd(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ur=Ld(o.nextSibling),cr=t,dr=!0,mr=null,hr=!1,null!==e&&or(t,e),(t=Qs(t,r.children)).flags|=4096);return t}return a?(Da(),o=r.fallback,a=t.mode,u=(c=e.child).sibling,(r=zi(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?o=zi(u,o):(o=Ki(o,a,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,Is(null,r),r=t.child,null===(o=e.child.memoizedState)?o=qs(n):(null!==(a=o.cachePool)?(c=Ir._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Xr(),o={baseLanes:o.baseLanes|n,cachePool:a}),r.memoizedState=o,r.childLanes=$s(e,i,n),t.memoizedState=Gs,Is(e.child,r)):(Ra(t),e=(n=e.child).sibling,(n=zi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Qs(e,t){return(t=Zs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zs(e,t){return(e=Ii(22,e,null,t)).lanes=0,e}function Js(e,t,n){return ha(t,e.child,null,n),(e=Qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Tr(e.return,t,n)}function to(e,t,n,i,r,a){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=r,l.treeForkCount=a)}function no(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;i=i.children;var l=Ba.current,s=0!==(2&l);if(s?(l=1&l|2,t.flags|=128):l&=1,U(Ba,l),Ls(e,t,i,n),i=dr?Zi:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,n,t);else if(19===e.tag)eo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),to(t,!1,r,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===za(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}to(t,!0,n,null,a,i);break;case"together":to(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function io(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),wc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ar(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=zi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ro(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_r(e))}function ao(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ms=!0;else{if(!ro(e,n)&&0===(128&t.flags))return Ms=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),Nr(0,Ir,e.memoizedState.cache),br();break;case 27:case 5:X(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:Nr(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Oa(t),null;break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Ra(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xs(e,t,n):(Ra(t),null!==(e=io(e,t,n))?e.sibling:null);Ra(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Ar(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return no(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(Ba,Ba.current),i)break;return null;case 22:return t.lanes=0,Ds(e,t,n,t.pendingProps);case 24:Nr(0,Ir,e.memoizedState.cache)}return io(e,t,n)}(e,t,n);Ms=0!==(131072&e.flags)}else Ms=!1,dr&&0!==(1048576&t.flags)&&ar(t,Zi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ia(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===j){t.tag=11,t=Rs(null,t,e,i,n);break e}if(r===N){t.tag=14,t=Os(null,t,e,i,n);break e}}throw t=M(e)||e,Error(l(306,t,""))}Bi(e)?(i=js(e,i),t.tag=1,t=Hs(null,t,e,i,n)):(t.tag=0,t=Ks(null,t,e,i,n))}return t;case 0:return Ks(e,t,t.type,t.pendingProps,n);case 1:return Hs(e,t,i=t.type,r=js(i,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(l(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,va(e,t),wa(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Nr(0,Ir,i),i!==a.cache&&Er(t,[Ir],n,!0),Sa(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Vs(e,t,i,n);break e}if(i!==r){kr(r=qi(Error(l(424)),t)),t=Vs(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ur=Ld(e.firstChild),cr=t,dr=!0,mr=null,hr=!0,n=pa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(br(),i===r){t=io(e,t,n);break e}Ls(e,t,i,n)}t=t.child}return t;case 26:return Ys(e,t),null===e?(n=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=n:dr||(n=t.type,e=t.pendingProps,(i=yd(V.current).createElement(n))[Ue]=t,i[Ye]=e,md(i,n,e),et(i),t.stateNode=i):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&dr&&(i=t.stateNode=Dd(t.type,t.pendingProps,V.current),cr=t,hr=!0,r=ur,Cd(t.type)?(Rd=r,ur=Ld(i.firstChild)):ur=r),Ls(e,t,t.pendingProps.children,n),Ys(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dr&&((r=i=ur)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=Ld(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,hr))?(t.stateNode=i,cr=t,ur=Ld(i.firstChild),hr=!1,r=!0):r=!1),r||fr(t)),X(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,bd(r,a)?i=null:null!==s&&bd(r,s)&&(t.flags|=32),null!==t.memoizedState&&(r=el(e,t,il,null,null,n),um._currentValue=r),Ys(e,t),Ls(e,t,i,n),t.child;case 6:return null===e&&dr&&((e=n=ur)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}(n,t.pendingProps,hr))?(t.stateNode=n,cr=t,ur=null,e=!0):e=!1),e||fr(t)),null;case 13:return Xs(e,t,n);case 4:return q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ha(t,null,i,n):Ls(e,t,i,n),t.child;case 11:return Rs(e,t,t.type,t.pendingProps,n);case 7:return Ls(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ls(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Nr(0,t.type,i.value),Ls(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Pr(t),i=i(r=Mr(r)),t.flags|=1,Ls(e,t,i,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Fs(e,t,t.type,t.pendingProps,n);case 19:return no(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(dr){if("hidden"===i.mode)return e=zs(t,i),t.lanes=536870912,Is(null,e);if(Oa(t),(e=ur)?null!==(e=null!==(e=_d(e,hr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Hi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw fr(t);return t.lanes=536870912,null}return zs(t,i)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Oa(t),r)if(256&t.flags)t.flags&=-257,t=Us(e,t,n);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Ms||Ar(e,t,n,!1),r=0!==(n&e.childLanes),Ms||r){if(null!==(i=pc)&&0!==(s=Oe(i,n))&&s!==a.retryLane)throw a.retryLane=s,Li(e,s),qc(i,e,s),Ps;lu(),t=Us(e,t,n)}else e=a.treeContext,ur=Ld(s.nextSibling),cr=t,dr=!0,mr=null,hr=!1,null!==e&&or(t,e),(t=zs(t,i)).flags|=4096;return t}return(e=zi(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ds(e,t,n,t.pendingProps);case 24:return Pr(t),i=Mr(Ir),null===e?(null===(r=qr())&&(r=pc,a=Br(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},ya(t),Nr(0,Ir,r)):(0!==(e.lanes&n)&&(va(e,t),wa(t,null,null,n),Sa()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Nr(0,Ir,i)):(i=a.cache,Nr(0,Ir,i),i!==r.cache&&Er(t,[Ir],n,!0))),Ls(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function lo(e){e.flags|=4}function so(e,t,n,i,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ra=ea,Zr;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rm(t)){if(!iu())throw ra=ea,Zr;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,Ec|=t)}function uo(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function mo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ho(e,t,n){var i=t.pendingProps;switch(sr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mo(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Cr(Ir),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(gr(t)?lo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xr())),mo(t),null;case 26:var r=t.type,a=t.memoizedState;return null===e?(lo(t),null!==a?(mo(t),oo(t,a)):(mo(t),so(t,r,0,0,n))):a?a!==e.memoizedState?(lo(t),mo(t),oo(t,a)):(mo(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&lo(t),mo(t),so(t,r,0,0,n)),null;case 27:if(Q(t),n=V.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&lo(t);else{if(!i){if(null===t.stateNode)throw Error(l(166));return mo(t),null}e=W.current,gr(t)?yr(t):(e=Dd(r,i,n),t.stateNode=e,lo(t))}return mo(t),null;case 5:if(Q(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&lo(t);else{if(!i){if(null===t.stateNode)throw Error(l(166));return mo(t),null}if(a=W.current,gr(t))yr(t);else{var s=yd(V.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a="string"===typeof i.is?s.createElement(r,{is:i.is}):s.createElement(r)}}a[Ue]=t,a[Ye]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(md(a,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&lo(t)}}return mo(t),so(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&lo(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(l(166));if(e=V.current,gr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=cr))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||cd(e.nodeValue,n)))||fr(t,!0)}else(e=yd(e).createTextNode(i))[Ue]=t,t.stateNode=e}return mo(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=gr(t),null!==n){if(null===e){if(!i)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[Ue]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),e=!1}else n=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ia(t),t):(Ia(t),null);if(0!==(128&t.flags))throw Error(l(558))}return mo(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=gr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[Ue]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),r=!1}else r=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Ia(t),t):(Ia(t),null)}return Ia(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool),a=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),co(t,t.updateQueue),mo(t),null);case 4:return $(),null===e&&Ju(t.stateNode.containerInfo),mo(t),null;case 10:return Cr(t.type),mo(t),null;case 19:if(z(Ba),null===(i=t.memoizedState))return mo(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)uo(i,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=za(e))){for(t.flags|=128,uo(i,!1),e=a.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ui(n,e),n=n.sibling;return U(Ba,1&Ba.current|2),dr&&rr(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&oe()>Rc&&(t.flags|=128,r=!0,uo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=za(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!dr)return mo(t),null}else 2*oe()-i.renderingStartTime>Rc&&536870912!==n&&(t.flags|=128,r=!0,uo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=Ba.current,U(Ba,r?1&n|2:1&n),dr&&rr(t,i.treeForkCount),e):(mo(t),null);case 22:case 23:return Ia(t),Pa(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(mo(t),6&t.subtreeFlags&&(t.flags|=8192)):mo(t),null!==(n=t.updateQueue)&&co(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&z(Gr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cr(Ir),mo(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function po(e,t){switch(sr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cr(Ir),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(Ia(t),null===t.alternate)throw Error(l(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ia(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Ba),null;case 4:return $(),null;case 10:return Cr(t.type),null;case 22:case 23:return Ia(t),Pa(),null!==e&&z(Gr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cr(Ir),null;default:return null}}function fo(e,t){switch(sr(t),t.tag){case 3:Cr(Ir),$();break;case 26:case 27:case 5:Q(t);break;case 4:$();break;case 31:null!==t.memoizedState&&Ia(t);break;case 13:Ia(t);break;case 19:z(Ba);break;case 10:Cr(t.type);break;case 22:case 23:Ia(t),Pa(),null!==e&&z(Gr);break;case 24:Cr(Ir)}}function yo(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,l=n.inst;i=a(),l.destroy=i}n=n.next}while(n!==r)}}catch(s){Su(t,t.return,s)}}function vo(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&e)===e){var l=i.inst,s=l.destroy;if(void 0!==s){l.destroy=void 0,r=t;var o=n,c=s;try{c()}catch(u){Su(r,o,u)}}}i=i.next}while(i!==a)}}catch(u){Su(t,t.return,u)}}function go(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ca(t,n)}catch(i){Su(e,e.return,i)}}}function bo(e,t,n){n.props=js(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Su(e,t,i)}}function xo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){Su(e,t,r)}}function ko(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){Su(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Su(e,t,a)}else n.current=null}function jo(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Su(e,e.return,r)}}function So(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,c=null,u=null,d=null;for(p in n){var m=n[p];if(n.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(p)||ud(e,t,p,null,i,m)}}for(var h in i){var p=i[h];if(m=n[h],i.hasOwnProperty(h)&&(null!=p||null!=m))switch(h){case"type":a=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:p!==m&&ud(e,t,h,p,i,m)}}return void gt(e,s,o,c,u,d,a,r);case"select":for(a in p=s=o=h=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(a)||ud(e,t,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":h=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==c&&ud(e,t,r,a,i,c)}return t=o,n=s,i=p,void(null!=h?kt(e,!!n,h,!1):!!i!==!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(o in p=h=null,n)if(r=n[o],n.hasOwnProperty(o)&&null!=r&&!i.hasOwnProperty(o))switch(o){case"value":case"children":break;default:ud(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=r||null!=a))switch(s){case"value":h=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(l(91));break;default:r!==a&&ud(e,t,s,r,i,a)}return void jt(e,h,p);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else ud(e,t,f,null,i,h);for(c in i)if(h=i[c],p=n[c],i.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else ud(e,t,c,h,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!i.hasOwnProperty(y)&&ud(e,t,y,null,i,h);for(u in i)if(h=i[u],p=n[u],i.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:ud(e,t,u,h,i,p)}return;default:if(Et(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!i.hasOwnProperty(v)&&dd(e,t,v,void 0,i,h);for(d in i)h=i[d],p=n[d],!i.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||dd(e,t,d,h,i,p);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!i.hasOwnProperty(g)&&ud(e,t,g,null,i,h);for(m in i)h=i[m],p=n[m],!i.hasOwnProperty(m)||h===p||null==h&&null==p||ud(e,t,m,h,i,p)}(i,e.type,n,t),i[Ye]=t}catch(r){Su(e,e.return,r)}}function wo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function No(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Co(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mt));else if(4!==i&&(27===i&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function To(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(To(e,t,n),e=e.sibling;null!==e;)To(e,t,n),e=e.sibling}function Eo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);md(t,i,n),t[Ue]=e,t[Ye]=n}catch(a){Su(e,e.return,a)}}var Ao=!1,_o=!1,Po=!1,Mo="function"===typeof WeakSet?WeakSet:Set,Lo=null;function Ro(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:qo(e,n),4&i&&yo(5,n);break;case 1:if(qo(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){Su(n,n.return,l)}else{var r=js(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Su(n,n.return,s)}}64&i&&go(n),512&i&&xo(n,n.return);break;case 3:if(qo(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ca(e,t)}catch(l){Su(n,n.return,l)}}break;case 27:null===t&&4&i&&Eo(n);case 26:case 5:qo(e,n),null===t&&4&i&&jo(n),512&i&&xo(n,n.return);break;case 12:qo(e,n);break;case 31:qo(e,n),4&i&&zo(e,n);break;case 13:qo(e,n),4&i&&Uo(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=Tu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||Ao)){t=null!==t&&null!==t.memoizedState||_o,r=Ao;var a=_o;Ao=i,(_o=t)&&!a?Xo(e,n,0!==(8772&n.subtreeFlags)):qo(e,n),Ao=r,_o=a}break;case 30:break;default:qo(e,n)}}function Oo(e){var t=e.alternate;null!==t&&(e.alternate=null,Oo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fo=null,Do=!1;function Io(e,t,n){for(n=n.child;null!==n;)Bo(e,t,n),n=n.sibling}function Bo(e,t,n){if(ge&&"function"===typeof ge.onCommitFiberUnmount)try{ge.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:_o||ko(n,t),Io(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_o||ko(n,t);var i=Fo,r=Do;Cd(n.type)&&(Fo=n.stateNode,Do=!1),Io(e,t,n),Id(n.stateNode),Fo=i,Do=r;break;case 5:_o||ko(n,t);case 6:if(i=Fo,r=Do,Fo=null,Io(e,t,n),Do=r,null!==(Fo=i))if(Do)try{(9===Fo.nodeType?Fo.body:"HTML"===Fo.nodeName?Fo.ownerDocument.body:Fo).removeChild(n.stateNode)}catch(l){Su(n,t,l)}else try{Fo.removeChild(n.stateNode)}catch(l){Su(n,t,l)}break;case 18:null!==Fo&&(Do?(Td(9===(e=Fo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wm(e)):Td(Fo,n.stateNode));break;case 4:i=Fo,r=Do,Fo=n.stateNode.containerInfo,Do=!0,Io(e,t,n),Fo=i,Do=r;break;case 0:case 11:case 14:case 15:vo(2,n,t),_o||vo(4,n,t),Io(e,t,n);break;case 1:_o||(ko(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&bo(n,t,i)),Io(e,t,n);break;case 21:Io(e,t,n);break;case 22:_o=(i=_o)||null!==n.memoizedState,Io(e,t,n),_o=i;break;default:Io(e,t,n)}}function zo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wm(e)}catch(n){Su(t,t.return,n)}}}function Uo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wm(e)}catch(n){Su(t,t.return,n)}}function Yo(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Mo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Mo),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var i=Eu.bind(null,e,t);t.then(i,i)}})}function Ko(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;e:for(;null!==o;){switch(o.tag){case 27:if(Cd(o.type)){Fo=o.stateNode,Do=!1;break e}break;case 5:Fo=o.stateNode,Do=!1;break e;case 3:case 4:Fo=o.stateNode.containerInfo,Do=!0;break e}o=o.return}if(null===Fo)throw Error(l(160));Bo(a,s,r),Fo=null,Do=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ho(t,e),t=t.sibling}var Wo=null;function Ho(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ko(t,e),Vo(e),4&i&&(vo(3,e,e.return),yo(3,e),vo(5,e,e.return));break;case 1:Ko(t,e),Vo(e),512&i&&(_o||null===n||ko(n,n.return)),64&i&&Ao&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Wo;if(Ko(t,e),Vo(e),512&i&&(_o||null===n||ko(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(a=r.getElementsByTagName("title")[0])||a[qe]||a[Ue]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),md(a,i,n),a[Ue]=e,et(a),i=a;break e;case"link":var s=nm("link","href",r).get(i+(n.href||""));if(s)for(var o=0;o<s.length;o++)if((a=s[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(o,1);break t}md(a=r.createElement(i),i,n),r.head.appendChild(a);break;case"meta":if(s=nm("meta","content",r).get(i+(n.content||"")))for(o=0;o<s.length;o++)if((a=s[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(o,1);break t}md(a=r.createElement(i),i,n),r.head.appendChild(a);break;default:throw Error(l(468,i))}a[Ue]=e,et(a),i=a}e.stateNode=i}else im(r,e.type,e.stateNode);else e.stateNode=Qd(r,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?im(r,e.type,e.stateNode):Qd(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&So(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ko(t,e),Vo(e),512&i&&(_o||null===n||ko(n,n.return)),null!==n&&4&i&&So(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ko(t,e),Vo(e),512&i&&(_o||null===n||ko(n,n.return)),32&e.flags){r=e.stateNode;try{wt(r,"")}catch(f){Su(e,e.return,f)}}4&i&&null!=e.stateNode&&So(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Po=!0);break;case 6:if(Ko(t,e),Vo(e),4&i){if(null===e.stateNode)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){Su(e,e.return,f)}}break;case 3:if(tm=null,r=Wo,Wo=Ud(t.containerInfo),Ko(t,e),Wo=r,Vo(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Wm(t.containerInfo)}catch(f){Su(e,e.return,f)}Po&&(Po=!1,Go(e));break;case 4:i=Wo,Wo=Ud(e.stateNode.containerInfo),Ko(t,e),Vo(e),Wo=i;break;case 12:default:Ko(t,e),Vo(e);break;case 31:case 19:Ko(t,e),Vo(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Yo(e,i)));break;case 13:Ko(t,e),Vo(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Mc=oe()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Yo(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Ao,d=_o;if(Ao=u||r,_o=d||c,Ko(t,e),_o=d,Ao=u,Vo(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Ao||_o||$o(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,r)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,h=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){Su(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){Su(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;r?Ed(p,!0):Ed(c.stateNode,!1)}catch(f){Su(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Yo(e,n))));case 30:case 21:}}function Vo(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(wo(i)){n=i;break}i=i.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var r=n.stateNode;To(e,No(e),r);break;case 5:var a=n.stateNode;32&n.flags&&(wt(a,""),n.flags&=-33),To(e,No(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Co(e,No(e),s);break;default:throw Error(l(161))}}catch(o){Su(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Go(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Go(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function qo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ro(e,t.alternate,t),t=t.sibling}function $o(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vo(4,t,t.return),$o(t);break;case 1:ko(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bo(t,t.return,n),$o(t);break;case 27:Id(t.stateNode);case 26:case 5:ko(t,t.return),$o(t);break;case 22:null===t.memoizedState&&$o(t);break;default:$o(t)}e=e.sibling}}function Xo(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,a=t,l=a.flags;switch(a.tag){case 0:case 11:case 15:Xo(r,a,n),yo(4,a);break;case 1:if(Xo(r,a,n),"function"===typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){Su(i,i.return,c)}if(null!==(r=(i=a).updateQueue)){var s=i.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Na(o[r],s)}catch(c){Su(i,i.return,c)}}n&&64&l&&go(a),xo(a,a.return);break;case 27:Eo(a);case 26:case 5:Xo(r,a,n),n&&null===i&&4&l&&jo(a),xo(a,a.return);break;case 12:Xo(r,a,n);break;case 31:Xo(r,a,n),n&&4&l&&zo(r,a);break;case 13:Xo(r,a,n),n&&4&l&&Uo(r,a);break;case 22:null===a.memoizedState&&Xo(r,a,n),xo(a,a.return);break;case 30:break;default:Xo(r,a,n)}t=t.sibling}}function Qo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zr(n))}function Zo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zr(e))}function Jo(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,i),t=t.sibling}function ec(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Jo(e,t,n,i),2048&r&&yo(9,t);break;case 1:case 31:case 13:default:Jo(e,t,n,i);break;case 3:Jo(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zr(e)));break;case 12:if(2048&r){Jo(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,l=a.id,s=a.onPostCommit;"function"===typeof s&&s(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Su(t,t.return,o)}}else Jo(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,l=t.alternate,null!==t.memoizedState?2&a._visibility?Jo(e,t,n,i):nc(e,t):2&a._visibility?Jo(e,t,n,i):(a._visibility|=2,tc(e,t,n,i,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Qo(l,t);break;case 24:Jo(e,t,n,i),2048&r&&Zo(t.alternate,t)}}function tc(e,t,n,i,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,l=t,s=n,o=i,c=l.flags;switch(l.tag){case 0:case 11:case 15:tc(a,l,s,o,r),yo(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?2&u._visibility?tc(a,l,s,o,r):nc(a,l):(u._visibility|=2,tc(a,l,s,o,r)),r&&2048&c&&Qo(l.alternate,l);break;case 24:tc(a,l,s,o,r),r&&2048&c&&Zo(l.alternate,l);break;default:tc(a,l,s,o,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:nc(n,i),2048&r&&Qo(i.alternate,i);break;case 24:nc(n,i),2048&r&&Zo(i.alternate,i);break;default:nc(n,i)}t=t.sibling}}var ic=8192;function rc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,i){if("stylesheet"===n.type&&("string"!==typeof i.media||!1!==matchMedia(i.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=Vd(i.href),a=t.querySelector(Gd(r));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lm.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,i=qd(i),(r=Bd.get(r))&&Jd(i,r),et(a=a.createElement("link"));var l=a;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),md(a,"link",i),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=lm.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wo,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var i=Wo;Wo=Ud(e.stateNode.containerInfo),rc(e,t,n),Wo=i;break;case 22:null===e.memoizedState&&(null!==(i=e.alternate)&&null!==i.memoizedState?(i=ic,ic=16777216,rc(e,t,n),ic=i):rc(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Lo=i,uc(i,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&vo(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Lo=i,uc(i,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vo(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Lo;){var n=Lo;switch(n.tag){case 0:case 11:case 15:vo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:zr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Lo=i;else e:for(n=e;null!==Lo;){var r=(i=Lo).sibling,a=i.return;if(Oo(i),i===n){Lo=null;break e}if(null!==r){r.return=a,Lo=r;break e}Lo=a}}}var dc={getCacheForType:function(e){var t=Mr(Ir),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Mr(Ir).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,hc=0,pc=null,fc=null,yc=0,vc=0,gc=null,bc=!1,xc=!1,kc=!1,jc=0,Sc=0,wc=0,Nc=0,Cc=0,Tc=0,Ec=0,Ac=null,_c=null,Pc=!1,Mc=0,Lc=0,Rc=1/0,Oc=null,Fc=null,Dc=0,Ic=null,Bc=null,zc=0,Uc=0,Yc=null,Kc=null,Wc=0,Hc=null;function Vc(){return 0!==(2&hc)&&0!==yc?yc&-yc:null!==R.T?Yu():Ie()}function Gc(){if(0===Tc)if(0===(536870912&yc)||dr){var e=we;0===(3932160&(we<<=1))&&(we=262144),Tc=e}else Tc=536870912;return null!==(e=Ma.current)&&(e.flags|=32),Tc}function qc(e,t,n){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Zc(e,yc,Tc,!1)),Me(e,n),0!==(2&hc)&&e===pc||(e===pc&&(0===(2&hc)&&(Nc|=n),4===Sc&&Zc(e,yc,Tc,!1)),Ou(e))}function $c(e,t,n){if(0!==(6&hc))throw Error(l(327));for(var i=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),r=i?function(e,t){var n=hc;hc|=2;var i=ru(),r=au();pc!==e||yc!==t?(Oc=null,Rc=oe()+500,tu(e,t)):xc=Ee(e,t);e:for(;;)try{if(0!==vc&&null!==fc){t=fc;var a=gc;t:switch(vc){case 1:vc=0,gc=null,mu(e,t,a,1);break;case 2:case 9:if(ta(a)){vc=0,gc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Ou(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ta(a)?(vc=0,gc=null,du(t)):(vc=0,gc=null,mu(e,t,a,7));break;case 5:var s=null;switch(fc.tag){case 26:s=fc.memoizedState;case 5:case 27:var o=fc;if(s?rm(s):o.stateNode.complete){vc=0,gc=null;var c=o.sibling;if(null!==c)fc=c;else{var u=o.return;null!==u?(fc=u,hu(u)):fc=null}break t}}vc=0,gc=null,mu(e,t,a,5);break;case 6:vc=0,gc=null,mu(e,t,a,6);break;case 8:eu(),Sc=6;break e;default:throw Error(l(462))}}cu();break}catch(d){nu(e,d)}return wr=Sr=null,R.H=i,R.A=r,hc=n,null!==fc?0:(pc=null,yc=0,_i(),Sc)}(e,t):su(e,t,!0),a=i;;){if(0===r){xc&&!i&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Qc(n)){if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var o=e;r=Ac;var c=o.current.memoizedState.isDehydrated;if(c&&(tu(o,s).flags|=256),2!==(s=su(o,s,!1))){if(kc&&!c){o.errorRecoveryDisabledLanes|=a,Nc|=a,r=4;break e}a=_c,_c=r,null!==a&&(null===_c?_c=a:_c.push.apply(_c,a))}r=s}if(a=!1,2!==r)continue}}if(1===r){tu(e,0),Zc(e,t,0,!0);break}e:{switch(i=e,a=r){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Zc(i,t,Tc,!bc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(r=Mc+300-oe())){if(Zc(i,t,Tc,!bc),0!==Te(i,0,!0))break e;zc=t,i.timeoutHandle=kd(Xc.bind(null,i,n,_c,Oc,Pc,t,Tc,Nc,Ec,bc,a,"Throttled",-0,0),r)}else Xc(i,n,_c,Oc,Pc,t,Tc,Nc,Ec,bc,a,null,-0,0)}break}r=su(e,t,!1),a=!1}Ou(e)}function Xc(e,t,n,i,r,a,l,s,o,c,u,d,m,h){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt});var p=(62914560&a)===a?Mc-oe():(4194048&a)===a?Lc-oe():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&om(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&om(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===am&&(am=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],a=r.transferSize,l=r.initiatorType,s=r.duration;if(a&&s&&hd(l)){for(l=0,s=r.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>s)break;var u=o.transferSize,d=o.initiatorType;u&&hd(d)&&(l+=u*((o=o.responseEnd)<s?1:(s-c)/(o-c)))}if(--i,t+=8*(a+l)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&om(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>am?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}(d,p)))return zc=a,e.cancelPendingCommit=p(fu.bind(null,e,t,a,n,i,r,l,s,o,u,d,null,m,h)),void Zc(e,a,l,!c)}fu(e,t,a,n,i,r,l,s,o)}function Qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Zn(a(),r))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,i){t&=~Cc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-xe(r),l=1<<a;i[a]=-1,r&=~l}0!==n&&Le(e,n,t)}function Jc(){return 0!==(6&hc)||(Fu(0,!1),!1)}function eu(){if(null!==fc){if(0===vc)var e=fc.return;else wr=Sr=null,ll(e=fc),sa=null,oa=0,e=fc;for(;null!==e;)fo(e.alternate,e),e=e.return;fc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,jd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,eu(),pc=e,fc=n=zi(e.current,null),yc=t,vc=0,gc=null,bc=!1,xc=Ee(e,t),kc=!1,Ec=Tc=Cc=Nc=wc=Sc=0,_c=Ac=null,Pc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-xe(i),a=1<<r;t|=e[r],i&=~a}return jc=t,_i(),n}function nu(e,t){Ya=null,R.H=ps,t===Qr||t===Jr?(t=aa(),vc=3):t===Zr?(t=aa(),vc=4):vc=t===Ps?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,gc=t,null===fc&&(Sc=1,Cs(e,qi(t,e.current)))}function iu(){var e=Ma.current;return null===e||((4194048&yc)===yc?null===La:((62914560&yc)===yc||0!==(536870912&yc))&&e===La)}function ru(){var e=R.H;return R.H=ps,null===e?ps:e}function au(){var e=R.A;return R.A=dc,e}function lu(){Sc=4,bc||(4194048&yc)!==yc&&null!==Ma.current||(xc=!0),0===(134217727&wc)&&0===(134217727&Nc)||null===pc||Zc(pc,yc,Tc,!1)}function su(e,t,n){var i=hc;hc|=2;var r=ru(),a=au();pc===e&&yc===t||(Oc=null,tu(e,t)),t=!1;var l=Sc;e:for(;;)try{if(0!==vc&&null!==fc){var s=fc,o=gc;switch(vc){case 8:eu(),l=6;break e;case 3:case 2:case 9:case 6:null===Ma.current&&(t=!0);var c=vc;if(vc=0,gc=null,mu(e,s,o,c),n&&xc){l=0;break e}break;default:c=vc,vc=0,gc=null,mu(e,s,o,c)}}ou(),l=Sc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,wr=Sr=null,hc=i,R.H=r,R.A=a,null===fc&&(pc=null,yc=0,_i()),l}function ou(){for(;null!==fc;)uu(fc)}function cu(){for(;null!==fc&&!le();)uu(fc)}function uu(e){var t=ao(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?hu(e):fc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ws(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Ws(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:ll(t);default:fo(n,t),t=ao(n,t=fc=Ui(t,jc),jc)}e.memoizedProps=e.pendingProps,null===t?hu(e):fc=t}function mu(e,t,n,i){wr=Sr=null,ll(t),sa=null,oa=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Ar(t,n,r,!0),null!==(n=Ma.current)){switch(n.tag){case 31:case 13:return null===La?lu():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),wu(e,i,r)),!1;case 22:return n.flags|=65536,i===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),wu(e,i,r)),!1}throw Error(l(435,n.tag))}return wu(e,i,r),lu(),!1}if(dr)return null!==(t=Ma.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==pr&&kr(qi(e=Error(l(422),{cause:i}),n))):(i!==pr&&kr(qi(t=Error(l(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=qi(i,n),ka(e,r=Es(e.stateNode,i,r)),4!==Sc&&(Sc=2)),!1;var a=Error(l(520),{cause:i});if(a=qi(a,n),null===Ac?Ac=[a]:Ac.push(a),4!==Sc&&(Sc=2),null===t)return!0;i=qi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,ka(n,e=Es(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Fc||!Fc.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,_s(r=As(r),e,n,i),ka(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,yc))return Sc=1,Cs(e,qi(n,e.current)),void(fc=null)}catch(a){if(null!==r)throw fc=r,a;return Sc=1,Cs(e,qi(n,e.current)),void(fc=null)}32768&t.flags?(dr||1===i?e=!0:xc||0!==(536870912&yc)?e=!1:(bc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Ma.current)&&13===i.tag&&(i.flags|=16384))),pu(t,e)):hu(t)}function hu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=ho(t.alternate,t,jc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Sc&&(Sc=5)}function pu(e,t){do{var n=po(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);Sc=6,fc=null}function fu(e,t,n,i,r,a,s,o,c){e.cancelPendingCommit=null;do{xu()}while(0!==Dc);if(0!==(6&hc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(a=t.lanes|t.childLanes,function(e,t,n,i,r,a){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-xe(n),d=1<<u;s[u]=0,o[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var h=m[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==i&&Le(e,i,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(l&~t))}(e,n,a|=Ai,s,o,c),e===pc&&(fc=pc=null,yc=0),Bc=t,Ic=e,zc=n,Uc=a,Yc=r,Kc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(me,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=R.T,R.T=null,r=O.p,O.p=2,s=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,pd=bm,ri(e=ii(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(y){n=null;break e}var s=0,o=-1,c=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var p;m!==n||0!==r&&3!==m.nodeType||(o=s+r),m!==a||0!==i&&3!==m.nodeType||(c=s+i),3===m.nodeType&&(s+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++u===r&&(o=s),h===a&&++d===i&&(c=s),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},bm=!1,Lo=t;null!==Lo;)if(e=(t=Lo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Lo=e;else for(;null!==Lo;){switch(a=(t=Lo).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var f=js(n.type,r);e=i.getSnapshotBeforeUpdate(f,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){Su(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Lo=e;break}Lo=t.return}}(e,t)}finally{hc=s,O.p=r,R.T=i}}Dc=1,yu(),vu(),gu()}}function yu(){if(1===Dc){Dc=0;var e=Ic,t=Bc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var i=O.p;O.p=2;var r=hc;hc|=4;try{Ho(t,e);var a=fd,l=ii(e.containerInfo),s=a.focusedElem,o=a.selectionRange;if(l!==s&&s&&s.ownerDocument&&ni(s.ownerDocument.documentElement,s)){if(null!==o&&ri(s)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=s.textContent.length,f=Math.min(o.start,p),y=void 0===o.end?f:Math.min(o.end,p);!h.extend&&f>y&&(l=y,y=f,f=l);var v=ti(s,f),g=ti(s,y);if(v&&g&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==g.node||h.focusOffset!==g.offset)){var b=d.createRange();b.setStart(v.node,v.offset),h.removeAllRanges(),f>y?(h.addRange(b),h.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),h.addRange(b))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}bm=!!pd,fd=pd=null}finally{hc=r,O.p=i,R.T=n}}e.current=t,Dc=2}}function vu(){if(2===Dc){Dc=0;var e=Ic,t=Bc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var i=O.p;O.p=2;var r=hc;hc|=4;try{Ro(e,t.alternate,t)}finally{hc=r,O.p=i,R.T=n}}Dc=3}}function gu(){if(4===Dc||3===Dc){Dc=0,se();var e=Ic,t=Bc,n=zc,i=Kc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Dc=5:(Dc=0,Bc=Ic=null,bu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Fc=null),De(n),t=t.stateNode,ge&&"function"===typeof ge.onCommitFiberRoot)try{ge.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==i){t=R.T,r=O.p,O.p=2,R.T=null;try{for(var a=e.onRecoverableError,l=0;l<i.length;l++){var s=i[l];a(s.value,{componentStack:s.stack})}}finally{R.T=t,O.p=r}}0!==(3&zc)&&xu(),Ou(e),r=e.pendingLanes,0!==(261930&n)&&0!==(42&r)?e===Hc?Wc++:(Wc=0,Hc=e):Wc=0,Fu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zr(t)))}function xu(){return yu(),vu(),gu(),ku()}function ku(){if(5!==Dc)return!1;var e=Ic,t=Uc;Uc=0;var n=De(zc),i=R.T,r=O.p;try{O.p=32>n?32:n,R.T=null,n=Yc,Yc=null;var a=Ic,s=zc;if(Dc=0,Bc=Ic=null,zc=0,0!==(6&hc))throw Error(l(331));var o=hc;if(hc|=4,oc(a.current),ec(a,a.current,s,n),hc=o,Fu(0,!1),ge&&"function"===typeof ge.onPostCommitFiberRoot)try{ge.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{O.p=r,R.T=i,bu(e,t)}}function ju(e,t,n){t=qi(n,t),null!==(e=ba(e,t=Es(e.stateNode,t,2),2))&&(Me(e,2),Ou(e))}function Su(e,t,n){if(3===e.tag)ju(e,e,n);else for(;null!==t;){if(3===t.tag){ju(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Fc||!Fc.has(i))){e=qi(n,e),null!==(i=ba(t,n=As(2),2))&&(_s(n,i,t,e),Me(i,2),Ou(i));break}}t=t.return}}function wu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new mc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(kc=!0,r.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(yc&n)===n&&(4===Sc||3===Sc&&(62914560&yc)===yc&&300>oe()-Mc?0===(2&hc)&&tu(e,0):Cc|=n,Ec===yc&&(Ec=0)),Ou(e)}function Cu(e,t){0===t&&(t=_e()),null!==(e=Li(e,t))&&(Me(e,t),Ou(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==i&&i.delete(t),Cu(e,n)}var Au=null,_u=null,Pu=!1,Mu=!1,Lu=!1,Ru=0;function Ou(e){e!==_u&&null===e.next&&(null===_u?Au=_u=e:_u=_u.next=e),Mu=!0,Pu||(Pu=!0,wd(function(){0!==(6&hc)?re(ue,Du):Iu()}))}function Fu(e,t){if(!Lu&&Mu){Lu=!0;do{for(var n=!1,i=Au;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var a=0;else{var l=i.suspendedLanes,s=i.pingedLanes;a=(1<<31-xe(42|e)+1)-1,a=201326741&(a&=r&~(l&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Uu(i,a))}else a=yc,0===(3&(a=Te(i,i===pc?a:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||Ee(i,a)||(n=!0,Uu(i,a));i=i.next}}while(n);Lu=!1}}function Du(){Iu()}function Iu(){Mu=Pu=!1;var e=0;0!==Ru&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Ru);for(var t=oe(),n=null,i=Au;null!==i;){var r=i.next,a=Bu(i,t);0===a?(i.next=null,null===n?Au=r:n.next=r,null===r&&(_u=n)):(n=i,(0!==e||0!==(3&a))&&(Mu=!0)),i=r}0!==Dc&&5!==Dc||Fu(e,!1),0!==Ru&&(Ru=0)}function Bu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var l=31-xe(a),s=1<<l,o=r[l];-1===o?0!==(s&n)&&0===(s&i)||(r[l]=Ae(s,t)):o<=t&&(e.expiredLanes|=s),a&=~s}if(n=yc,n=Te(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&ae(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&ae(i),De(n)){case 2:case 8:n=de;break;case 32:default:n=me;break;case 268435456:n=pe}return i=zu.bind(null,e),n=re(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&ae(i),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Dc&&5!==Dc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=yc;return 0===(i=Te(e,e===pc?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,i,t),Bu(e,oe()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Uu(e,t){if(xu())return null;$c(e,t,!0)}function Yu(){if(0===Ru){var e=Kr;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Ru=e}return Ru}function Ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<wi.length;Hu++){var Vu=wi[Hu];Ni(Vu.toLowerCase(),"on"+(Vu[0].toUpperCase()+Vu.slice(1)))}Ni(yi,"onAnimationEnd"),Ni(vi,"onAnimationIteration"),Ni(gi,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(bi,"onTransitionRun"),Ni(xi,"onTransitionStart"),Ni(ki,"onTransitionCancel"),Ni(ji,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function $u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var l=i.length-1;0<=l;l--){var s=i[l],o=s.instance,c=s.currentTarget;if(s=s.listener,o!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){Ci(u)}r.currentTarget=null,a=o}else for(l=0;l<i.length;l++){if(o=(s=i[l]).instance,c=s.currentTarget,s=s.listener,o!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){Ci(u)}r.currentTarget=null,a=o}}}}function Xu(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var i=e+"__bubble";n.has(i)||(ed(t,e,2,!1),n.add(i))}function Qu(e,t,n){var i=0;t&&(i|=4),ed(n,e,i,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(qu.has(t)||Qu(t,!1,e),Qu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Qu("selectionchange",!1,t))}}function ed(e,t,n,i){switch(Cm(t)){case 2:var r=xm;break;case 8:r=km;break;default:r=jm}n=r.bind(null,t,n,e),r=void 0,!Yt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function td(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var l=i.tag;if(3===l||4===l){var s=i.stateNode.containerInfo;if(s===r)break;if(4===l)for(l=i.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===r)return;l=l.return}for(;null!==s;){if(null===(l=Xe(s)))return;if(5===(c=l.tag)||6===c||26===c||27===c){i=a=l;continue e}s=s.parentNode}}i=i.return}Bt(function(){var i=a,r=Rt(n),l=[];e:{var s=Si.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case yi:case vi:case gi:c=un;break;case ji:c=kn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=jn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),m=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var p,f=i;null!==f;){var y=f;if(p=y.stateNode,5!==(y=y.tag)&&26!==y&&27!==y||null===p||null===h||null!=(y=zt(f,h))&&d.push(nd(f,y,p)),m)break;f=f.return}0<d.length&&(s=new c(s,u,null,n,r),l.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[Ke])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(m=o(u),d=u.tag,u!==m||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=sn,y="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,y="onPointerLeave",h="onPointerEnter",f="pointer"),m=null==c?s:Ze(c),p=null==u?s:Ze(u),(s=new d(y,f+"leave",c,n,r)).target=m,s.relatedTarget=p,y=null,Xe(r)===i&&((d=new d(h,f+"enter",u,n,r)).target=p,d.relatedTarget=m,y=d),m=y,c&&u)e:{for(d=rd,f=u,p=0,y=h=c;y;y=d(y))p++;y=0;for(var v=f;v;v=d(v))y++;for(;0<p-y;)h=d(h),p--;for(;0<y-p;)f=d(f),y--;for(;p--;){if(h===f||null!==f&&h===f.alternate){d=h;break e}h=d(h),f=d(f)}d=null}else d=null;null!==c&&ad(l,s,c,d,!1),null!==u&&null!==m&&ad(l,m,u,d,!0)}if("select"===(c=(s=i?Ze(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Un;else if(On(s))if(Yn)g=Qn;else{g=$n;var b=qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?i&&Et(i.elementType)&&(g=Un):g=Xn;switch(g&&(g=g(e,i))?Fn(l,g,n,r):(b&&b(e,s,i),"focusout"===e&&i&&"number"===s.type&&null!=i.memoizedProps.value&&xt(s,"number",s.value)),b=i?Ze(i):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(li=b,si=i,oi=null);break;case"focusout":oi=si=li=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":ci=!1,ui(l,n,r);break;case"selectionchange":if(ai)break;case"keydown":case"keyup":ui(l,n,r)}var x;if(Nn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ln?Pn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(En&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==k?"onCompositionEnd"===k&&Ln&&(x=Gt()):(Ht="value"in(Wt=r)?Wt.value:Wt.textContent,Ln=!0)),0<(b=id(i,k)).length&&(k=new mn(k,e,null,n,r),l.push({event:k,listeners:b}),x?k.data=x:null!==(x=Mn(n))&&(k.data=x))),(x=Tn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(_n=!0,An);case"textInput":return(e=t.data)===An&&_n?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Nn&&Pn(e,t)?(e=Gt(),Vt=Ht=Wt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=id(i,"onBeforeInput")).length&&(b=new mn("onBeforeInput","beforeinput",null,n,r),l.push({event:b,listeners:k}),b.data=x)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var a=Ku((r[Ye]||null).action),l=i.submitter;l&&null!==(t=(t=l[Ye]||null)?Ku(t.formAction):l.getAttribute("formAction"))&&(a=t,l=null);var s=new nn("action","action",null,i,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Ru){var e=l?Wu(r,l):new FormData(r);es(n,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=l?Wu(r,l):new FormData(r),es(n,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(l,e,i,n,r)}$u(l,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=zt(e,n))&&i.unshift(nd(e,r,a)),null!=(r=zt(e,t))&&i.push(nd(e,r,a))),3===e.tag)return i;e=e.return}return[]}function rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,i,r){for(var a=t._reactName,l=[];null!==n&&n!==i;){var s=n,o=s.alternate,c=s.stateNode;if(s=s.tag,null!==o&&o===i)break;5!==s&&26!==s&&27!==s||null===c||(o=c,r?null!=(c=zt(n,a))&&l.unshift(nd(n,c,o)):r||null!=(c=zt(n,a))&&l.push(nd(n,c,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var ld=/\r\n?/g,sd=/\u0000|\uFFFD/g;function od(e){return("string"===typeof e?e:""+e).replace(ld,"\n").replace(sd,"")}function cd(e,t){return t=od(t),od(e)===t}function ud(e,t,n,i,r,a){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||wt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&wt(e,""+i);break;case"className":ct(e,"class",i);break;case"tabIndex":ct(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,i);break;case"style":Tt(e,i,a);break;case"data":if("object"!==t){ct(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&ud(e,t,"name",r.name,r,null),ud(e,t,"formEncType",r.formEncType,r,null),ud(e,t,"formMethod",r.formMethod,r,null),ud(e,t,"formTarget",r.formTarget,r,null)):(ud(e,t,"encType",r.encType,r,null),ud(e,t,"method",r.method,r,null),ud(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Mt);break;case"onScroll":null!=i&&Xu("scroll",e);break;case"onScrollEnd":null!=i&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(l(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Pt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),ot(e,"popover",i);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ot(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=At.get(n)||n,i)}}function dd(e,t,n,i,r,a){switch(n){case"style":Tt(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(l(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof i?wt(e,i):("number"===typeof i||"bigint"===typeof i)&&wt(e,""+i);break;case"onScroll":null!=i&&Xu("scroll",e);break;case"onScrollEnd":null!=i&&Xu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ye]||null)?a[n]:null)&&e.removeEventListener(t,a,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):ot(e,n,i):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function md(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var i,r=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ud(e,t,i,s,n,null)}}return a&&ud(e,t,"srcSet",n.srcSet,n,null),void(r&&ud(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var o=i=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:ud(e,t,r,d,n,null)}}return void bt(e,i,o,c,u,s,a,!1);case"select":for(a in Xu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(o=n[a]))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:ud(e,t,a,o,n,null)}return t=i,n=s,e.multiple=!!r,void(null!=t?kt(e,!!r,t,!1):null!=n&&kt(e,!!r,n,!0));case"textarea":for(s in Xu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(o=n[s]))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:ud(e,t,s,o,n,null)}return void St(e,r,a,i);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else ud(e,t,c,r,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(r=0;r<Gu.length;r++)Xu(Gu[r],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ud(e,t,u,r,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&dd(e,t,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(r=n[o])&&ud(e,t,o,r,n,null))}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,fd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,jd="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,wd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(Nd)}:kd;function Nd(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Td(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===i)return e.removeChild(r),void Wm(t);i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)Id(e.ownerDocument.documentElement);else if("head"===n){Id(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var l=a.nextSibling,s=a.nodeName;a[qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=l}}else"body"===n&&Id(e.ownerDocument.body);n=r}while(n);Wm(t)}function Ed(e,t){var n=e;e=0;do{var i=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=i}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function _d(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Md(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rd=null;function Od(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ld(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Dd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Id(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Bd=new Map,zd=new Set;function Ud(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Yd=O.d;O.d={f:function(){var e=Yd.f(),t=Jc();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?ns(t):Yd.r(e)},D:function(e){Yd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Yd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Yd.L(e,t,n);var i=Kd;if(i&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var a=r;switch(t){case"style":a=Vd(e);break;case"script":a=$d(e)}Bd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bd.set(a,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Gd(a))||"script"===t&&i.querySelector(Xd(a))||(md(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}},m:function(e,t){Yd.m(e,t);var n=Kd;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(i)+'"][href="'+vt(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=$d(e)}if(!Bd.has(a)&&(e=h({rel:"modulepreload",href:e},t),Bd.set(a,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(a)))return}md(i=n.createElement("link"),"link",e),et(i),n.head.appendChild(i)}}},X:function(e,t){Yd.X(e,t);var n=Kd;if(n&&e){var i=Je(n).hoistableScripts,r=$d(e),a=i.get(r);a||((a=n.querySelector(Xd(r)))||(e=h({src:e,async:!0},t),(t=Bd.get(r))&&em(e,t),et(a=n.createElement("script")),md(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}},S:function(e,t,n){Yd.S(e,t,n);var i=Kd;if(i&&e){var r=Je(i).hoistableStyles,a=Vd(e);t=t||"default";var l=r.get(a);if(!l){var s={loading:0,preload:null};if(l=i.querySelector(Gd(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bd.get(a))&&Jd(e,n);var o=l=i.createElement("link");et(o),md(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(l,t,i)}l={type:"stylesheet",instance:l,count:1,state:s},r.set(a,l)}}},M:function(e,t){Yd.M(e,t);var n=Kd;if(n&&e){var i=Je(n).hoistableScripts,r=$d(e),a=i.get(r);a||((a=n.querySelector(Xd(r)))||(e=h({src:e,async:!0,type:"module"},t),(t=Bd.get(r))&&em(e,t),et(a=n.createElement("script")),md(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}};var Kd="undefined"===typeof document?null:document;function Wd(e,t,n){var i=Kd;if(i&&"string"===typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),zd.has(r)||(zd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(md(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}}function Hd(e,t,n,i){var r,a,s,o,c=(c=V.current)?Ud(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Vd(n.href),(i=(n=Je(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Vd(n.href);var u=Je(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Bd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bd.set(e,n),u||(r=c,a=e,s=n,o=d.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=r.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),md(a,"link",s),et(a),r.head.appendChild(a))))),t&&null===i)throw Error(l(528,""));return d}if(t&&null!==i)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=$d(n),(i=(n=Je(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Vd(e){return'href="'+vt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function qd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function $d(e){return'[src="'+vt(e)+'"]'}function Xd(e){return"script[async]"+e}function Qd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(i)return t.instance=i,et(i),i;var r=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(i=(e.ownerDocument||e).createElement("style")),md(i,"style",r),Zd(i,n.precedence,e),t.instance=i;case"stylesheet":r=Vd(n.href);var a=e.querySelector(Gd(r));if(a)return t.state.loading|=4,t.instance=a,et(a),a;i=qd(n),(r=Bd.get(r))&&Jd(i,r),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),md(a,"link",i),t.state.loading|=4,Zd(a,n.precedence,e),t.instance=a;case"script":return a=$d(n.src),(r=e.querySelector(Xd(a)))?(t.instance=r,et(r),r):(i=n,(r=Bd.get(a))&&em(i=h({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),md(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Zd(i,n.precedence,e));return t.instance}function Zd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,l=0;l<i.length;l++){var s=i[l];if(s.dataset.precedence===t)a=s;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function nm(e,t,n){if(null===tm){var i=new Map,r=tm=new Map;r.set(n,i)}else(i=(r=tm).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[qe]||a[Ue]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var l=a.getAttribute(t)||"";l=e+l;var s=i.get(l);s?s.push(a):i.set(l,[a])}}return i}function im(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rm(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var am=0;function lm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sm=null;function om(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sm=new Map,t.forEach(cm,e),sm=null,lm.call(e))}function cm(e,t){if(!(4&t.state.loading)){var n=sm.get(e);if(n)var i=n.get(null);else{n=new Map,sm.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var l=r[a];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),i=l)}i&&n.set(null,i)}l=(r=t.instance).getAttribute("data-precedence"),(a=n.get(l)||i)===i&&n.set(null,r),n.set(l,r),this.count++,i=lm.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var um={$$typeof:k,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function dm(e,t,n,i,r,a,l,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function mm(e,t,n,i,r,a,l,s,o,c,u,d){return e=new dm(e,t,n,l,o,c,u,d,s),t=1,!0===a&&(t|=24),a=Ii(3,null,null,t),e.current=a,a.stateNode=e,(t=Br()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},ya(a),e}function hm(e){return e?e=Fi:Fi}function pm(e,t,n,i,r,a){r=hm(r),null===i.context?i.context=r:i.pendingContext=r,(i=ga(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=ba(e,i,t))&&(qc(n,0,t),xa(n,e,t))}function fm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ym(e,t){fm(e,t),(e=e.alternate)&&fm(e,t)}function vm(e){if(13===e.tag||31===e.tag){var t=Li(e,67108864);null!==t&&qc(t,0,67108864),ym(e,67108864)}}function gm(e){if(13===e.tag||31===e.tag){var t=Vc(),n=Li(e,t=Fe(t));null!==n&&qc(n,0,t),ym(e,t)}}var bm=!0;function xm(e,t,n,i){var r=R.T;R.T=null;var a=O.p;try{O.p=2,jm(e,t,n,i)}finally{O.p=a,R.T=r}}function km(e,t,n,i){var r=R.T;R.T=null;var a=O.p;try{O.p=8,jm(e,t,n,i)}finally{O.p=a,R.T=r}}function jm(e,t,n,i){if(bm){var r=Sm(i);if(null===r)td(e,t,i,wm,n),Om(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Em=Fm(Em,e,t,n,i,r),!0;case"dragenter":return Am=Fm(Am,e,t,n,i,r),!0;case"mouseover":return _m=Fm(_m,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Pm.set(a,Fm(Pm.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Mm.set(a,Fm(Mm.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Om(e,i),4&t&&-1<Rm.indexOf(e)){for(;null!==r;){var a=Qe(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var l=Ce(a.pendingLanes);if(0!==l){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;l;){var o=1<<31-xe(l);s.entanglements[1]|=o,l&=~o}Ou(a),0===(6&hc)&&(Rc=oe()+500,Fu(0,!1))}}break;case 31:case 13:null!==(s=Li(a,2))&&qc(s,0,2),Jc(),ym(a,2)}if(null===(a=Sm(i))&&td(e,t,i,wm,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else td(e,t,i,null,n)}}function Sm(e){return Nm(e=Rt(e))}var wm=null;function Nm(e){if(wm=null,null!==(e=Xe(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wm=e,null}function Cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case me:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Tm=!1,Em=null,Am=null,_m=null,Pm=new Map,Mm=new Map,Lm=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":Em=null;break;case"dragenter":case"dragleave":Am=null;break;case"mouseover":case"mouseout":_m=null;break;case"pointerover":case"pointerout":Pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mm.delete(t.pointerId)}}function Fm(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=Qe(t))&&vm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dm(e){var t=Xe(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Be(e.priority,function(){gm(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Be(e.priority,function(){gm(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Im(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sm(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&vm(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Lt=i,n.target.dispatchEvent(i),Lt=null,t.shift()}return!0}function Bm(e,t,n){Im(e)&&n.delete(t)}function zm(){Tm=!1,null!==Em&&Im(Em)&&(Em=null),null!==Am&&Im(Am)&&(Am=null),null!==_m&&Im(_m)&&(_m=null),Pm.forEach(Bm),Mm.forEach(Bm)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zm)))}var Ym=null;function Km(e){Ym!==e&&(Ym=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ym===e&&(Ym=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===Nm(i||n))continue;break}var a=Qe(n);null!==a&&(e.splice(t,3),t-=3,es(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Wm(e){function t(t){return Um(t,e)}null!==Em&&Um(Em,e),null!==Am&&Um(Am,e),null!==_m&&Um(_m,e),Pm.forEach(t),Mm.forEach(t);for(var n=0;n<Lm.length;n++){var i=Lm[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Lm.length&&null===(n=Lm[0]).blockedOn;)Dm(n),null===n.blockedOn&&Lm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],l=r[Ye]||null;if("function"===typeof a)l||Km(n);else if(l){var s=null;if(a&&a.hasAttribute("formAction")){if(r=a,l=a[Ye]||null)s=l.formAction;else if(null!==Nm(r))continue}else s=l.action;"function"===typeof s?n[i+1]=s:(n.splice(i,3),i-=3),Km(n)}}}function Hm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Vm(e){this._internalRoot=e}function Gm(e){this._internalRoot=e}Gm.prototype.render=Vm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));pm(t.current,Vc(),e,t,null,null)},Gm.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pm(e.current,2,null,e,null,null),Jc(),t[Ke]=null}},Gm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lm.length&&0!==t&&t<Lm[n].priority;n++);Lm.splice(n,0,e),0===n&&Dm(e)}};var qm=r.version;if("19.2.3"!==qm)throw Error(l(527,qm,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return d(r),e;if(a===i)return d(r),t;a=a.sibling}throw Error(l(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,i=a;break}if(c===i){s=!0,i=r,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,i=r;break}if(c===i){s=!0,i=a,n=r;break}c=c.sibling}if(!s)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var $m={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xm.isDisabled&&Xm.supportsFiber)try{ve=Xm.inject($m),ge=Xm}catch(Zm){}}t.createRoot=function(e,t){if(!s(e))throw Error(l(299));var n=!1,i="",r=Ss,a=ws,o=Ns;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=mm(e,1,!1,null,0,n,i,null,r,a,o,Hm),e[Ke]=t.current,Ju(e),new Vm(t)}},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var k=x.prototype=new b;k.constructor=x,y(k,g.prototype),k.isPureReactComponent=!0;var j=Array.isArray;function S(){}var w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(e,t,i){var r=i.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,r,a,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case m:return _((u=e._init)(e._payload),t,r,a,l)}}if(u)return l=l(e),u=""===a?"."+A(e,0):a,j(l)?(r="",null!=u&&(r=u.replace(E,"$&/")+"/"),_(l,t,r,"",function(e){return e})):null!=l&&(T(l)&&(o=l,c=r+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+u,l=C(o.type,c,o.props)),t.push(l)),1;u=0;var d,h=""===a?".":a+":";if(j(e))for(var f=0;f<e.length;f++)u+=_(a=e[f],t,r,s=h+A(a,f),l);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(a=e.next()).done;)u+=_(a=a.value,t,r,s=h+A(a,f++),l);else if("object"===s){if("function"===typeof e.then)return _(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var i=[],r=0;return _(e,i,"","",function(e){return t.call(n,e,r++)}),i}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=R,t.Component=g,t.Fragment=r,t.Profiler=l,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=y({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)!N.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(i[a]=t[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),s=0;s<a;s++)l[s]=arguments[s+2];i.children=l}return C(e.type,r,i)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var i,r={},a=null;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)N.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var s=Array(l),o=0;o<l;o++)s[o]=arguments[o+2];r.children=s}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return C(e,a,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var i=e(),r=w.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(S,L)}catch(a){L(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useEffectEvent=function(e){return w.H.useEffectEvent(e)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=l.p;try{if(o.T=null,l.p=2,e)return e()}finally{o.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):"script"===n&&l.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in i={},t)"key"!==a&&(i[a]=t[a]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,l=r>>>1;i<l;){var s=2*(i+1)-1,o=e[s],c=s+1,u=e[c];if(0>a(o,n))c<r&&0>a(u,o)?(e[i]=u,e[c]=n,i=c):(e[i]=o,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,m=null,h=3,p=!1,f=!1,y=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function j(e){if(y=!1,k(e),!f)if(null!==i(c))f=!0,w||(w=!0,S());else{var t=i(u);null!==t&&M(j,t.startTime-e)}}var S,w=!1,N=-1,C=5,T=-1;function E(){return!!v||!(t.unstable_now()-T<C)}function A(){if(v=!1,w){var e=t.unstable_now();T=e;var n=!0;try{e:{f=!1,y&&(y=!1,b(N),N=-1),p=!0;var a=h;try{t:{for(k(e),m=i(c);null!==m&&!(m.expirationTime>e&&E());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var s=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){m.callback=s,k(e),n=!0;break t}m===i(c)&&r(c),k(e)}else r(c);m=i(c)}if(null!==m)n=!0;else{var o=i(u);null!==o&&M(j,o.startTime-e),n=!1}}break e}finally{m=null,h=a,p=!1}n=void 0}}finally{n?S():w=!1}}}if("function"===typeof x)S=function(){x(A)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,P=_.port2;_.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){g(A,0)};function M(e,n){N=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>l?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(y?(b(N),N=-1):y=!0,M(j,a-l))):(e.sortIndex=s,n(c,e),f||p||(f=!0,w||(w=!0,S()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>l[e]=()=>i[e]);return l.default=()=>i,n.d(a,l),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};n.r(i),n.d(i,{hasBrowserEnv:()=>$n,hasStandardBrowserEnv:()=>Qn,hasStandardBrowserWebWorkerEnv:()=>Zn,navigator:()=>Xn,origin:()=>Jn});var r=n(43),a=n.t(r,2),l=n(391);function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],p=["page"],f=["page","matches"],y=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var b="popstate";function x(){return T(function(e,t){let{pathname:n,search:i,hash:r}=e.location;return w("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:N(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function k(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return m(m({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?C(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function N(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function C(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function T(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,s="POP",o=null,c=u();function u(){return(l.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,o&&o({action:s,location:p.location,delta:t})}function h(e){return E(e)}null==c&&(c=0,l.replaceState(m(m({},l.state),{},{idx:c}),""));let p={get action(){return s},get location(){return e(r,l)},listen(e){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(b,d),o=e,()=>{r.removeEventListener(b,d),o=null}},createHref:e=>t(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let i=w(p.location,e,t);n&&n(i,e),c=u()+1;let d=S(i,c),m=p.createHref(i);try{l.pushState(d,"",m)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(m)}a&&o&&o({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let i=w(p.location,e,t);n&&n(i,e),c=u();let r=S(i,c),d=p.createHref(i);l.replaceState(r,"",d),a&&o&&o({action:s,location:p.location,delta:0})},go:e=>l.go(e)};return p}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),k(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof e?e:N(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function A(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,n,i){let r=H(("string"===typeof t?C(t):t).pathname||"/",n);if(null==r)return null;let a=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let l=null;for(let s=0;null==l&&s<a.length;++s){let e=W(r);l=U(a[s],e,i)}return l}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,s=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(i)&&l)return;k(o.relativePath.startsWith(i),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(i.length)}let c=J([i,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(k(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,u,c,l)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of M(e.path))a(e,t,!0,i);else a(e,t)}),t}function M(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let l=M(i.join("/")),s=[];return s.push(...l.map(e=>""===e?a:[a,e].join("/"))),r&&s.push(...l),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var L=/^:[\w-]+$/,R=3,O=2,F=1,D=10,I=-2,B=e=>"*"===e;function z(e,t){let n=e.split("/"),i=n.length;return n.some(B)&&(i+=I),t&&(i+=O),n.filter(e=>!B(e)).reduce((e,t)=>e+(L.test(t)?R:""===t?F:D),i)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,r={},a="/",l=[];for(let s=0;s<i.length;++s){let e=i[s],o=s===i.length-1,c="/"===a?t:t.slice(a.length)||"/",u=Y({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),d=e.route;if(!u&&o&&n&&!i[i.length-1].route.index&&(u=Y({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),l.push({params:r,pathname:J([a,u.pathname]),pathnameBase:ee(J([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=J([a,u.pathnameBase]))}return l}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=K(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=s[n]||"";l=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=s[n];return e[i]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:l,pattern:e}}function K(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function W(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return j(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}var V=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=e=>V.test(e);function q(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function $(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function X(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Q(e){let t=X(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Z(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=C(e):(i=m({},e),k(!i.pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),k(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),k(!i.search||!i.search.includes("#"),$("#","search","hash",i)));let a,l=""===e||""===i.pathname,s=l?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let o=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:i,search:r="",hash:a=""}="string"===typeof e?C(e):e;if(i)if(G(i))t=i;else{if(i.includes("//")){let e=i;i=i.replace(/\/\/+/g,"/"),j(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(i))}t=i.startsWith("/")?q(i.substring(1),"/"):q(i,n)}else t=n;return{pathname:t,search:te(r),hash:ne(a)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(l||"."===s)&&n.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}var J=e=>e.join("/").replace(/\/\/+/g,"/"),ee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),te=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ne=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ie=class{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function ae(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var le="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function se(e,t){let n=e;if("string"!==typeof n||!V.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(le)try{let e=new URL(window.location.href),i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=H(i.pathname,t);i.origin===e.origin&&null!=a?n=a+i.search+i.hash:r=!0}catch(a){j(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:i,isExternal:r,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oe=["POST","PUT","PATCH","DELETE"],ce=(new Set(oe),["GET",...oe]);new Set(ce),Symbol("ResetLoaderData");var ue=r.createContext(null);ue.displayName="DataRouter";var de=r.createContext(null);de.displayName="DataRouterState";var me=r.createContext(!1);function he(){return r.useContext(me)}var pe=r.createContext({isTransitioning:!1});pe.displayName="ViewTransition";var fe=r.createContext(new Map);fe.displayName="Fetchers";var ye=r.createContext(null);ye.displayName="Await";var ve=r.createContext(null);ve.displayName="Navigation";var ge=r.createContext(null);ge.displayName="Location";var be=r.createContext({outlet:null,matches:[],isDataRoute:!1});be.displayName="Route";var xe=r.createContext(null);xe.displayName="RouteError";var ke="REACT_ROUTER_ERROR";function je(){return null!=r.useContext(ge)}function Se(){return k(je(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ge).location}var we="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ne(e){r.useContext(ve).static||r.useLayoutEffect(e)}function Ce(){let{isDataRoute:e}=r.useContext(be);return e?function(){let{router:e}=ze("useNavigate"),t=Ye("useNavigate"),n=r.useRef(!1);Ne(()=>{n.current=!0});let i=r.useCallback(async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(n.current,we),n.current&&("number"===typeof i?await e.navigate(i):await e.navigate(i,m({fromRouteId:t},r)))},[e,t]);return i}():function(){k(je(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ue),{basename:t,navigator:n}=r.useContext(ve),{matches:i}=r.useContext(be),{pathname:a}=Se(),l=JSON.stringify(Q(i)),s=r.useRef(!1);Ne(()=>{s.current=!0});let o=r.useCallback(function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j(s.current,we),!s.current)return;if("number"===typeof i)return void n.go(i);let o=Z(i,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:J([t,o.pathname])),(r.replace?n.replace:n.push)(o,r.state,r)},[t,n,l,a,e]);return o}()}var Te=r.createContext(null);function Ee(){return r.useContext(Te)}function Ae(){let{matches:e}=r.useContext(be),t=e[e.length-1];return t?t.params:{}}function _e(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(be),{pathname:i}=Se(),a=JSON.stringify(Q(n));return r.useMemo(()=>Z(e,JSON.parse(a),i,"path"===t),[e,a,i,t])}function Pe(e,t,n,i,a){k(je(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=r.useContext(ve),{matches:s}=r.useContext(be),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";He(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,f=Se();if(t){var y;let e="string"===typeof t?C(t):t;k("/"===d||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=f;let v=p.pathname||"/",g=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=A(e,{pathname:g});j(h||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),j(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=Ie(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([d,l.encodeLocation?l.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:J([d,l.encodeLocation?l.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,i,a);return t&&x?r.createElement(ge.Provider,{value:{location:m({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},x):x}function Me(){let e=Ke(),t=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:l},"ErrorBoundary")," or"," ",r.createElement("code",{style:l},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,s)}var Le=r.createElement(Me,null),Re=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(ke,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ie(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(be.Provider,{value:this.props.routeContext},r.createElement(xe.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Fe,{error:e},t):t}};Re.contextType=me;var Oe=new WeakMap;function Fe(e){let{children:t,error:n}=e,{basename:i}=r.useContext(ve);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(ke,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Oe.get(n);if(t)throw t;let a=se(e.location,i);if(le&&!Oe.get(n)){if(!a.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:e.replace}));throw Oe.set(n,t),t}window.location.href=a.absoluteURL||a.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(a.absoluteURL||a.to)})}}return t}function De(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(ue);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},i)}function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,l=null===n||void 0===n?void 0:n.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null===l||void 0===l?void 0:l[e.route.id]));k(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(l).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,o=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){s=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}let c=n&&i?(e,t)=>{var r,a;i(e,{location:n.location,params:null!==(r=null===(a=n.matches)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.params)&&void 0!==r?r:{},unstable_pattern:ae(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,i,u)=>{let d,m=!1,h=null,p=null;n&&(d=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||Le,s&&(o<0&&0===u?(He("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):o===u&&(m=!0,p=i.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,u+1)),y=()=>{let t;return t=d?h:m?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(De,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?r.createElement(Re,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:y(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):y()},null)}function Be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ze(e){let t=r.useContext(ue);return k(t,Be(e)),t}function Ue(e){let t=r.useContext(de);return k(t,Be(e)),t}function Ye(e){let t=function(e){let t=r.useContext(be);return k(t,Be(e)),t}(e),n=t.matches[t.matches.length-1];return k(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ke(){var e;let t=r.useContext(xe),n=Ue("useRouteError"),i=Ye("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var We={};function He(e,t,n){t||We[e]||(We[e]=!0,j(!1,n))}var Ve={};function Ge(e,t){e||Ve[t]||(Ve[t]=!0,console.warn(t))}a.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:i,onError:r}=e;return Pe(t,void 0,i,r,n)});function qe(e){let{to:t,replace:n,state:i,relative:a}=e;k(je(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=r.useContext(ve);j(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=r.useContext(be),{pathname:o}=Se(),c=Ce(),u=Z(t,Q(s),o,"path"===a),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:i,relative:a})},[c,d,a,n,i]),null}function $e(e){return function(e){let t=r.useContext(be).outlet;return r.useMemo(()=>t&&r.createElement(Te.Provider,{value:e},t),[t,e])}(e.context)}function Xe(e){k(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qe(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:l,static:s=!1,unstable_useTransitions:o}=e;k(!je(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:l,static:s,unstable_useTransitions:o,future:{}}),[c,l,s,o]);"string"===typeof i&&(i=C(i));let{pathname:d="/",search:m="",hash:h="",state:p=null,key:f="default"}=i,y=r.useMemo(()=>{let e=H(d,c);return null==e?null:{location:{pathname:e,search:m,hash:h,state:p,key:f},navigationType:a}},[c,d,m,h,p,f,a]);return j(null!=y,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(m).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:r.createElement(ve.Provider,{value:u},r.createElement(ge.Provider,{children:n,value:y}))}function Ze(e){let{children:t,location:n}=e;return Pe(Je(t),n)}r.Component;function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Je(e.props.children,a));k(e.type===Xe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),k(!e.props.index||!e.props.children,"An index route cannot have child routes.");let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=Je(e.props.children,a)),n.push(l)}),n}var et="get",tt="application/x-www-form-urlencoded";function nt(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}function it(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(e=>[n,e]):[[n,i]])},[]))}var rt=null;var at=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lt(e){return null==e||at.has(e)?e:(j(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(tt,'"')),null)}function st(e,t){let n,i,r,a,l;if(nt(s=e)&&"form"===s.tagName.toLowerCase()){let l=e.getAttribute("action");i=l?H(l,t):null,n=e.getAttribute("method")||et,r=lt(e.getAttribute("enctype"))||tt,a=new FormData(e)}else if(function(e){return nt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return nt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(i=s?H(s,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||et,r=lt(e.getAttribute("formenctype"))||lt(l.getAttribute("enctype"))||tt,a=new FormData(l,e),!function(){if(null===rt)try{new FormData(document.createElement("form"),0),rt=!1}catch(e){rt=!0}return rt}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,i)}}else{if(nt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=et,i=null,r=tt,l=e}var s;return a&&"text/plain"===r&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function ot(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function ct(e,t,n){let i="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===i.pathname?i.pathname="_root.".concat(n):t&&"/"===H(i.pathname,t)?i.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(n),i}async function ut(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dt(e){return null!=e&&"string"===typeof e.page}function mt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ht(e,t,n,i,r,a){let l=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>l(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let o=i.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(l(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let i=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function pt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1),[...new Set(i)];var i}function ft(e,t){let n=new Set,i=new Set(t);return e.reduce((e,r)=>{if(t&&!dt(r)&&"script"===r.as&&r.href&&i.has(r.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(r));return n.has(a)||(n.add(a),e.push({key:a,link:r})),e},[])}function yt(e,t){return"lazy"===e.mode&&!0===t}function vt(){let e=r.useContext(ue);return ot(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gt(){let e=r.useContext(de);return ot(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bt=r.createContext(void 0);function xt(){let e=r.useContext(bt);return ot(e,"You must render this element inside a <HydratedRouter> element"),e}function kt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function jt(e,t,n){if(n&&!Ct)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}bt.displayName="FrameworkContext";function St(e){let{page:t}=e,n=s(e,p),{router:i}=vt(),a=r.useMemo(()=>A(i.routes,t,i.basename),[i.routes,t,i.basename]);return a?r.createElement(Nt,m({page:t,matches:a},n)):null}function wt(e){let{manifest:t,routeModules:n}=xt(),[i,a]=r.useState([]);return r.useEffect(()=>{let i=!1;return async function(e,t,n){return ft((await Promise.all(e.map(async e=>{let i=t.routes[e.route.id];if(i){let e=await ut(i,n);return e.links?e.links():[]}return[]}))).flat(1).filter(mt).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?m(m({},e),{},{rel:"prefetch",as:"style"}):m(m({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{i||a(e)}),()=>{i=!0}},[e,t,n]),i}function Nt(e){let{page:t,matches:n}=e,i=s(e,f),a=Se(),{manifest:l,routeModules:o}=xt(),{basename:c}=vt(),{loaderData:u,matches:d}=gt(),h=r.useMemo(()=>ht(t,n,d,l,a,"data"),[t,n,d,l,a]),p=r.useMemo(()=>ht(t,n,d,l,a,"assets"),[t,n,d,l,a]),y=r.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,i=!1;if(n.forEach(t=>{var n;let r=l.routes[t.route.id];r&&r.hasLoader&&(!h.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?i=!0:e.add(t.route.id))}),0===e.size)return[];let r=ct(t,c,"data");return i&&e.size>0&&r.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[c,u,a,l,h,n,t,o]),v=r.useMemo(()=>pt(p,l),[p,l]),g=wt(p);return r.createElement(r.Fragment,null,y.map(e=>r.createElement("link",m({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>r.createElement("link",m({key:e,rel:"modulepreload",href:e},i))),g.map(e=>{let{key:t,link:n}=e;return r.createElement("link",m({key:t,nonce:i.nonce},n))}))}var Ct=!1;function Tt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:a,routeDiscovery:l,ssr:o}=xt(),{router:c,static:u,staticContext:d}=vt(),{matches:p}=gt(),f=he(),y=yt(l,o);a&&(a.didRenderScripts=!0);let v=jt(p,null,i);r.useEffect(()=>{Ct=!0},[]);let g=r.useMemo(()=>{var i;if(f)return null;let a=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=u?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(y?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let i="route".concat(n),r=t.routes[e.route.id];ot(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:l,clientMiddlewareModule:s,hydrateFallbackModule:o,module:c}=r,u=[...a?[{module:a,varName:"".concat(i,"_clientAction")}]:[],...l?[{module:l,varName:"".concat(i,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(i,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(i," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(y?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=s(e,h),r=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(a.pop();a.length>0;)l.push("/".concat(a.join("/"))),a.pop();l.forEach(e=>{let n=A(t.routes,e,t.basename);n&&n.forEach(e=>r.add(e.route.id))});let o=[...r].reduce((e,t)=>Object.assign(e,{[t]:i.routes[t]}),{});return m(m({},i),{},{routes:o,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",m(m({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),r.createElement("script",m(m({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:"module",async:!0})))},[]),b=Ct||f?[]:(x=t.entry.imports.concat(pt(v,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let k="object"===typeof t.sri?t.sri:{};return Ge(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Ct||f?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:k})}}):null,y?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:k[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:k[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:k[t],suppressHydrationWarning:!0})),g)}function Et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function At(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(t))return r.createElement(_t,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(_t,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function _t(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:l}=e,{routeModules:s}=xt();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!a?l:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},l,i?r.createElement(Tt,null):null)))}var Pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Pt&&(window.__reactRouterVersion="7.11.0")}catch(Ib){}function Mt(e){let{basename:t,children:n,unstable_useTransitions:i,window:a}=e,l=r.useRef();null==l.current&&(l.current=x({window:a,v5Compat:!0}));let s=l.current,[o,c]=r.useState({action:s.action,location:s.location}),u=r.useCallback(e=>{!1===i?c(e):r.startTransition(()=>c(e))},[i]);return r.useLayoutEffect(()=>s.listen(u),[s,u]),r.createElement(Qe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:i})}var Lt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=r.forwardRef(function(e,t){let{onClick:n,discover:i="render",prefetch:a="none",relative:l,reloadDocument:o,replace:c,state:u,target:d,to:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:v}=e,g=s(e,y),{basename:b,unstable_useTransitions:x}=r.useContext(ve),j="string"===typeof h&&Lt.test(h),S=se(h,b);h=S.to;let w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(je(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ve),{hash:a,pathname:l,search:s}=_e(e,{relative:t}),o=l;return"/"!==n&&(o="/"===l?n:J([n,l])),i.createHref({pathname:o,search:s,hash:a})}(h,{relative:l}),[C,T,E]=function(e,t){let n=r.useContext(bt),[i,a]=r.useState(!1),[l,s]=r.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=t,h=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{a(!0)},f=()=>{a(!1),s(!1)};return n?"intent"!==e?[l,h,{}]:[l,h,{onFocus:kt(o,p),onBlur:kt(c,f),onMouseEnter:kt(u,p),onMouseLeave:kt(d,f),onTouchStart:kt(m,p)}]:[!1,h,{}]}(a,g),A=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=Ce(),d=Se(),m=_e(e,{relative:l});return r.useCallback(h=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(h,t)){h.preventDefault();let t=void 0!==n?n:N(d)===N(m),p=()=>u(e,{replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:s,unstable_defaultShouldRevalidate:o});c?r.startTransition(()=>p()):p()}},[d,u,m,n,i,t,e,a,l,s,o,c])}(h,{replace:c,state:u,target:d,preventScrollReset:p,relative:l,viewTransition:f,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x});let _=r.createElement("a",m(m(m({},g),E),{},{href:S.absoluteURL||w,onClick:S.isExternal||o?n:function(e){n&&n(e),e.defaultPrevented||A(e)},ref:Et(t,T),target:d,"data-discover":j||"render"!==i?void 0:"true"}));return C&&!j?r.createElement(r.Fragment,null,_,r.createElement(St,{page:w})):_});Rt.displayName="Link";var Ot=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:u,children:d}=e,h=s(e,v),p=_e(c,{relative:h.relative}),f=Se(),y=r.useContext(de),{navigator:g,basename:b}=r.useContext(ve),x=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(pe);k(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=It("useViewTransitionState"),a=_e(e,{relative:t});if(!n.isTransitioning)return!1;let l=H(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=H(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=Y(a.pathname,s)||null!=Y(a.pathname,l)}(p)&&!0===u,j=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,S=f.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),w=w?w.toLowerCase():null,j=j.toLowerCase()),w&&b&&(w=H(w,b)||w);const N="/"!==j&&j.endsWith("/")?j.length-1:j.length;let C,T=S===j||!l&&S.startsWith(j)&&"/"===S.charAt(N),E=null!=w&&(w===j||!l&&w.startsWith(j)&&"/"===w.charAt(j.length)),A={isActive:T,isPending:E,isTransitioning:x},_=T?n:void 0;C="function"===typeof a?a(A):[a,T?"active":null,E?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof o?o(A):o;return r.createElement(Rt,m(m({},h),{},{"aria-current":_,className:C,ref:t,style:P,to:c,viewTransition:u}),"function"===typeof d?d(A):d)});Ot.displayName="NavLink";var Ft=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:l,replace:o,state:c,method:u=et,action:d,onSubmit:h,relative:p,preventScrollReset:f,viewTransition:y,unstable_defaultShouldRevalidate:v}=e,b=s(e,g),{unstable_useTransitions:x}=r.useContext(ve),j=Yt(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ve),i=r.useContext(be);k(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l=m({},_e(e||".",{relative:t})),s=Se();if(null==e){l.search=s.search;let e=new URLSearchParams(l.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();l.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(l.pathname="/"===l.pathname?n:J([n,l.pathname]));return N(l)}(d,{relative:p}),w="get"===u.toLowerCase()?"get":"post",C="string"===typeof d&&Lt.test(d);return r.createElement("form",m(m({ref:t,method:w,action:S,onSubmit:l?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,l=()=>j(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:o,state:c,relative:p,preventScrollReset:f,viewTransition:y,unstable_defaultShouldRevalidate:v});x&&!1!==a?r.startTransition(()=>l()):l()}},b),{},{"data-discover":C||"render"!==n?void 0:"true"}))});function Dt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function It(e){let t=r.useContext(ue);return k(t,Dt(e)),t}function Bt(e){j("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=r.useRef(it(e)),n=r.useRef(!1),i=Se(),a=r.useMemo(()=>function(e,t){let n=it(e);return t&&t.forEach((e,i)=>{n.has(i)||t.getAll(i).forEach(e=>{n.append(i,e)})}),n}(i.search,n.current?null:t.current),[i.search]),l=Ce(),s=r.useCallback((e,t)=>{const i=it("function"===typeof e?e(new URLSearchParams(a)):e);n.current=!0,l("?"+i,t)},[l,a]);return[a,s]}Ft.displayName="Form";var zt=0,Ut=()=>"__".concat(String(++zt),"__");function Yt(){let{router:e}=It("useSubmit"),{basename:t}=r.useContext(ve),n=Ye("useRouteId"),i=e.fetch,a=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:l,method:s,encType:o,formData:c,body:u}=st(e,t);if(!1===r.navigate){let e=r.fetcherKey||Ut();await i(e,n,r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await a(r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,a,t,n])}function Kt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Wt}=Object.prototype,{getPrototypeOf:Ht}=Object,{iterator:Vt,toStringTag:Gt}=Symbol,qt=($t=Object.create(null),e=>{const t=Wt.call(e);return $t[t]||($t[t]=t.slice(8,-1).toLowerCase())});var $t;const Xt=e=>(e=e.toLowerCase(),t=>qt(t)===e),Qt=e=>t=>typeof t===e,{isArray:Zt}=Array,Jt=Qt("undefined");function en(e){return null!==e&&!Jt(e)&&null!==e.constructor&&!Jt(e.constructor)&&rn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tn=Xt("ArrayBuffer");const nn=Qt("string"),rn=Qt("function"),an=Qt("number"),ln=e=>null!==e&&"object"===typeof e,sn=e=>{if("object"!==qt(e))return!1;const t=Ht(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Gt in e)&&!(Vt in e)},on=Xt("Date"),cn=Xt("File"),un=Xt("Blob"),dn=Xt("FileList"),mn=Xt("URLSearchParams"),[hn,pn,fn,yn]=["ReadableStream","Request","Response","Headers"].map(Xt);function vn(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Zt(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(en(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(n=0;n<a;n++)l=i[n],t.call(null,e[l],l,e)}}function gn(e,t){if(en(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const bn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,xn=e=>!Jt(e)&&e!==bn;const kn=(jn="undefined"!==typeof Uint8Array&&Ht(Uint8Array),e=>jn&&e instanceof jn);var jn;const Sn=Xt("HTMLFormElement"),wn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Nn=Xt("RegExp"),Cn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};vn(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(i[r]=a||n)}),Object.defineProperties(e,i)};const Tn=Xt("AsyncFunction"),En=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),i=[],bn.addEventListener("message",e=>{let{source:t,data:r}=e;t===bn&&r===n&&i.length&&i.shift()()},!1),e=>{i.push(e),bn.postMessage(n,"*")}):e=>setTimeout(e);var n,i})("function"===typeof setImmediate,rn(bn.postMessage)),An="undefined"!==typeof queueMicrotask?queueMicrotask.bind(bn):"undefined"!==typeof process&&process.nextTick||En,_n={isArray:Zt,isArrayBuffer:tn,isBuffer:en,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||rn(e.append)&&("formdata"===(t=qt(e))||"object"===t&&rn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tn(e.buffer),t},isString:nn,isNumber:an,isBoolean:e=>!0===e||!1===e,isObject:ln,isPlainObject:sn,isEmptyObject:e=>{if(!ln(e)||en(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ib){return!1}},isReadableStream:hn,isRequest:pn,isResponse:fn,isHeaders:yn,isUndefined:Jt,isDate:on,isFile:cn,isBlob:un,isRegExp:Nn,isFunction:rn,isStream:e=>ln(e)&&rn(e.pipe),isURLSearchParams:mn,isTypedArray:kn,isFileList:dn,forEach:vn,merge:function e(){const{caseless:t,skipUndefined:n}=xn(this)&&this||{},i={},r=(r,a)=>{const l=t&&gn(i,a)||a;sn(i[l])&&sn(r)?i[l]=e(i[l],r):sn(r)?i[l]=e({},r):Zt(r)?i[l]=r.slice():n&&Jt(r)||(i[l]=r)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&vn(arguments[a],r);return i},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return vn(t,(t,i)=>{n&&rn(t)?e[i]=Kt(t,n):e[i]=t},{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,l;const s={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)l=r[a],i&&!i(l,e,t)||s[l]||(t[l]=e[l],s[l]=!0);e=!1!==n&&Ht(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:qt,kindOfTest:Xt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Zt(e))return e;let t=e.length;if(!an(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Vt]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Sn,hasOwnProperty:wn,hasOwnProp:wn,reduceDescriptors:Cn,freezeMethods:e=>{Cn(e,(t,n)=>{if(rn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];rn(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Zt(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:gn,global:bn,isContextDefined:xn,isSpecCompliantForm:function(e){return!!(e&&rn(e.append)&&"FormData"===e[Gt]&&e[Vt])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(ln(e)){if(t.indexOf(e)>=0)return;if(en(e))return e;if(!("toJSON"in e)){t[i]=e;const r=Zt(e)?[]:{};return vn(e,(e,t)=>{const a=n(e,i+1);!Jt(a)&&(r[t]=a)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:Tn,isThenable:e=>e&&(ln(e)||rn(e))&&rn(e.then)&&rn(e.catch),setImmediate:En,asap:An,isIterable:e=>null!=e&&rn(e[Vt])};function Pn(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}_n.inherits(Pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_n.toJSONObject(this.config),code:this.code,status:this.status}}});const Mn=Pn.prototype,Ln={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ln[e]={value:e}}),Object.defineProperties(Pn,Ln),Object.defineProperty(Mn,"isAxiosError",{value:!0}),Pn.from=(e,t,n,i,r,a)=>{const l=Object.create(Mn);_n.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return Pn.call(l,s,o,n,i,r),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",a&&Object.assign(l,a),l};const Rn=Pn;function On(e){return _n.isPlainObject(e)||_n.isArray(e)}function Fn(e){return _n.endsWith(e,"[]")?e.slice(0,-2):e}function Dn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Fn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const In=_n.toFlatObject(_n,{},null,function(e){return/^is[A-Z]/.test(e)});const Bn=function(e,t,n){if(!_n.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=_n.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!_n.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,l=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_n.isSpecCompliantForm(t);if(!_n.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(_n.isDate(e))return e.toISOString();if(_n.isBoolean(e))return e.toString();if(!s&&_n.isBlob(e))throw new Rn("Blob is not supported. Use a Buffer instead.");return _n.isArrayBuffer(e)||_n.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let s=e;if(e&&!r&&"object"===typeof e)if(_n.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(_n.isArray(e)&&function(e){return _n.isArray(e)&&!e.some(On)}(e)||(_n.isFileList(e)||_n.endsWith(n,"[]"))&&(s=_n.toArray(e)))return n=Fn(n),s.forEach(function(e,i){!_n.isUndefined(e)&&null!==e&&t.append(!0===l?Dn([n],i,a):null===l?n:n+"[]",o(e))}),!1;return!!On(e)||(t.append(Dn(r,n,a),o(e)),!1)}const u=[],d=Object.assign(In,{defaultVisitor:c,convertValue:o,isVisitable:On});if(!_n.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!_n.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),_n.forEach(n,function(n,a){!0===(!(_n.isUndefined(n)||null===n)&&r.call(t,n,_n.isString(a)?a.trim():a,i,d))&&e(n,i?i.concat(a):[a])}),u.pop()}}(e),t};function zn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Un(e,t){this._pairs=[],e&&Bn(e,this,t)}const Yn=Un.prototype;Yn.append=function(e,t){this._pairs.push([e,t])},Yn.toString=function(e){const t=e?function(t){return e.call(this,t,zn)}:zn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Kn=Un;function Wn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Hn(e,t,n){if(!t)return e;const i=n&&n.encode||Wn;_n.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):_n.isURLSearchParams(t)?t.toString():new Kn(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Vn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_n.forEach(this.handlers,function(t){null!==t&&e(t)})}},Gn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Kn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},$n="undefined"!==typeof window&&"undefined"!==typeof document,Xn="object"===typeof navigator&&navigator||void 0,Qn=$n&&(!Xn||["ReactNative","NativeScript","NS"].indexOf(Xn.product)<0),Zn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Jn=$n&&window.location.href||"http://localhost",ei=m(m({},i),qn);const ti=function(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const l=Number.isFinite(+a),s=r>=e.length;if(a=!a&&_n.isArray(i)?i.length:a,s)return _n.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l;i[a]&&_n.isObject(i[a])||(i[a]=[]);return t(e,n,i[a],r)&&_n.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!l}if(_n.isFormData(e)&&_n.isFunction(e.entries)){const n={};return _n.forEachEntry(e,(e,i)=>{t(function(e){return _n.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,n,0)}),n}return null};const ni={transitional:Gn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=_n.isObject(e);r&&_n.isHTMLForm(e)&&(e=new FormData(e));if(_n.isFormData(e))return i?JSON.stringify(ti(e)):e;if(_n.isArrayBuffer(e)||_n.isBuffer(e)||_n.isStream(e)||_n.isFile(e)||_n.isBlob(e)||_n.isReadableStream(e))return e;if(_n.isArrayBufferView(e))return e.buffer;if(_n.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Bn(e,new ei.classes.URLSearchParams,m({visitor:function(e,t,n,i){return ei.isNode&&_n.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=_n.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Bn(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(_n.isString(e))try{return(t||JSON.parse)(e),_n.trim(e)}catch(Ib){if("SyntaxError"!==Ib.name)throw Ib}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ni.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(_n.isResponse(e)||_n.isReadableStream(e))return e;if(e&&_n.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(Ib){if(n){if("SyntaxError"===Ib.name)throw Rn.from(Ib,Rn.ERR_BAD_RESPONSE,this,null,this.response);throw Ib}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ei.classes.FormData,Blob:ei.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_n.forEach(["delete","get","head","post","put","patch"],e=>{ni.headers[e]={}});const ii=ni,ri=_n.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ai=Symbol("internals");function li(e){return e&&String(e).trim().toLowerCase()}function si(e){return!1===e||null==e?e:_n.isArray(e)?e.map(si):String(e)}function oi(e,t,n,i,r){return _n.isFunction(i)?i.call(this,t,n):(r&&(t=n),_n.isString(t)?_n.isString(i)?-1!==t.indexOf(i):_n.isRegExp(i)?i.test(t):void 0:void 0)}class ci{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=li(t);if(!r)throw new Error("header name must be a non-empty string");const a=_n.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=si(e))}const a=(e,t)=>_n.forEach(e,(e,n)=>r(e,n,t));if(_n.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(_n.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&ri[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(e),t);else if(_n.isObject(e)&&_n.isIterable(e)){let n,i,r={};for(const t of e){if(!_n.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?_n.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=li(e)){const n=_n.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(_n.isFunction(t))return t.call(this,e,n);if(_n.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=li(e)){const n=_n.findKey(this,e);return!(!n||void 0===this[n]||t&&!oi(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=li(e)){const r=_n.findKey(n,e);!r||t&&!oi(0,n[r],r,t)||(delete n[r],i=!0)}}return _n.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!oi(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return _n.forEach(this,(i,r)=>{const a=_n.findKey(n,r);if(a)return t[a]=si(i),void delete t[r];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();l!==r&&delete t[r],t[l]=si(i),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return _n.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&_n.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ai]=this[ai]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=li(e);t[i]||(!function(e,t){const n=_n.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[i]=!0)}return _n.isArray(e)?e.forEach(i):i(e),this}}ci.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_n.reduceDescriptors(ci.prototype,(e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}}),_n.freezeMethods(ci);const ui=ci;function di(e,t){const n=this||ii,i=t||n,r=ui.from(i.headers);let a=i.data;return _n.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function mi(e){return!(!e||!e.__CANCEL__)}function hi(e,t,n){Rn.call(this,null==e?"canceled":e,Rn.ERR_CANCELED,t,n),this.name="CanceledError"}_n.inherits(hi,Rn,{__CANCEL__:!0});const pi=hi;function fi(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Rn("Request failed with status code "+n.status,[Rn.ERR_BAD_REQUEST,Rn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const yi=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,l=0;return t=void 0!==t?t:1e3,function(s){const o=Date.now(),c=i[l];r||(r=o),n[a]=s,i[a]=o;let u=l,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*d/m):void 0}};const vi=function(e,t){let n,i,r=0,a=1e3/t;const l=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,n=null,i&&(clearTimeout(i),i=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];t>=a?l(o,e):(n=o,i||(i=setTimeout(()=>{i=null,l(n)},a-t)))},()=>n&&l(n)]},gi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=yi(50,250);return vi(n=>{const a=n.loaded,l=n.lengthComputable?n.total:void 0,s=a-i,o=r(s);i=a;e({loaded:a,total:l,progress:l?a/l:void 0,bytes:s,rate:o||void 0,estimated:o&&l&&a<=l?(l-a)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},bi=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},xi=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return _n.asap(()=>e(...n))},ki=ei.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ei.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ei.origin),ei.navigator&&/(msie|trident)/i.test(ei.navigator.userAgent)):()=>!0,ji=ei.hasStandardBrowserEnv?{write(e,t,n,i,r,a,l){if("undefined"===typeof document)return;const s=["".concat(e,"=").concat(encodeURIComponent(t))];_n.isNumber(n)&&s.push("expires=".concat(new Date(n).toUTCString())),_n.isString(i)&&s.push("path=".concat(i)),_n.isString(r)&&s.push("domain=".concat(r)),!0===a&&s.push("secure"),_n.isString(l)&&s.push("SameSite=".concat(l)),document.cookie=s.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Si(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const wi=e=>e instanceof ui?m({},e):e;function Ni(e,t){t=t||{};const n={};function i(e,t,n,i){return _n.isPlainObject(e)&&_n.isPlainObject(t)?_n.merge.call({caseless:i},e,t):_n.isPlainObject(t)?_n.merge({},t):_n.isArray(t)?t.slice():t}function r(e,t,n,r){return _n.isUndefined(t)?_n.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function a(e,t){if(!_n.isUndefined(t))return i(void 0,t)}function l(e,t){return _n.isUndefined(t)?_n.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}const o={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:s,headers:(e,t,n)=>r(wi(e),wi(t),0,!0)};return _n.forEach(Object.keys(m(m({},e),t)),function(i){const a=o[i]||r,l=a(e[i],t[i],i);_n.isUndefined(l)&&a!==s||(n[i]=l)}),n}const Ci=e=>{const t=Ni({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:l,auth:s}=t;if(t.headers=l=ui.from(l),t.url=Hn(Si(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&l.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),_n.isFormData(n))if(ei.hasStandardBrowserEnv||ei.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(_n.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,i]=e;t.includes(n.toLowerCase())&&l.set(n,i)})}if(ei.hasStandardBrowserEnv&&(i&&_n.isFunction(i)&&(i=i(t)),i||!1!==i&&ki(t.url))){const e=r&&a&&ji.read(a);e&&l.set(r,e)}return t},Ti="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const i=Ci(e);let r=i.data;const a=ui.from(i.headers).normalize();let l,s,o,c,u,{responseType:d,onUploadProgress:m,onDownloadProgress:h}=i;function p(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let f=new XMLHttpRequest;function y(){if(!f)return;const i=ui.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());fi(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=y:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(y)},f.onabort=function(){f&&(n(new Rn("Request aborted",Rn.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const i=t&&t.message?t.message:"Network Error",r=new Rn(i,Rn.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Gn;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new Rn(t,r.clarifyTimeoutError?Rn.ETIMEDOUT:Rn.ECONNABORTED,e,f)),f=null},void 0===r&&a.setContentType(null),"setRequestHeader"in f&&_n.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),_n.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),d&&"json"!==d&&(f.responseType=i.responseType),h&&([o,u]=gi(h,!0),f.addEventListener("progress",o)),m&&f.upload&&([s,c]=gi(m),f.upload.addEventListener("progress",s),f.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(l=t=>{f&&(n(!t||t.type?new pi(null,e,f):t),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);v&&-1===ei.protocols.indexOf(v)?n(new Rn("Unsupported protocol "+v+":",Rn.ERR_BAD_REQUEST,e)):f.send(r||null)})},Ei=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;i.abort(t instanceof Rn?t:new pi(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new Rn("timeout ".concat(t," of ms exceeded"),Rn.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:s}=i;return s.unsubscribe=()=>_n.asap(l),s}};function Ai(e,t){this.v=e,this.k=t}function _i(e){return function(){return new Pi(e.apply(this,arguments))}}function Pi(e){var t,n;function i(t,n){try{var a=e[t](n),l=a.value,s=l instanceof Ai;Promise.resolve(s?l.v:l).then(function(n){if(s){var o="return"===t?"return":"next";if(!l.k||n.done)return i(o,n);n=e[o](n).value}r(a.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(a,l){var s={key:e,arg:r,resolve:a,reject:l,next:null};n?n=n.next=s:(t=n=s,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Mi(e){return new Ai(e,0)}function Li(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise(function(n){n(e[t](i))}),{done:!1,value:new Ai(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function Ri(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new Oi(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Oi(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Oi=function(e){this.s=e,this.n=e.next},Oi.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Oi(e)}Pi.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Pi.prototype.next=function(e){return this._invoke("next",e)},Pi.prototype.throw=function(e){return this._invoke("throw",e)},Pi.prototype.return=function(e){return this._invoke("return",e)};const Fi=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Di=function(){var e=_i(function*(e,t){var n,i=!1,r=!1;try{for(var a,l=Ri(Ii(e));i=!(a=yield Mi(l.next())).done;i=!1){const e=a.value;yield*Li(Ri(Fi(e,t)))}}catch(s){r=!0,n=s}finally{try{i&&null!=l.return&&(yield Mi(l.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Ii=function(){var e=_i(function*(e){if(e[Symbol.asyncIterator])return void(yield*Li(Ri(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Mi(t.read());if(e)break;yield n}}finally{yield Mi(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Bi=(e,t,n,i)=>{const r=Di(e,t);let a,l=0,s=e=>{a||(a=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return s(),void e.close();let a=i.byteLength;if(n){let e=l+=a;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw s(t),t}},cancel:e=>(s(e),r.return())},{highWaterMark:2})},{isFunction:zi}=_n,Ui=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(_n.global),{ReadableStream:Yi,TextEncoder:Ki}=_n.global,Wi=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(Ib){return!1}},Hi=e=>{e=_n.merge.call({skipUndefined:!0},Ui,e);const{fetch:t,Request:n,Response:i}=e,r=t?zi(t):"function"===typeof fetch,a=zi(n),l=zi(i);if(!r)return!1;const s=r&&zi(Yi),o=r&&("function"===typeof Ki?(c=new Ki,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=a&&s&&Wi(()=>{let e=!1;const t=new n(ei.origin,{body:new Yi,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=l&&s&&Wi(()=>_n.isReadableStream(new i("").body)),h={stream:d&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let i=t&&t[e];if(i)return i.call(t);throw new Rn("Response type '".concat(e,"' is not supported"),Rn.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const i=_n.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(_n.isBlob(e))return e.size;if(_n.isSpecCompliantForm(e)){const t=new n(ei.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return _n.isArrayBufferView(e)||_n.isArrayBuffer(e)?e.byteLength:(_n.isURLSearchParams(e)&&(e+=""),_n.isString(e)?(await o(e)).byteLength:void 0)})(t):i};return async e=>{let{url:r,method:l,data:s,signal:o,cancelToken:c,timeout:f,onDownloadProgress:y,onUploadProgress:v,responseType:g,headers:b,withCredentials:x="same-origin",fetchOptions:k}=Ci(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let S=Ei([o,c&&c.toAbortSignal()],f),w=null;const N=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let C;try{if(v&&u&&"get"!==l&&"head"!==l&&0!==(C=await p(b,s))){let e,t=new n(r,{method:"POST",body:s,duplex:"half"});if(_n.isFormData(s)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=bi(C,gi(xi(v)));s=Bi(t.body,65536,e,n)}}_n.isString(x)||(x=x?"include":"omit");const t=a&&"credentials"in n.prototype,o=m(m({},k),{},{signal:S,method:l.toUpperCase(),headers:b.normalize().toJSON(),body:s,duplex:"half",credentials:t?x:void 0});w=a&&new n(r,o);let c=await(a?j(w,k):j(r,o));const f=d&&("stream"===g||"response"===g);if(d&&(y||f&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=_n.toFiniteNumber(c.headers.get("content-length")),[n,r]=y&&bi(t,gi(xi(y),!0))||[];c=new i(Bi(c.body,65536,n,()=>{r&&r(),N&&N()}),e)}g=g||"text";let T=await h[_n.findKey(h,g)||"text"](c,e);return!f&&N&&N(),await new Promise((t,n)=>{fi(t,n,{data:T,headers:ui.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(T){if(N&&N(),T&&"TypeError"===T.name&&/Load failed|fetch/i.test(T.message))throw Object.assign(new Rn("Network Error",Rn.ERR_NETWORK,e,w),{cause:T.cause||T});throw Rn.from(T,T&&T.code,e,w)}}},Vi=new Map,Gi=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:r}=t,a=[i,r,n];let l,s,o=a.length,c=Vi;for(;o--;)l=a[o],s=c.get(l),void 0===s&&c.set(l,s=o?new Map:Hi(t)),c=s;return s},qi=(Gi(),{http:null,xhr:Ti,fetch:{get:Gi}});_n.forEach(qi,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ib){}Object.defineProperty(e,"adapterName",{value:t})}});const $i=e=>"- ".concat(e),Xi=e=>_n.isFunction(e)||null===e||!1===e;const Qi={getAdapter:function(e,t){e=_n.isArray(e)?e:[e];const{length:n}=e;let i,r;const a={};for(let l=0;l<n;l++){let n;if(i=e[l],r=i,!Xi(i)&&(r=qi[(n=String(i)).toLowerCase()],void 0===r))throw new Rn("Unknown adapter '".concat(n,"'"));if(r&&(_n.isFunction(r)||(r=r.get(t))))break;a[n||"#"+l]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map($i).join("\n"):" "+$i(e[0]):"as no adapter specified";throw new Rn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:qi};function Zi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pi(null,e)}function Ji(e){Zi(e),e.headers=ui.from(e.headers),e.data=di.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Qi.getAdapter(e.adapter||ii.adapter,e)(e).then(function(t){return Zi(e),t.data=di.call(e,e.transformResponse,t),t.headers=ui.from(t.headers),t},function(t){return mi(t)||(Zi(e),t&&t.response&&(t.response.data=di.call(e,e.transformResponse,t.response),t.response.headers=ui.from(t.response.headers))),Promise.reject(t)})}const er="1.13.2",tr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const nr={};tr.transitional=function(e,t,n){function i(e,t){return"[Axios v"+er+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new Rn(i(r," has been removed"+(t?" in "+t:"")),Rn.ERR_DEPRECATED);return t&&!nr[r]&&(nr[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},tr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ir={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Rn("options must be an object",Rn.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],l=t[a];if(l){const t=e[a],n=void 0===t||l(t,a,e);if(!0!==n)throw new Rn("option "+a+" must be "+n,Rn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Rn("Unknown option "+a,Rn.ERR_BAD_OPTION)}},validators:tr},rr=ir.validators;class ar{constructor(e){this.defaults=e||{},this.interceptors={request:new Vn,response:new Vn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ib){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ni(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&ir.assertOptions(n,{silentJSONParsing:rr.transitional(rr.boolean),forcedJSONParsing:rr.transitional(rr.boolean),clarifyTimeoutError:rr.transitional(rr.boolean)},!1),null!=i&&(_n.isFunction(i)?t.paramsSerializer={serialize:i}:ir.assertOptions(i,{encode:rr.function,serialize:rr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ir.assertOptions(t,{baseUrl:rr.spelling("baseURL"),withXsrfToken:rr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&_n.merge(r.common,r[t.method]);r&&_n.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=ui.concat(a,r);const l=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[Ji.bind(this),void 0];for(e.unshift(...l),e.push(...o),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=l.length;let m=t;for(;d<u;){const e=l[d++],t=l[d++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Ji.call(this,m)}catch(h){return Promise.reject(h)}for(d=0,u=o.length;d<u;)c=c.then(o[d++],o[d++]);return c}getUri(e){return Hn(Si((e=Ni(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}_n.forEach(["delete","get","head","options"],function(e){ar.prototype[e]=function(t,n){return this.request(Ni(n||{},{method:e,url:t,data:(n||{}).data}))}}),_n.forEach(["post","put","patch"],function(e){function t(t){return function(n,i,r){return this.request(Ni(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}ar.prototype[e]=t(),ar.prototype[e+"Form"]=t(!0)});const lr=ar;class sr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,i,r){n.reason||(n.reason=new pi(e,i,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sr(function(t){e=t}),cancel:e}}}const or=sr;const cr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cr).forEach(e=>{let[t,n]=e;cr[n]=t});const ur=cr;const dr=function e(t){const n=new lr(t),i=Kt(lr.prototype.request,n);return _n.extend(i,lr.prototype,n,{allOwnKeys:!0}),_n.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(Ni(t,n))},i}(ii);dr.Axios=lr,dr.CanceledError=pi,dr.CancelToken=or,dr.isCancel=mi,dr.VERSION=er,dr.toFormData=Bn,dr.AxiosError=Rn,dr.Cancel=dr.CanceledError,dr.all=function(e){return Promise.all(e)},dr.spread=function(e){return function(t){return e.apply(null,t)}},dr.isAxiosError=function(e){return _n.isObject(e)&&!0===e.isAxiosError},dr.mergeConfig=Ni,dr.AxiosHeaders=ui,dr.formToJSON=e=>ti(_n.isHTMLForm(e)?new FormData(e):e),dr.getAdapter=Qi.getAdapter,dr.HttpStatusCode=ur,dr.default=dr;const mr=dr;function hr(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=hr(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const pr=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=hr(e))&&(i&&(i+=" "),i+=t);return i},fr=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var yr=e=>"number"==typeof e&&!isNaN(e),vr=e=>"string"==typeof e,gr=e=>"function"==typeof e,br=e=>vr(e)||gr(e)?e:null,xr=(e,t)=>!1===e||yr(e)&&e>0?e:t,kr=e=>(0,r.isValidElement)(e)||vr(e)||gr(e)||yr(e);function jr(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:a=!0,collapseDuration:l=300}=e;return function(e){let{children:s,position:o,preventExitTransition:c,done:u,nodeRef:d,isIn:m,playToast:h}=e,p=i?"".concat(t,"--").concat(o):t,f=i?"".concat(n,"--").concat(o):n,y=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=d.current,t=p.split(" "),n=i=>{i.target===d.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===y.current&&"animationcancel"!==i.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:i,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}(e,u,l):u()};m||(c?t():(y.current=1,e.className+=" ".concat(f),e.addEventListener("animationend",t)))},[m]),r.createElement(r.Fragment,null,s)}}function Sr(e,t){return{content:wr(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.isValidElement)(e)&&!vr(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):gr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Nr(e){let{delay:t,isRunning:n,closeToast:i,type:a="default",hide:l,className:s,controlledProgress:o,progress:c,rtl:u,isIn:d,theme:h}=e,p=l||o&&0===c,f={animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};o&&(f.transform="scaleX(".concat(c,")"));let y=pr("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(h),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":u}),v=gr(s)?s({rtl:u,type:a,defaultClassName:y}):pr(y,s),g={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{d&&i()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(h," Toastify__progress-bar--").concat(a)}),r.createElement("div",m({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:f},g)))}var Cr=1,Tr=()=>"".concat(Cr++);function Er(e,t,n){let i=1,r=0,a=[],l=[],s=t,o=new Map,c=new Set,u=()=>{l=Array.from(o.values()),c.forEach(e=>e())},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)o.forEach(d);else{let t=o.get(e);t&&d(t)}u()},p=e=>{var t,i;let{toastId:r,updateId:a}=e.props,l=null==a;e.staleId&&o.delete(e.staleId),e.isActive=!0,o.set(r,e),u(),n(Sr(e,l?"added":"updated")),l&&(null==(i=(t=e.props).onOpen)||i.call(t))};return{id:e,props:s,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{o.forEach(n=>{var i;(null==t||t===n.props.toastId)&&(null==(i=n.toggle)||i.call(n,e))})},removeToast:h,toasts:o,clearQueue:()=>{r-=a.length,a=[]},buildToast:(t,l)=>{if((t=>{let{containerId:n,toastId:i,updateId:r}=t,a=n?n!==e:1!==e,l=o.has(i)&&null==r;return a||l})(l))return;let{toastId:c,updateId:d,data:f,staleId:y,delay:v}=l,g=null==d;g&&r++;let b=m(m(m({},s),{},{style:s.toastStyle,key:i++},Object.fromEntries(Object.entries(l).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:c,updateId:d,data:f,isIn:!1,className:br(l.className||s.toastClassName),progressClassName:br(l.progressClassName||s.progressClassName),autoClose:!l.isLoading&&xr(l.autoClose,s.autoClose),closeToast(e){o.get(c).removalReason=e,h(c)},deleteToast(){let e=o.get(c);if(null!=e){if(n(Sr(e,"removed")),o.delete(c),r--,r<0&&(r=0),a.length>0)return void p(a.shift());u()}}});b.closeButton=s.closeButton,!1===l.closeButton||kr(l.closeButton)?b.closeButton=l.closeButton:!0===l.closeButton&&(b.closeButton=!kr(s.closeButton)||s.closeButton);let x={content:t,props:b,staleId:y};s.limit&&s.limit>0&&r>s.limit&&g?a.push(x):yr(v)?setTimeout(()=>{p(x)},v):p(x)},setProps(e){s=e},setToggle:(e,t)=>{let n=o.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=o.get(e))?void 0:t.isActive},getSnapshot:()=>l}}var Ar=new Map,_r=[],Pr=new Set,Mr=e=>Pr.forEach(t=>t(e)),Lr=()=>Ar.size>0;function Rr(e,t){var n;if(t)return!(null==(n=Ar.get(t))||!n.isToastActive(e));let i=!1;return Ar.forEach(t=>{t.isToastActive(e)&&(i=!0)}),i}function Or(e){if(Lr()){if(null==e||(e=>vr(e)||yr(e))(e))Ar.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ar.get(e.containerId);t?t.removeToast(e.id):Ar.forEach(t=>{t.removeToast(e.id)})}}else _r=_r.filter(t=>null!=e&&t.options.toastId!==e)}function Fr(e,t){kr(e)&&(Lr()||_r.push({content:e,options:t}),Ar.forEach(n=>{n.buildToast(e,t)}))}function Dr(e,t){Ar.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Ir(e){let t=e.containerId||1;return{subscribe(n){let i=Er(t,e,Mr);Ar.set(t,i);let r=i.observe(n);return _r.forEach(e=>Fr(e.content,e.options)),_r=[],()=>{r(),Ar.delete(t)}},setProps(e){var n;null==(n=Ar.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Ar.get(t))?void 0:e.getSnapshot()}}}function Br(e){return e&&(vr(e.toastId)||yr(e.toastId))?e.toastId:Tr()}function zr(e,t){return Fr(e,t),t.toastId}function Ur(e,t){return m(m({},t),{},{type:t&&t.type||e,toastId:Br(t)})}function Yr(e){return(t,n)=>zr(t,Ur(e,n))}function Kr(e,t){return zr(e,Ur("default",t))}function Wr(e){let[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),l=(0,r.useRef)(null),s=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:m}=e;function h(){n(!0)}function p(){n(!1)}function f(n){let i=l.current;if(s.canDrag&&i){s.didMove=!0,t&&p(),"x"===e.draggableDirection?s.delta=n.clientX-s.start:s.delta=n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1);let r="x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))");i.style.transform="translate3d(".concat(r,",0)"),i.style.opacity="".concat(1-Math.abs(s.delta/s.removalDistance))}}function y(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",y);let t=l.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Ar.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",h),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",f),document.addEventListener("pointerup",y);let n=l.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:i,left:r,right:a}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=r&&t.clientX<=a&&t.clientY>=n&&t.clientY<=i?p():h()}};return o&&c&&(v.onMouseEnter=p,e.stacked||(v.onMouseLeave=h)),m&&(v.onClick=e=>{d&&d(e),s.canCloseOnClick&&u(!0)}),{playToast:h,pauseToast:p,isRunning:t,preventExitTransition:i,toastRef:l,eventHandlers:v}}Kr.loading=(e,t)=>zr(e,Ur("default",m({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Kr.promise=function(e,t,n){let i,{pending:r,error:a,success:l}=t;r&&(i=vr(r)?Kr.loading(r,n):Kr.loading(r.render,m(m({},n),r)));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(e,t,r)=>{if(null==t)return void Kr.dismiss(i);let a=m(m(m({type:e},s),n),{},{data:r}),l=vr(t)?{render:t}:t;return i?Kr.update(i,m(m({},a),l)):Kr(l.render,m(m({},a),l)),r},c=gr(e)?e():e;return c.then(e=>o("success",l,e)).catch(e=>o("error",a,e)),c},Kr.success=Yr("success"),Kr.info=Yr("info"),Kr.error=Yr("error"),Kr.warning=Yr("warning"),Kr.warn=Kr.warning,Kr.dark=(e,t)=>zr(e,Ur("default",m({theme:"dark"},t))),Kr.dismiss=function(e){Or(e)},Kr.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ar.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Kr.isActive=Rr,Kr.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var i;return null==(i=Ar.get(n||1))?void 0:i.toasts.get(e)})(e,t);if(n){let{props:i,content:r}=n,a=m(m(m({delay:100},i),t),{},{toastId:t.toastId||e,updateId:Tr()});a.toastId!==e&&(a.staleId=e);let l=a.render||r;delete a.render,zr(l,a)}},Kr.done=e=>{Kr.update(e,{progress:1})},Kr.onChange=function(e){return Pr.add(e),()=>{Pr.delete(e)}},Kr.play=e=>Dr(!0,e),Kr.pause=e=>Dr(!1,e);var Hr="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,Vr=e=>{let{theme:t,type:n,isLoading:i}=e,a=s(e,fr);return r.createElement("svg",m({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},a))};var Gr={info:function(e){return r.createElement(Vr,m({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(Vr,m({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(Vr,m({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(Vr,m({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function qr(e){let{theme:t,type:n,isLoading:i,icon:a}=e,l=null,s={theme:t,type:n};return!1===a||(gr(a)?l=a(m(m({},s),{},{isLoading:i})):(0,r.isValidElement)(a)?l=(0,r.cloneElement)(a,s):i?l=Gr.spinner():(e=>e in Gr)(n)&&(l=Gr[n](s))),l}var $r=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:l}=Wr(e),{closeButton:s,children:o,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:p,transition:f,position:y,className:v,style:g,progressClassName:b,updateId:x,role:k,progress:j,rtl:S,toastId:w,deleteToast:N,isIn:C,isLoading:T,closeOnClick:E,theme:A,ariaLabel:_}=e,P=pr("Toastify__toast","Toastify__toast-theme--".concat(A),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":E}),M=gr(v)?v({rtl:S,position:y,type:d,defaultClassName:P}):pr(P,v),L=qr(e),R=!!j||!c,O={closeToast:p,type:d,theme:A},F=null;return!1===s||(F=gr(s)?s(O):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,O):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(O)),r.createElement(f,{isIn:C,done:N,position:y,preventExitTransition:n,nodeRef:i,playToast:l},r.createElement("div",m(m({id:w,tabIndex:0,onClick:u,"data-in":C,className:M},a),{},{style:g,ref:i},C&&{role:k,"aria-label":_}),null!=L&&r.createElement("div",{className:pr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},L),wr(o,e,!t),F,!e.customProgressBar&&r.createElement(Nr,m(m({},x&&!R?{key:"p-".concat(x)}:{}),{},{rtl:S,theme:A,delay:c,isRunning:t,isIn:C,closeToast:p,hide:h,type:d,className:b,controlledProgress:R,progress:j||0}))))},Xr=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Qr=jr(Xr("bounce",!0)),Zr=(jr(Xr("slide",!0)),jr(Xr("zoom")),jr(Xr("flip")),{position:"top-right",transition:Qr,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Jr(e){let t=m(m({},Zr),e),n=e.stacked,[i,a]=(0,r.useState)(!0),l=(0,r.useRef)(null),{getToastToRender:s,isToastActive:o,count:c}=function(e){var t;let{subscribe:n,getSnapshot:i,setProps:a}=(0,r.useRef)(Ir(e)).current;a(e);let l=null==(t=(0,r.useSyncExternalStore)(n,i,i))?void 0:t.slice();return{getToastToRender:function(t){if(!l)return[];let n=new Map;return e.newestOnTop&&l.reverse(),l.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:Rr,count:null==l?void 0:l.length}}(t),{className:u,style:d,rtl:h,containerId:p,hotKeys:f}=t;function y(e){let t=pr("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":h});return gr(u)?u({position:e,rtl:h,defaultClassName:t}):pr(t,br(u))}function v(){n&&(a(!0),Kr.play())}return Hr(()=>{var e;if(n){let n=l.current.querySelectorAll('[data-in="true"]'),r=12,a=null==(e=t.position)?void 0:e.includes("top"),s=0,o=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(i)),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let l=s*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y","".concat(a?l:-1*l,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(i?o:0))),s+=n.offsetHeight,o+=.025})}},[i,c,n]),(0,r.useEffect)(()=>{function e(e){var t;let n=l.current;f(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),Kr.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),Kr.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[f]),r.createElement("section",{ref:l,className:"Toastify",id:p,onMouseEnter:()=>{n&&(a(!1),Kr.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((e,t)=>{let i=t.length?m({},d):m(m({},d),{},{pointerEvents:"none"});return r.createElement("div",{tabIndex:-1,className:y(e),"data-stacked":n,style:i,key:"c-".concat(e)},t.map(e=>{let{content:t,props:i}=e;return r.createElement($r,m(m({},i),{},{stacked:n,collapseAll:v,isIn:o(i.toastId,i.containerId),key:"t-".concat(i.key)}),t)}))}))}console.log("Axios default config loaded.");const ea={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE||"/api";mr.defaults.baseURL=ea.replace(/\/+$/,""),mr.defaults.timeout=3e4,window.__AXIOS_INTERCEPTORS_SET__||(window.__AXIOS_INTERCEPTORS_SET__=!0,mr.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),mr.interceptors.response.use(e=>e,e=>{var t,n,i,r,a,l;if(mr.isCancel&&mr.isCancel(e)||"ERR_CANCELED"===(null===e||void 0===e?void 0:e.code)||"CanceledError"===(null===e||void 0===e?void 0:e.name)||"AbortError"===(null===e||void 0===e?void 0:e.name)||"canceled"===String((null===e||void 0===e?void 0:e.message)||"").toLowerCase())return Promise.reject(e);const s=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status,o=(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.error)||(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||(null===e||void 0===e?void 0:e.message)||"Request failed";return null!==(l=e.config)&&void 0!==l&&l.silent||Kr.error(o),401===s&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.dispatchEvent(new Event("auth:logout"))),Promise.reject(e)}));const ta=mr;function na(){return localStorage.getItem("token")||sessionStorage.getItem("token")}function ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{remember:n}=t;if(!e)return localStorage.removeItem("token"),void sessionStorage.removeItem("token");const i=localStorage.getItem("token");(null!==n&&void 0!==n?n:Boolean(i))?(localStorage.setItem("token",e),sessionStorage.removeItem("token")):(sessionStorage.setItem("token",e),localStorage.removeItem("token"))}function ra(e){const t=e||na();return t?{Authorization:"Bearer ".concat(t)}:{}}function aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[n,i]=e;null!=i&&""!==i&&t.set(n,String(i))});const n=t.toString();return n?"?".concat(n):""}async function la(e){let{method:t="GET",body:n,token:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=m({"Content-Type":"application/json"},ra(i));try{return(await ta.request({url:e,method:t,headers:r,data:void 0!==n?n:void 0,silent:!0})).data}catch(s){var a,l;const e=null===s||void 0===s||null===(a=s.response)||void 0===a?void 0:a.data,t=(null===e||void 0===e?void 0:e.error)||(null===e||void 0===e?void 0:e.message)||(null===s||void 0===s?void 0:s.message)||"Request failed",n=new Error(t);throw n.status=null===s||void 0===s||null===(l=s.response)||void 0===l?void 0:l.status,n.data=e,n}}const sa={register:e=>la("/auth/register",{method:"POST",body:e}),login:e=>la("/auth/login",{method:"POST",body:e}),getMe:()=>la("/auth/me"),listCountries:()=>la("/admin/countries"),createCountry:e=>la("/admin/countries",{method:"POST",body:e}),adminListCountrySchools:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return la("/admin/countries/".concat(e,"/schools").concat(aa(t)))},adminCreateCountrySchool:(e,t)=>la("/admin/countries/".concat(e,"/schools"),{method:"POST",body:t}),adminUpdateSchool:(e,t)=>la("/admin/schools/".concat(e),{method:"PATCH",body:t}),adminGetProgressRequirements:e=>la("/admin/progress-requirements".concat(aa({countryId:e}))),adminSaveProgressRequirements:(e,t)=>la("/admin/progress-requirements".concat(aa({countryId:e})),{method:"PUT",body:{config:t}}),adminBulkSaveProgressRequirements:(e,t)=>la("/admin/progress-requirements/bulk",{method:"PUT",body:{countryIds:e,config:t}}),listUsers:function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).unassigned?"?unassigned=1":"";return la("/admin/users".concat(e))},createUser:e=>la("/admin/users",{method:"POST",body:e}),assignUserCountry:(e,t)=>la("/admin/users/".concat(e,"/country"),{method:"PATCH",body:t}),deleteUser:e=>la("/admin/users/".concat(e),{method:"DELETE"}),changePassword:e=>la("/auth/change-password",{method:"POST",body:e}),listSchools:()=>la("/schools"),createSchool:e=>la("/schools",{method:"POST",body:e}),deleteSchool:e=>la("/schools/".concat(e),{method:"DELETE"}),getSchool:e=>la("/schools/".concat(e)),getNormConfig:(e,t)=>{const n=t?"?scenarioId=".concat(encodeURIComponent(t)):"";return la("/schools/".concat(e,"/norm-config").concat(n))},saveNormConfig:(e,t,n)=>{const i=t?"?scenarioId=".concat(encodeURIComponent(t)):"";return la("/schools/".concat(e,"/norm-config").concat(i),{method:"PUT",body:n})},listScenarios:e=>la("/schools/".concat(e,"/scenarios")),createScenario:(e,t)=>la("/schools/".concat(e,"/scenarios"),{method:"POST",body:t}),updateScenario:(e,t,n)=>la("/schools/".concat(e,"/scenarios/").concat(t),{method:"PATCH",body:n}),deleteScenario:(e,t)=>la("/schools/".concat(e,"/scenarios/").concat(t),{method:"DELETE"}),getScenarioInputs:(e,t)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/inputs")),saveScenarioInputs:(e,t,n,i,r)=>{const a={inputs:n};return Array.isArray(i)&&i.length>0&&(a.modifiedResources=i),Array.isArray(r)&&r.length>0&&(a.modifiedPaths=r),la("/schools/".concat(e,"/scenarios/").concat(t,"/inputs"),{method:"PUT",body:a})},calculateScenario:(e,t)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/calculate"),{method:"POST"}),getReport:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"original";return la("/schools/".concat(e,"/scenarios/").concat(t,"/report").concat(aa({mode:n})))},getScenarioReport:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"original";return la("/schools/".concat(e,"/scenarios/").concat(t,"/report").concat(aa({mode:n})))},submitScenario:(e,t)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/submit"),{method:"POST"}),expenseSplitTargets:e=>la("/expense-distributions/targets".concat(aa({academicYear:e}))),previewExpenseSplit:(e,t,n)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/expense-split/preview"),{method:"POST",body:n}),applyExpenseSplit:(e,t,n)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/expense-split/apply"),{method:"POST",body:n}),listWorkItems:(e,t)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/work-items")),submitWorkItem:(e,t,n,i)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/work-items/").concat(n,"/submit"),{method:"POST",body:i}),reviewWorkItem:(e,t,n,i)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/work-items/").concat(n,"/review"),{method:"POST",body:i}),sendForApproval:(e,t)=>la("/schools/".concat(e,"/scenarios/").concat(t,"/send-for-approval"),{method:"POST"}),getProgressRequirements:()=>la("/meta/progress-requirements"),adminGetScenarioQueue:function(){return la("/admin/scenarios/queue".concat(aa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})))},adminReviewScenario:(e,t)=>la("/admin/scenarios/".concat(e,"/review"),{method:"PATCH",body:t}),adminGetRollup:function(){return la("/admin/reports/rollup".concat(aa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})))},adminUpdateUserRole:(e,t)=>la("/admin/users/".concat(e,"/role"),{method:"PATCH",body:t}),adminGetPermissionsCatalog:()=>la("/admin/permissions/catalog"),adminGetUserPermissions:e=>la("/admin/users/".concat(e,"/permissions")),adminSetUserPermissions:(e,t)=>la("/admin/users/".concat(e,"/permissions"),{method:"PUT",body:t}),adminGetSchoolPrincipals:e=>la("/admin/schools/".concat(e,"/principals")),adminSetSchoolPrincipals:(e,t)=>la("/admin/schools/".concat(e,"/principals"),{method:"PUT",body:t}),adminGetSchoolAssignments:e=>la("/admin/schools/".concat(e,"/assignments")),adminSetSchoolAssignments:(e,t)=>la("/admin/schools/".concat(e,"/assignments"),{method:"PUT",body:t}),managerListUsers:()=>la("/manager/users"),managerCreateUser:e=>la("/manager/users",{method:"POST",body:e}),managerUpdateUserRole:(e,t)=>la("/manager/users/".concat(e,"/role"),{method:"PATCH",body:t}),managerUpdateUserEmail:(e,t)=>la("/manager/users/".concat(e,"/email"),{method:"PATCH",body:t}),managerResetUserPassword:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return la("/manager/users/".concat(e,"/reset-password"),{method:"POST",body:t})},managerGetPermissionsCatalog:()=>la("/manager/permissions/catalog"),managerGetUserPermissions:e=>la("/manager/users/".concat(e,"/permissions")),managerSetUserPermissions:(e,t)=>la("/manager/users/".concat(e,"/permissions"),{method:"PUT",body:t}),managerGetSchoolPrincipals:e=>la("/manager/schools/".concat(e,"/principals")),managerSetSchoolPrincipals:(e,t)=>la("/manager/schools/".concat(e,"/principals"),{method:"PUT",body:t}),managerGetSchoolAssignments:e=>la("/manager/schools/".concat(e,"/assignments")),managerSetSchoolAssignments:(e,t)=>la("/manager/schools/".concat(e,"/assignments"),{method:"PUT",body:t}),managerGetReviewQueue:()=>la("/manager/review-queue"),downloadXlsx:async function(e,t){const n=aa({reportCurrency:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"usd",mode:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"original"}),i=await fetch("".concat(ea,"/schools/").concat(e,"/scenarios/").concat(t,"/export-xlsx").concat(n),{method:"GET",headers:ra()});if(!i.ok){const e=(i.headers.get("content-type")||"").includes("application/json")?await i.json():await i.text(),t=(null===e||void 0===e?void 0:e.error)||e||"Download failed";throw new Error(t)}const r=await i.blob(),a=i.headers.get("content-disposition")||"",l=/filename="([^"]+)"/.exec(a),s=l?l[1]:"scenario-".concat(t,".xlsx"),o=window.URL.createObjectURL(r),c=document.createElement("a");c.href=o,c.download=s,document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(o)},downloadPdf:async function(e,t){const n=aa({reportCurrency:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"usd",mode:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"original",format:"pdf"}),i=await fetch("".concat(ea,"/schools/").concat(e,"/scenarios/").concat(t,"/export-xlsx").concat(n),{method:"GET",headers:ra()});if(!i.ok){const e=(i.headers.get("content-type")||"").includes("application/json")?await i.json():await i.text(),t=(null===e||void 0===e?void 0:e.error)||e||"Download failed";throw new Error(t)}const r=await i.blob(),a=i.headers.get("content-disposition")||"",l=/filename="([^"]+)"/.exec(a),s=i.headers.get("content-type")||"";let o=l?l[1]:"scenario-".concat(t,".pdf");s.includes("application/pdf")&&!o.toLowerCase().endsWith(".pdf")&&(o="".concat(o.replace(/\.[^.]+$/,"")||"scenario-".concat(t),".pdf"));const c=window.URL.createObjectURL(r),u=document.createElement("a");u.href=c,u.download=o,document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)},exportXlsxUrl:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"usd";return"".concat(ea,"/schools/").concat(e,"/scenarios/").concat(t,"/export-xlsx").concat(aa({reportCurrency:n}))},adminExportRollupXlsxUrl:e=>"".concat(ea,"/admin/reports/rollup.xlsx").concat(aa({academicYear:e}))};var oa=n(579);const ca=(0,r.createContext)(null);function ua(e){let{children:t}=e;const[n,i]=(0,r.useState)(null),[a,l]=(0,r.useState)(na());(0,r.useEffect)(()=>{let e=!1;return async function(){if(a){if(!n||!Array.isArray(n.permissions))try{const t=await sa.getMe();e||i(t)}catch(Ib){e||(401!==Ib.status&&403!==Ib.status||(ia(null),l(null)),i(null))}}else i(null)}(),()=>{e=!0}},[a,n]);const s=(0,r.useMemo)(()=>({user:n,token:a,async login(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=await sa.login({email:e,password:t});return ia(r.token,{remember:n}),l(r.token),i(r.user),r.user},setSession(e){null!==e&&void 0!==e&&e.token&&(ia(e.token),l(e.token),i(e.user||null))},logout(){ia(null),l(null),i(null)}}),[n,a]);return(0,oa.jsx)(ca.Provider,{value:s,children:t})}function da(){return(0,r.useContext)(ca)}function ma(){const e=da(),[t,n]=(0,r.useState)(()=>{try{if("1"===localStorage.getItem("remember_me"))return localStorage.getItem("remember_email")||""}catch(u){}return""}),[i,a]=(0,r.useState)(()=>{try{if("1"===localStorage.getItem("remember_me"))return localStorage.getItem("remember_password")||""}catch(u){}return""}),[l,s]=(0,r.useState)(!1),[o,c]=(0,r.useState)(()=>{const e=localStorage.getItem("remember_me");return"1"===e||"0"!==e&&Boolean(localStorage.getItem("token"))}),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{try{o?(localStorage.setItem("remember_email",t),localStorage.setItem("remember_password",i)):(localStorage.removeItem("remember_email"),localStorage.removeItem("remember_password"))}catch(u){}},[o,t,i]),(0,r.useEffect)(()=>{document.title="Sign in \xb7 Feasibility Studio"},[]),(0,oa.jsx)("div",{className:"auth-shell",style:{"--auth-bg":"url(".concat("","/login-bg.png)")},children:(0,oa.jsxs)("div",{className:"auth-grid",children:[(0,oa.jsxs)("section",{className:"auth-hero",children:[(0,oa.jsx)("div",{className:"auth-badge",children:"Feasibility Studio v1.4"}),(0,oa.jsx)("h1",{className:"auth-title",children:"\xdccret Belirleme Mod\xfcl\xfcne ho\u015f geldiniz."}),(0,oa.jsx)("p",{className:"auth-subtitle",children:"Gelir, kapasite ve personel ihtiya\xe7lar\u0131n\u0131 tek bir yerde modelleyin. Y\xf6neticiler hesap sa\u011flar ve kimlik bilgilerini g\xfcvenli \u015fekilde payla\u015f\u0131r."}),(0,oa.jsxs)("div",{className:"auth-highlights",children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"auth-metric",children:"150+"}),(0,oa.jsx)("div",{className:"auth-caption",children:"Senaryo ba\u015f\u0131na takip edilen girdi say\u0131s\u0131"})]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"auth-metric",children:"3"}),(0,oa.jsx)("div",{className:"auth-caption",children:"Y\u0131ll\u0131k planlama d\xf6nemi"})]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"auth-metric",children:"1"}),(0,oa.jsx)("div",{className:"auth-caption",children:"Tek do\u011fruluk kayna\u011f\u0131"})]})]})]}),(0,oa.jsxs)("section",{className:"auth-card","aria-label":"Giri\u015f",children:[(0,oa.jsxs)("div",{className:"auth-card-head",children:[(0,oa.jsx)("div",{className:"auth-card-title",children:"Giri\u015f yap"}),(0,oa.jsx)("div",{className:"auth-card-sub"})]}),u?(0,oa.jsx)("div",{className:"auth-error",children:u}):null,(0,oa.jsxs)("form",{onSubmit:async function(n){n.preventDefault(),d(""),h(!0);try{await e.login(t,i,o)}catch(r){d(r.message||"Login failed")}finally{h(!1)}},className:"auth-form",children:[(0,oa.jsx)("label",{className:"auth-label",htmlFor:"login-email",children:"E-posta"}),(0,oa.jsx)("input",{id:"login-email",className:"auth-input",placeholder:"e-mail",type:"email",value:t,onChange:e=>n(e.target.value),autoComplete:"username"}),(0,oa.jsx)("label",{className:"auth-label",htmlFor:"login-password",children:"Parola"}),(0,oa.jsxs)("div",{className:"auth-input-wrap",children:[(0,oa.jsx)("input",{id:"login-password",className:"auth-input",placeholder:"\u015eifreniz",type:l?"text":"password",value:i,onChange:e=>a(e.target.value),autoComplete:"current-password"}),(0,oa.jsx)("button",{className:"auth-input-eye",type:"button",onClick:()=>s(e=>!e),"aria-label":l?"Parolay? gizle":"Parolay? g?ster",title:l?"Parolay? gizle":"Parolay? g?ster",children:(0,oa.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:(0,oa.jsx)("path",{fill:"currentColor",d:"M12 5C6.5 5 2 9.2 1 12c1 2.8 5.5 7 11 7s10-4.2 11-7c-1-2.8-5.5-7-11-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Zm0-8a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"})})})]}),(0,oa.jsx)("div",{className:"auth-options",children:(0,oa.jsxs)("label",{className:"auth-option",children:[(0,oa.jsx)("input",{type:"checkbox",checked:o,onChange:e=>{const t=e.target.checked;c(t),t?localStorage.setItem("remember_me","1"):localStorage.removeItem("remember_me")}}),"Beni hat\u0131rla"]})}),(0,oa.jsx)("button",{className:"btn primary full",type:"submit",disabled:m,children:m?"Giri\u015f yap\u0131l\u0131yor...":"Giri\u015f yap"})]}),(0,oa.jsx)("div",{className:"auth-help",children:"Eri\u015fim mi gerekiyor? Yeni bir hesap i\xe7in y\xf6neticinize ba\u015fvurun."})]})]})})}const ha=["variant","size","loading","disabled","className","as","onClick","type","children"],pa=r.forwardRef((e,t)=>{let{variant:n="primary",size:i="md",loading:r=!1,disabled:a=!1,className:l="",as:o="button",onClick:c,type:u,children:d}=e,h=s(e,ha);const p="button"===o,f=a||r,y=["btn","btn-".concat(n),"btn-".concat(i),l].filter(Boolean).join(" "),v=r?"Yukleniyor...":d;return p?(0,oa.jsx)(o,m(m({ref:t,type:u||"button",className:y,disabled:f,onClick:c},h),{},{children:v})):(0,oa.jsx)(o,m(m({ref:t,className:y,"aria-disabled":!!f||void 0,onClick:e=>{if(f)return e.preventDefault(),void e.stopPropagation();null===c||void 0===c||c(e)}},h),{},{children:v}))});pa.displayName="Button";const fa=pa;var ya={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},va=r.createContext&&r.createContext(ya),ga=["attr","size","title"];function ba(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xa.apply(this,arguments)}function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach(function(t){Sa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sa(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e){return e&&e.map((e,t)=>r.createElement(e.tag,ja({key:t},e.attr),wa(e.child)))}function Na(e){return t=>r.createElement(Ca,xa({attr:ja({},e.attr)},t),wa(e.child))}function Ca(e){var t=t=>{var n,{attr:i,size:a,title:l}=e,s=ba(e,ga),o=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",xa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:ja(ja({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==va?r.createElement(va.Consumer,null,e=>t(e)):t(ya)}function Ta(e){return Na({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256 336h-.02c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0C-2.06 328.75.02 320.33.02 336H0c0 44.18 57.31 80 128 80s128-35.82 128-80zM128 176l72 144H56l72-144zm511.98 160c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0-87.12 174.26-85.04 165.84-85.04 181.51H384c0 44.18 57.31 80 128 80s128-35.82 128-80h-.02zM440 320l72-144 72 144H440zm88 128H352V153.25c23.51-10.29 41.16-31.48 46.39-57.25H528c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H383.64C369.04 12.68 346.09 0 320 0s-49.04 12.68-63.64 32H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h129.61c5.23 25.76 22.87 46.96 46.39 57.25V448H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Ea(e){return Na({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function Aa(e){return Na({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(e)}function _a(e){return Na({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Pa(e){return Na({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Ma(e){return Na({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function La(e){return Na({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function Ra(e){return Na({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function Oa(e){return Na({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(e)}function Fa(e){return Na({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M433.46 165.94l101.2-111.87C554.61 34.12 540.48 0 512.26 0H31.74C3.52 0-10.61 34.12 9.34 54.07L192 256v155.92c0 12.59 5.93 24.44 16 32l79.99 60c20.86 15.64 48.47 6.97 59.22-13.57C310.8 455.38 288 406.35 288 352c0-89.79 62.05-165.17 145.46-186.06zM480 192c-88.37 0-160 71.63-160 160s71.63 160 160 160 160-71.63 160-160-71.63-160-160-160zm16 239.88V448c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V256c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.04 44.44-42.67 45.07z"},child:[]}]})(e)}function Da(e){return Na({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function Ia(e){return Na({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Ba(e){return Na({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function za(e){return Na({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Ua(e){return Na({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ya(e){return Na({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Ka(e){return Na({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(e)}function Wa(e){return Na({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(e)}function Ha(e){return Na({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(e)}function Va(e){return Na({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Ga(e){return Na({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function qa(e){return Na({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function $a(e){return Na({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function Xa(e){return Na({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Qa(e){return Na({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Za(e){return Na({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"},child:[]}]})(e)}function Ja(e){let{text:t,lines:n,children:i,className:r=""}=e;const a=function(e,t){return Array.isArray(e)?e.map(e=>String(e)).filter(e=>e.trim().length>0):"string"===typeof t?t.split("\n").map(e=>e.trim()).filter(Boolean):[]}(n,t);return a.length?(0,oa.jsxs)("span",{className:"tooltip-wrap ".concat(r).trim(),children:[i,(0,oa.jsx)("span",{className:"tooltip-bubble",role:"tooltip",children:a.map((e,t)=>(0,oa.jsx)("div",{className:"tooltip-line",children:e},"".concat(t,"-").concat(e)))})]}):i}function el(e){let{value:t=0,label:n="",tooltipLines:i}=e;const r=Number(t),a=Number.isFinite(r)?Math.max(0,Math.min(100,r)):0,l=function(e){return e?Array.isArray(e)?e.map(e=>String(e)):"string"===typeof e?e.split("\n"):[]:[]}(i).filter(e=>String(e).trim().length>0),s=(0,oa.jsx)("div",{className:"progress-track",children:(0,oa.jsx)("div",{className:"progress-bar",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,children:(0,oa.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(a,"%")}})})});return(0,oa.jsxs)("div",{className:"progress-row",children:[n?(0,oa.jsx)("div",{className:"progress-label",children:n}):null,l.length?(0,oa.jsx)(Ja,{lines:l,className:"progress-tooltip",children:s}):s,(0,oa.jsxs)("div",{className:"progress-value",children:[Math.round(a),"%"]})]})}const tl=["KG","1","2","3","4","5","6","7","8","9","10","11","12"],nl=[{key:"okulOncesi",label:"Okul \xd6ncesi",defaultFrom:"KG",defaultTo:"KG"},{key:"ilkokul",label:"\u0130lkokul",defaultFrom:"1",defaultTo:"5"},{key:"ortaokul",label:"Ortaokul",defaultFrom:"6",defaultTo:"9"},{key:"lise",label:"Lise",defaultFrom:"10",defaultTo:"12"}];function il(e){const t=String(e||"").trim().toUpperCase();if("KG"===t)return"KG";if(!/^\d{1,2}$/.test(t))return null;const n=Number(t);return!Number.isFinite(n)||n<1||n>12?null:String(n)}function rl(e){const t=il(e);return t?tl.indexOf(t):-1}function al(){return nl.map(e=>m({},e))}function ll(){const e={};return nl.forEach(t=>{e[t.key]={enabled:!0,from:t.defaultFrom,to:t.defaultTo}}),e}function sl(e){const t=e&&"object"===typeof e?e:{},n={};return nl.forEach(e=>{const i=t[e.key]&&"object"===typeof t[e.key]?t[e.key]:{},r=!1!==i.enabled,a=function(e,t,n){var i,r;const a=null!==(i=il(e))&&void 0!==i?i:n.defaultFrom,l=null!==(r=il(t))&&void 0!==r?r:n.defaultTo,s=rl(a),o=rl(l);return s<0||o<0?{from:n.defaultFrom,to:n.defaultTo}:s<=o?{from:a,to:l}:{from:l,to:a}}(i.from,i.to,e);n[e.key]=m({enabled:r},a)}),n}function ol(e,t,n){const i=function(e,t){if(!nl.find(e=>e.key===t))return"";const n=sl(e)[t];return null!==n&&void 0!==n&&n.enabled?n.from===n.to?n.from:"".concat(n.from,"-").concat(n.to):""}(t,n);return i?"".concat(e," (").concat(i,")"):e}function cl(e,t){const n=rl(e);if(n<0)return null;const i=sl(t);for(const r of nl){const e=i[r.key];if(null===e||void 0===e||!e.enabled)continue;const t=rl(e.from),a=rl(e.to);if(t<=n&&n<=a)return r.key}return null}function ul(e,t){const n=Array.isArray(e)?e:[],i={okulOncesi:0,ilkokul:0,ortaokul:0,lise:0,total:0};for(const r of n){const e=Number((null===r||void 0===r?void 0:r.studentsPerBranch)||0);if(!Number.isFinite(e))continue;i.total+=e;const n=cl(null===r||void 0===r?void 0:r.grade,t);n&&Object.prototype.hasOwnProperty.call(i,n)&&(i[n]+=e)}return i}function dl(){return tl.map(e=>e)}const ml=["y1","y2","y3"],hl=["okulOncesi","ilkokul","ortaokul","lise"],pl=[{idKey:"okulOncesi",label:"Okul Oncesi",baseKey:"okulOncesi",yerelKey:"okulOncesi",intKey:"okulOncesi"},{idKey:"ilkokulYerel",label:"Ilkokul",baseKey:"ilkokul",yerelKey:"ilkokulYerel",intKey:"ilkokulInt"},{idKey:"ortaokulYerel",label:"Ortaokul",baseKey:"ortaokul",yerelKey:"ortaokulYerel",intKey:"ortaokulInt"},{idKey:"liseYerel",label:"Lise",baseKey:"lise",yerelKey:"liseYerel",intKey:"liseInt"}],fl=["magisBasariBursu","maarifYetenekBursu","ihtiyacBursu","okulBasariBursu","tamEgitimBursu","barinmaBursu","turkceBasariBursu","uluslararasiYukumlulukIndirimi","vakifCalisaniIndirimi","kardesIndirimi","erkenKayitIndirimi","pesinOdemeIndirimi","kademeGecisIndirimi","temsilIndirimi","kurumIndirimi","istisnaiIndirim","yerelMevzuatIndirimi"],yl=["okulOncesi","ilkokul","ortaokul","lise"],vl=[{key:"okulOncesi",label:"Okul Oncesi",kademeKey:"okulOncesi",yerelKey:"okulOncesi",intKey:"okulOncesi"},{key:"ilkokulYerel",label:"Ilkokul",kademeKey:"ilkokul",yerelKey:"ilkokulYerel",intKey:"ilkokulInt"},{key:"ortaokulYerel",label:"Ortaokul",kademeKey:"ortaokul",yerelKey:"ortaokulYerel",intKey:"ortaokulInt"},{key:"liseYerel",label:"Lise",kademeKey:"lise",yerelKey:"liseYerel",intKey:"liseInt"}],gl=[{key:"yerel_yonetici_egitimci",label:"Yerel Yonetici ve Egitimci"},{key:"yerel_destek",label:"Yerel Destek"}],bl=["ulkeTemsilciligi","genelYonetim","kira","emsalKira","enerjiKantin","disaridanHizmet","egitimAracGerec","finansalGiderler","egitimAmacliHizmet","temsilAgirlama","ulkeIciUlasim","ulkeDisiUlasim","vergilerResmiIslemler","vergiler","demirbasYatirim","rutinBakim","pazarlamaOrganizasyon","reklamTanitim","tahsilEdilemeyenGelirler"],xl=[{key:"temelBilgiler",label:"Temel Bilgiler",sectionIds:["temel.okulEgitim","temel.inflation","temel.ikMevcut","temel.bursOgr","temel.rakip","temel.performans"]},{key:"kapasite",label:"Kapasite",sectionIds:["kapasite.caps"]},{key:"gradesPlan",label:"Sinif/Sube Plani",sectionIds:["gradesPlan.plan"]},{key:"norm",label:"Norm",sectionIds:["norm.lessons"]},{key:"ik",label:"IK / HR",sectionIds:["ik.localStaff"]},{key:"gelirler",label:"Gelirler",sectionIds:["gelirler.unitFee"]},{key:"giderler",label:"Giderler",sectionIds:["giderler.isletme"]},{key:"discounts",label:"Indirimler",sectionIds:["discounts.discounts"]}],kl=[{id:"temel.okulEgitim",tabKey:"temelBilgiler",label:"Okul Egitim Bilgileri",modeDefault:"ALL",minDefault:null},{id:"temel.inflation",tabKey:"temelBilgiler",label:"Enflasyon ve Parametreler",modeDefault:"ALL",minDefault:null},{id:"temel.ikMevcut",tabKey:"temelBilgiler",label:"IK Mevcut",modeDefault:"ALL",minDefault:null},{id:"temel.bursOgr",tabKey:"temelBilgiler",label:"Burs ve Indirimler (Ogrenci)",modeDefault:"MIN",minDefault:1},{id:"temel.rakip",tabKey:"temelBilgiler",label:"Rakip Analizi",modeDefault:"ALL",minDefault:null},{id:"temel.performans",tabKey:"temelBilgiler",label:"Performans (Onceki Donem)",modeDefault:"ALL",minDefault:null},{id:"kapasite.caps",tabKey:"kapasite",label:"Kapasite",modeDefault:"ALL",minDefault:null,requiresKademe:!0},{id:"gradesPlan.plan",tabKey:"gradesPlan",label:"Planlanan Sinif/Sube",modeDefault:"ALL",minDefault:null,requiresKademe:!0},{id:"norm.lessons",tabKey:"norm",label:"Ders Dagilimi",modeDefault:"MIN",minDefault:3,requiresKademe:!0,allowEmpty:!1},{id:"ik.localStaff",tabKey:"ik",label:"IK Yerel",modeDefault:"ALL",minDefault:null},{id:"gelirler.unitFee",tabKey:"gelirler",label:"Birim Ucret",modeDefault:"MIN",minDefault:1},{id:"giderler.isletme",tabKey:"giderler",label:"Isletme Giderleri",modeDefault:"MIN",minDefault:5},{id:"discounts.discounts",tabKey:"discounts",label:"Indirimler",modeDefault:"MIN",minDefault:1}],jl=[{key:"egitimBaslamaTarihi",label:"Egitim baslama tarihi",type:"string"},{key:"zorunluEgitimDonemleri",label:"Zorunlu egitim donemleri",type:"string"},{key:"birDersSuresiDakika",label:"Bir ders suresi (dk)",type:"number"},{key:"gunlukDersSaati",label:"Gunluk ders saati",type:"number"},{key:"haftalikDersSaatiToplam",label:"Haftalik ders saati toplam",type:"number"},{key:"ogretmenHaftalikDersOrt",label:"Ogretmen haftalik ders ort",type:"number"},{key:"sabahciOglenci",label:"Sabahci/oglenci",type:"string"},{key:"uygulananProgram",label:"Uygulanan program",type:"string"},{key:"gecisSinaviBilgisi",label:"Gecis sinavi bilgisi",type:"string"}],Sl=[{key:"expenseDeviationPct",label:"Gider sapma yuzdesi"},{key:"y2023",label:"Y2023 enflasyon"},{key:"y2024",label:"Y2024 enflasyon"},{key:"y2025",label:"Y2025 enflasyon"},{key:"y1",label:"Y1 enflasyon"},{key:"y2",label:"Y2 enflasyon"},{key:"y3",label:"Y3 enflasyon"},{key:"currentSeasonAvgFee",label:"Mevcut sezon ortalama ucret"}],wl=[{key:"prevYearRealizedFxUsdToLocal",label:"Onceki Donem Ortalama Kur (Gerceklesen)",type:"number"}],Nl=[{key:"yerelKadroluEgitimci",label:"Yerel kadrolu egitimci"},{key:"yerelDestek",label:"Yerel destek"}];function Cl(e){const t=Number(e);return Number.isFinite(t)?t:0}function Tl(e){return"string"===typeof e&&e.trim().length>0}function El(e){if(null==e)return null;if("number"===typeof e)return Number.isFinite(e)?e:null;if(Tl(e)){const t=Number(e);return Number.isFinite(t)?t:null}return null}function Al(e,t){const n=El(e),i=El(t);return null==n&&null==i?null:null!=n&&null!=i?Math.max(n,i):null!=n?n:i}function _l(e,t,n){let i=e;for(const r of t||[]){if(!i||"object"!==typeof i)return n;i=i[r]}return null==i?n:i}function Pl(e,t){var n;const i=_l(e,["gelirler","tuition","rows"],[]),r=(Array.isArray(i)?i:[]).find(e=>String(null===e||void 0===e?void 0:e.key)===String(t));return null!==(n=null===r||void 0===r?void 0:r.unitFee)&&void 0!==n?n:null}function Ml(e,t,n,i){const r=function(e,t){const n=null!==e&&void 0!==e&&e.gradesYears&&"object"===typeof e.gradesYears?e.gradesYears:null,i=null!==n&&void 0!==n&&n.years&&"object"===typeof n.years?n.years:n,r=Array.isArray(null===i||void 0===i?void 0:i[t])?i[t]:null;return r||("y1"===t&&Array.isArray(null===e||void 0===e?void 0:e.grades)?e.grades:Array.isArray(null===i||void 0===i?void 0:i.y1)?i.y1:Array.isArray(null===e||void 0===e?void 0:e.grades)?e.grades:[])}(e,t),a=r.find(e=>String(null===e||void 0===e?void 0:e.grade)===String(n));return a?a[i]:null}function Ll(e,t,n,i,r){return{id:e,label:t,type:n,getValue:i,appliesIf:r}}function Rl(){const e={};return kl.forEach(t=>{e[t.id]={enabled:!0,mode:t.modeDefault,min:t.minDefault,selectedFields:{}}}),{version:1,sections:e}}function Ol(){let{inputs:e,norm:t,scenario:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=function(e){var t;const n=null===e||void 0===e||null===(t=e.temelBilgiler)||void 0===t?void 0:t.kademeler;if(!(n&&"object"===typeof n&&Object.keys(n).length>0))return{hasKademeSelection:!1,enabledKademes:new Set,enabledGrades:new Set,enabledLevels:new Set,activeGrades:new Set,isGradeActive:()=>!1};const i=sl(n),r=dl(),a=new Map(r.map((e,t)=>[e,t])),l=new Set,s=new Set;hl.forEach(e=>{const t=i[e];if(null===t||void 0===t||!t.enabled)return;l.add(e);const n=a.get(t.from),o=a.get(t.to);if(null==n||null==o)return;const c=Math.min(n,o),u=Math.max(n,o);for(let i=c;i<=u;i+=1)s.add(r[i])});const o=new Set(vl.filter(e=>l.has(e.kademeKey)).map(e=>e.key)),c=new Set(s);return{hasKademeSelection:!0,enabledKademes:l,enabledGrades:s,enabledLevels:o,activeGrades:c,isGradeActive:e=>{const t=String(null!==e&&void 0!==e?e:"").trim().toUpperCase();return!!t&&c.has(t)}}}(e),r={},a=kl.map(e=>m(m({},e),{},{fields:[]})),l=new Map(a.map(e=>[e.id,e])),s=(e,t)=>{if(!t||!t.id)return;if(r[t.id])return;r[t.id]=t;const n=l.get(e);n&&n.fields.push(t.id)};jl.forEach(e=>{s("temel.okulEgitim",Ll("temel.okulEgitim.".concat(e.key),e.label,e.type,t=>_l(t,["temelBilgiler","okulEgitimBilgileri",e.key],null),()=>!0))}),Sl.forEach(e=>{s("temel.inflation",Ll("temel.inflation.".concat(e.key),e.label,"number",t=>_l(t,["temelBilgiler","inflation",e.key],null),()=>!0))}),wl.forEach(e=>{s("temel.performans",Ll("temel.performans.".concat(e.key),e.label,e.type||"number",t=>_l(t,["temelBilgiler","performans",e.key],null),(e,t,n)=>!n||"object"!==typeof n||"LOCAL"===String(n.input_currency||"").toUpperCase()))}),Nl.forEach(e=>{s("temel.ikMevcut",Ll("temel.ikMevcut.".concat(e.key),e.label,"number",t=>_l(t,["temelBilgiler","ikMevcut",e.key],null),()=>!0))}),fl.forEach(e=>{s("temel.bursOgr",Ll("temel.burs.".concat(e),"Burs ".concat(e),"number",t=>_l(t,["temelBilgiler","bursIndirimOgrenciSayilari",e],null),()=>!0))}),yl.forEach(e=>{["a","b","c"].forEach(t=>{s("temel.rakip",Ll("temel.rakip.".concat(e,".").concat(t),"Rakip ".concat(e," ").concat(t),"number",n=>_l(n,["temelBilgiler","rakipAnalizi",e,t],null),()=>!i.enabledKademes.size||i.enabledKademes.has(e)))})}),hl.forEach(e=>{["cur","y1","y2","y3"].forEach(t=>{s("kapasite.caps",Ll("kapasite.".concat(e,".").concat(t),"Kapasite ".concat(e," ").concat(t),"number",n=>_l(n,["kapasite","byKademe",e,"caps",t],null),()=>!i.enabledKademes.size||i.enabledKademes.has(e)))})});const o=dl();ml.forEach(e=>{o.forEach(t=>{["branchCount","studentsPerBranch"].forEach(n=>{s("gradesPlan.plan",Ll("gradesPlan.".concat(e,".").concat(t,".").concat(n),"Plan ".concat(t," ").concat(e," ").concat(n),"number",i=>Ml(i,e,t,n),()=>"function"===typeof i.isGradeActive?i.isGradeActive(t):!i.enabledGrades||!i.enabledGrades.size||i.enabledGrades.has(t)))})})});const c=function(e){const t=new Set;if(!e||"object"!==typeof e)return[];const n=null!==e&&void 0!==e&&e.years&&"object"===typeof e.years?e.years:null,i=n?ml.map(e=>null===n||void 0===n?void 0:n[e]).filter(Boolean):[e];for(const r of i){const e=(null===r||void 0===r?void 0:r.curriculumWeeklyHours)||{};for(const n of Object.keys(e||{})){const i=(null===e||void 0===e?void 0:e[n])||{};Object.keys(i||{}).forEach(e=>t.add(e))}}return Array.from(t)}(t);c.forEach(e=>{s("norm.lessons",Ll("norm.subject.".concat(e),"Ders ".concat(e),"number",()=>function(e,t,n){if(!e||"object"!==typeof e)return 0;const i=null!==e&&void 0!==e&&e.years&&"object"===typeof e.years?e.years:null,r=i?ml.map(e=>null===i||void 0===i?void 0:i[e]).filter(Boolean):[e];let a=0;for(const s of r){const e=(null===s||void 0===s?void 0:s.curriculumWeeklyHours)||{};for(const i of Object.keys(e||{})){var l;n.size&&!n.has(i)||(a+=Cl(null===e||void 0===e||null===(l=e[i])||void 0===l?void 0:l[t]))}}return a}(t,e,i.enabledGrades),()=>i.enabledGrades.size>0))}),ml.forEach(e=>{gl.forEach(t=>{s("ik.localStaff",Ll("ik.unitCost.".concat(e,".").concat(t.key),"Unit cost ".concat(t.label," ").concat(e),"number",n=>_l(n,["ik","years",e,"unitCosts",t.key],null),()=>!0)),vl.forEach(n=>{s("ik.localStaff",Ll("ik.headcount.".concat(e,".").concat(n.key,".").concat(t.key),"Headcount ".concat(n.label," ").concat(t.label," ").concat(e),"number",i=>Al(_l(i,["ik","years",e,"headcountsByLevel",n.yerelKey||n.key,t.key],null),_l(i,["ik","years",e,"headcountsByLevel",n.intKey||n.key,t.key],null)),()=>!i.enabledLevels.size||i.enabledLevels.has(n.key)))})})}),pl.forEach(e=>{s("gelirler.unitFee",Ll("gelirler.tuition.".concat(e.idKey,".unitFee"),"Birim ucret ".concat(e.label),"number",t=>{const n=Pl(t,e.yerelKey),i=Pl(t,e.intKey);return Al(n,i)},()=>!i.enabledKademes.size||i.enabledKademes.has(e.baseKey)))}),bl.forEach(e=>{s("giderler.isletme",Ll("giderler.isletme.".concat(e),"Gider ".concat(e),"number",t=>_l(t,["giderler","isletme","items",e],null),()=>!0))});return(Array.isArray(null===e||void 0===e?void 0:e.discounts)?e.discounts:[]).forEach((e,t)=>{const n=null!==e&&void 0!==e&&e.name?String(e.name):"Indirim #".concat(t+1);s("discounts.discounts",Ll("indirim.".concat(t,".ratio"),"".concat(n," ratio"),"number",e=>_l(e,["discounts",t,"ratio"],null),()=>!0)),s("discounts.discounts",Ll("indirim.".concat(t,".value"),"".concat(n," value"),"number",e=>_l(e,["discounts",t,"value"],null),()=>!0))}),{tabs:xl.map(e=>m({},e)),sections:a,fieldsById:r,context:i}}function Fl(){let{inputs:e,norm:t,config:n,scenario:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=Ol({inputs:e,norm:t,scenario:i}),a=function(e){const t=Rl(),n=e&&"object"===typeof e?e:{},i=n.sections&&"object"===typeof n.sections?n.sections:{},r={version:t.version,sections:{}};return Object.keys(t.sections).forEach(e=>{const n=t.sections[e]||{},a=i[e]&&"object"===typeof i[e]?i[e]:{};r.sections[e]={enabled:"boolean"===typeof a.enabled?a.enabled:!1!==n.enabled,mode:"string"===typeof a.mode&&a.mode?a.mode:n.mode,min:null!=a.min?Number(a.min):n.min,selectedFields:a.selectedFields&&"object"===typeof a.selectedFields?a.selectedFields:{}}}),r}(n),l=new Map(r.sections.map(e=>[e.id,e])),s=new Map;let o=0,c=0;r.sections.forEach(n=>{var l;const u=a.sections[n.id]||{};if(!1===u.enabled)return void s.set(n.id,{enabled:!1});const d=!0===n.requiresKademe,m=null===(l=r.context)||void 0===l?void 0:l.hasKademeSelection;if(d&&!m)return s.set(n.id,{enabled:!0,done:!1,doneUnits:0,totalUnits:1,missingReasons:["Kademeler secilmedi"]}),void(o+=1);const h=(Array.isArray(n.fields)?n.fields:[]).filter(e=>{var t;return!1!==(null===(t=u.selectedFields)||void 0===t?void 0:t[e])}),p=h.map(e=>r.fieldsById[e]).filter(Boolean).filter(n=>{if("function"!==typeof n.appliesIf)return!0;try{return!1!==n.appliesIf(e,t,i)}catch(r){return!0}}),f=[],y=[];p.forEach(n=>{let i=null;try{i=n.getValue?n.getValue(e,t):null}catch(a){i=null}const r=function(e,t){return"string"===t?Tl(e):"boolean"===t?!0===e:Cl(e)>0}(i,n.type);r?f.push(n):y.push(n)});const v=f.length,g=String(u.mode||n.modeDefault||"ALL").toUpperCase(),b=Number.isFinite(Number(u.min))?Number(u.min):n.minDefault;if("MIN"===g){const e=Math.max(1,Number.isFinite(b)?b:1),t=v>=e,i=Math.min(v,e);return s.set(n.id,{enabled:!0,done:t,doneUnits:i,totalUnits:e,missingReasons:t?[]:["En az ".concat(e," alan")]}),o+=e,void(c+=i)}const x=p.length;if(0===x)return void(!1===n.allowEmpty?(s.set(n.id,{enabled:!0,done:!1,doneUnits:0,totalUnits:1,missingReasons:[n.label||"Eksik"]}),o+=1):s.set(n.id,{enabled:!0,done:!0,doneUnits:0,totalUnits:0,missingReasons:[]}));const k=v===x,j=k?[]:y.map(e=>e.label).filter(Boolean);s.set(n.id,{enabled:!0,done:k,doneUnits:v,totalUnits:x,missingReasons:j}),o+=x,c+=v});const u=r.tabs.map(e=>{const t=(e.sectionIds||[]).map(e=>({id:e,result:s.get(e),def:l.get(e)})).filter(e=>e.result&&!1!==e.result.enabled);let n=0,i=0;const r=[];let a=!0;t.forEach(e=>{const t=e.result||{};t.done||(a=!1);const l=Number(t.totalUnits||0),s=Number(t.doneUnits||0);l>0&&(n+=l,i+=s),Array.isArray(t.missingReasons)&&t.missingReasons.length&&r.push(...t.missingReasons)});const o=n?Math.round(i/n*100):0,c=r.length?r.join(" / "):"";return{key:e.key,label:e.label,pct:o,done:a,missingPreview:c,missingLines:r}}),d=o?Math.round(c/o*100):0,m=u.filter(e=>!e.done).map(e=>{const t=e.missingPreview||"Eksik alanlar";return"".concat(e.label,": ").concat(t)});return{pct:d,completedCount:u.filter(e=>e.done).length,totalCount:u.length,tabs:u,missingDetailsLines:m}}function Dl(){var e,t;const n=da(),i=Ee(),[a,l]=(0,r.useState)([]),[s,o]=(0,r.useState)(""),[c,u]=(0,r.useState)({}),[d,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),f=null!=(null===(e=n.user)||void 0===e?void 0:e.country_id);(0,r.useEffect)(()=>{document.title="Schools \xb7 Feasibility Studio"},[]),(0,r.useEffect)(()=>{if(null!==i&&void 0!==i&&i.setHeaderMeta)return i.setHeaderMeta({title:"Okullar",subtitle:"Atanan okullar\u0131n\u0131z listelenir.",centered:!0}),()=>{var e;return null===(e=i.clearHeaderMeta)||void 0===e?void 0:e.call(i)}},[i]);const y=(0,r.useCallback)(async e=>{const t=await sa.listScenarios(e),n=Array.isArray(t)?t:[],i=n.filter(e=>"approved"!==e.status);if(!n.length)return{state:"empty",label:"Senaryo yok"};if(!i.length)return{state:"approved",label:"Tum senaryolar onayli"};const r=i.slice().sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())[0],[a,l]=await Promise.all([sa.getScenarioInputs(e,r.id),sa.getNormConfig(e,r.id).catch(()=>null)]),s=Fl({inputs:null===a||void 0===a?void 0:a.inputs,norm:l,config:h,scenario:r}),o=s.missingDetailsLines.length?["Eksik:",...s.missingDetailsLines]:["Tum tablar tamamlandi"];return{state:"active",pct:s.pct,tooltipLines:o}},[h]),v=(0,r.useCallback)(async e=>{if(Array.isArray(e)&&e.length){m(!0);try{const t=await Promise.all(e.map(async e=>{try{return await y(e.id)}catch(t){return{state:"error",label:"Ilerleme hesaplanamadi"}}})),n={};e.forEach((e,i)=>{n[e.id]=t[i]}),u(n)}finally{m(!1)}}else u({})},[y]),g=(0,r.useCallback)(async()=>{o("");try{const e=await sa.listSchools();l(e),await v(e)}catch(Ib){o(Ib.message||"Failed to load schools")}},[v]);return(0,r.useEffect)(()=>{if(n.user)return f?void g():(l([]),o(""),u({}),m(!1),void p(null))},[n.user,f,g]),(0,r.useEffect)(()=>{let e=!0;if(!n.user||!f)return()=>{};return async function(){try{const t=await sa.getProgressRequirements();if(!e)return;p((null===t||void 0===t?void 0:t.config)||t||null)}catch(t){if(!e)return;p(null)}}(),()=>{e=!1}},[n.user,f]),(0,r.useEffect)(()=>{a.length&&h&&v(a)},[h,a,v]),(0,oa.jsxs)("div",{className:"container",children:[s?(0,oa.jsx)("div",{className:"card",style:{marginTop:10,background:"#fff1f2",borderColor:"#fecaca"},children:s}):null,!f&&n.user?(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"\xdclke atamas\u0131 yap\u0131lmas\u0131 gerekir."}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"Okul olu\u015fturman\u0131z i\xe7in hesab\u0131n\u0131z \xfclke atamas\u0131 yap\u0131lmas\u0131 gerekir. L\xfctfen y\xf6neticiniz ile ileti\u015fime ge\xe7in."})]}):null,f?(0,oa.jsx)("div",{className:"card",style:{marginTop:12},children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Okul/Kamp\xfcs Ad\u0131"}),(0,oa.jsx)("th",{children:"Ilerleme"}),(0,oa.jsx)("th",{children:"Olu\u015fturma Tarihi"}),(0,oa.jsx)("th",{children:"En son guncelleme"}),(0,oa.jsx)("th",{})]})}),(0,oa.jsx)("tbody",{children:0===a.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"5",className:"small",children:"Henuz okul tanimlanmamis. Lutfen yoneticiniz ile iletisime gecin."})}):a.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:(0,oa.jsx)("b",{children:e.name})}),(0,oa.jsx)("td",{style:{minWidth:180},children:c[e.id]?"active"===c[e.id].state?(0,oa.jsx)(el,{value:c[e.id].pct,tooltipLines:c[e.id].tooltipLines}):(0,oa.jsx)("div",{className:"small",children:c[e.id].label||"-"}):(0,oa.jsx)("div",{className:"small",children:d?"Hesaplaniyor...":"-"})}),(0,oa.jsx)("td",{className:"small",children:new Date(e.created_at).toLocaleString()}),(0,oa.jsx)("td",{className:"small",children:new Date(e.updated_at||e.created_at).toLocaleString()}),(0,oa.jsx)("td",{children:(0,oa.jsx)("div",{className:"row",children:(0,oa.jsxs)(fa,{as:Rt,variant:"primary",size:"sm",to:"/select?schoolId=".concat(e.id),children:[(0,oa.jsx)(Oa,{})," A\xe7"]})})})]},e.id))})]})}):null,"admin"===(null===(t=n.user)||void 0===t?void 0:t.role)?(0,oa.jsx)("div",{className:"card",style:{marginTop:12},children:(0,oa.jsx)("div",{className:"small",children:"Okullari ulkelere gore Admin panelinden yonetebilirsiniz."})}):null]})}function Il(e,t){if(!e||!t)return!1;const n=String(e).trim(),i=String(t).trim();if(!n||!i)return!1;if(i===n)return!0;if(i.endsWith(".*")){const e=i.slice(0,-2);return n===e||n.startsWith(e+".")}return!1}function Bl(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e||"object"!==typeof e)return!1;if("admin"===String(e.role||""))return!0;const r=Array.isArray(e.permissions)?e.permissions:[],{countryId:a=null,schoolId:l=null}=i;for(const s of r){const e=s.resource,i=s.action,r=null!=s.scope_country_id?Number(s.scope_country_id):null,o=null!=s.scope_school_id?Number(s.scope_school_id):null;if("read"===String(n)){if("read"!==i&&"write"!==i)continue}else{if("write"!==String(n))continue;if("write"!==i)continue}if(Il(t,e)&&((null==r||null==a||Number(r)===Number(a))&&(null==o||null==l||Number(o)===Number(l))&&(null==o||null!=l)&&(null==r||null!=a)))return!0}return!1}const zl="fizizbilite";function Ul(e,t){try{const n=window.localStorage.getItem(e);return null==n?t:JSON.parse(n)}catch(n){return t}}function Yl(e,t){let{prefix:n=zl,scope:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zl,t=arguments.length>1?arguments[1]:void 0;const n=Se();return(0,r.useMemo)(()=>{const i=("string"===typeof t?t.trim():"")||n.pathname+(n.search||"");return e+":"+i},[e,t,n.pathname,n.search])}(n,i),l=(0,r.useMemo)(()=>"".concat(a,":ui:").concat(e),[a,e]),s=(0,r.useRef)(null),[o,c]=(0,r.useState)(()=>Ul(l,t));return(0,r.useEffect)(()=>{s.current=l,c(Ul(l,t))},[l]),(0,r.useEffect)(()=>{s.current===l&&function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){}}(l,o)},[l,o]),[o,c,l]}function Kl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const[i,r]=Yl(e,!!t,n);return[!!i,e=>r(!!("function"===typeof e?e(i):e))]}function Wl(e){if(null==e)return null;try{const t="selectedScenario:".concat(e),n=window.localStorage.getItem(t);return null!=n?n:null}catch(t){return null}}function Hl(e,t){if(null!=e)try{const n="selectedScenario:".concat(e);null==t||""===t?window.localStorage.removeItem(n):window.localStorage.setItem(n,String(t))}catch(n){}}function Vl(e,t){if(null==e)return null;const n=null!=t?String(t):"none";try{const t="lastVisited:".concat(e,":").concat(n),i=window.localStorage.getItem(t);return null!=i?i:null}catch(i){return null}}function Gl(e,t,n){if(null==e||!n)return;const i=null!=t?String(t):"none";try{const t="lastVisited:".concat(e,":").concat(i);window.localStorage.setItem(t,String(n))}catch(r){}}function ql(e){if(e)try{window.localStorage.setItem("globalLastRouteSegment",e)}catch(t){}}function $l(e){if(null!=e)try{window.localStorage.setItem("lastActiveSchoolId",String(e))}catch(t){}}const Xl={LOCAL:"local",INTERNATIONAL:"international"},Ql=new Set(Object.values(Xl));function Zl(e){const t=String(e||"").trim().toLowerCase();return Ql.has(t)?t:Xl.LOCAL}function Jl(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a=null!==(e=null!==(t=null===i||void 0===i||null===(n=i.temelBilgiler)||void 0===n?void 0:n.programType)&&void 0!==t?t:null===i||void 0===i?void 0:i.programType)&&void 0!==e?e:null===i||void 0===i?void 0:i.program_type;if(a)return Zl(a);const l=(null===r||void 0===r?void 0:r.program_type)||(null===r||void 0===r?void 0:r.programType);return l?Zl(l):Xl.LOCAL}function es(e){const t=Zl(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xl.LOCAL);return!e||("okulOncesi"===e||(e.endsWith("Yerel")?t===Xl.LOCAL:!e.endsWith("Int")||t===Xl.INTERNATIONAL))}function ts(e){const t=Zl(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xl.LOCAL);if("okulOncesi"===e)return"okulOncesi";const n=t===Xl.INTERNATIONAL?"Int":"Yerel";return"".concat(e).concat(n)}function ns(e){const t=[];if(!e)return t;const n=String(e).split(".");if(n.length>0&&"inputs"===n[0]&&n.shift(),0===n.length)return t;let i=n[0].replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase();const r={grades_years:"grades_plan",grades_current:"grades_plan",grades:"grades_plan"};if(Object.prototype.hasOwnProperty.call(r,i)&&(i=r[i]),!i)return t;if(n.length>=2){const e=n[1].replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase(),r={temel_bilgiler:{inflation:"inflation",ucret_artis_oranlari:"inflation",okul_ucretleri_hesaplama:"inflation",ik_mevcut:"ik_mevcut",burs_indirim_ogrenci_sayilari:"burs_ogr",burs_ogr:"burs_ogr",rakip_analizi:"rakip",rakip:"rakip",performans:"performans",degerlendirme:"performans",okul_egitim_bilgileri:"okul_egitim",yetkililer:null,kademeler:null,program_type:null},gelirler:{"*":"unit_fee"},giderler:{"*":"isletme"},ik:{"*":"local_staff"},discounts:{"*":"discounts"},norm:{"*":"ders_dagilimi"},grades_plan:{"*":"plan"},kapasite:{"*":"caps"}}[i];let a=null;if(a=r?Object.prototype.hasOwnProperty.call(r,e)?r[e]:Object.prototype.hasOwnProperty.call(r,"*")?r["*"]:e:e,a)return t.push("section.".concat(i,".").concat(a)),t}return t.push("page.".concat(i)),t}const is=new Set(["basics","kapasite","income","expenses","norm","hr","detailedReport","report"]),rs={basics:"temel-bilgiler",kapasite:"kapasite",norm:"norm",hr:"ik",income:"gelirler",expenses:"giderler",detailedReport:"detayli-rapor",report:"rapor"},as=Object.fromEntries(Object.entries(rs).map(e=>{let[t,n]=e;return[n,t]})),ls={basics:"temel_bilgiler",kapasite:"kapasite",norm:"norm.ders_dagilimi",hr:"ik.local_staff",income:"gelirler.unit_fee",expenses:"giderler.isletme"};function ss(e){const t=String(e||"").trim(),n=t.match(/(\d{4})\s*-\s*(\d{4})/);if(n){const e=Number(n[1]),t=Number(n[2]);if(Number.isFinite(e)&&Number.isFinite(t))return{startYear:e,endYear:t}}const i=t.match(/^(\d{4})$/);if(i){const e=Number(i[1]);if(Number.isFinite(e))return{startYear:e,endYear:e}}return{startYear:null,endYear:null}}function os(e){const t=Number(null===e||void 0===e?void 0:e.pct);return Number.isFinite(t)?t:0}function cs(e,t){const n=[],i=new Set;return[e,t].forEach(e=>{Array.isArray(e)&&e.forEach(e=>{const t=String(e||"").trim();t&&!i.has(t)&&(i.add(t),n.push(t))})}),n.slice(0,15)}function us(e,t){if(!Array.isArray(e))return-1;const n=e.findIndex(e=>e&&"object"===typeof e&&"key"in e&&String(e.key)===t);if(-1!==n)return n;const i=e.findIndex(e=>e&&"object"===typeof e&&"name"in e&&String(e.name)===t);if(-1!==i)return i;const r=e.findIndex(e=>e&&"object"===typeof e&&"grade"in e&&String(e.grade)===t);if(-1!==r)return r;const a=Number(t);return Number.isInteger(a)&&String(a)===t&&a>=0&&a<e.length?a:-1}function ds(){var e,t;const{id:n}=Ae(),i=Se(),a=Ce(),l=Ee(),s=Number(n),[o,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e="Feasibility Studio";document.title=null!==o&&void 0!==o&&o.name?"".concat(o.name," \xb7 ").concat(e):"School \xb7 ".concat(e)},[null===o||void 0===o?void 0:o.name]);const[f,y]=(0,r.useState)(null),[v,g]=(0,r.useState)(null),[b,x]=(0,r.useState)(null),[k,j]=(0,r.useState)([]),[S,w]=(0,r.useState)(!1),[N,C]=(0,r.useState)(!1),[T,E]=(0,r.useState)(!1),[A,_]=(0,r.useState)([]),[P,M]=(0,r.useState)(()=>Wl(s)),[L,R]=(0,r.useState)(null),O=(0,r.useCallback)(async()=>{const e=null===f||void 0===f?void 0:f.id;if(!e||!s)return j([]),void w(!1);try{const t=await sa.listWorkItems(s,e);j(Array.isArray(null===t||void 0===t?void 0:t.workItems)?t.workItems:[]),w(!0)}catch(t){w(!0)}},[s,null===f||void 0===f?void 0:f.id]),F=(0,r.useCallback)(async()=>{if(s){C(!1);try{const e=await sa.listScenarios(s),t=Array.isArray(e)?e:Array.isArray(null===e||void 0===e?void 0:e.scenarios)?e.scenarios:[];_(t);const n=null!==P&&void 0!==P?P:null===f||void 0===f?void 0:f.id;if(null!=n){const e=t.find(e=>String(null===e||void 0===e?void 0:e.id)===String(n));e&&y(t=>t?m(m({},t),e):e)}C(!0)}catch(e){C(!1)}}},[s,P,null===f||void 0===f?void 0:f.id]),D=(0,r.useCallback)(async e=>{const t=null===f||void 0===f?void 0:f.id;if(t&&s&&e)try{await sa.submitWorkItem(s,t,e),await O(),await F(),Kr.success("Mod\xfcl g\xf6nderildi.")}catch(Ib){Kr.error(Ib.message||"G\xf6nderme ba\u015far\u0131s\u0131z")}},[s,null===f||void 0===f?void 0:f.id,O,F]);(0,r.useEffect)(()=>{if(null===f||void 0===f||!f.id)return j([]),w(!1),void C(!1);w(!1),C(!1),O()},[null===f||void 0===f?void 0:f.id,O]);const[I,B]=(0,r.useState)(null),[z,U]=(0,r.useState)(null),[Y,K]=(0,r.useState)(null),[W,H]=(0,r.useState)(!1),[V,G]=(0,r.useState)(()=>new Set),[q,$]=(0,r.useState)(null),[X,Q]=(0,r.useState)(null),Z=(0,r.useCallback)(e=>{G(t=>{if(!t.size)return t;let n=!1;const i=new Set;for(const r of t)r.startsWith(e)?n=!0:i.add(r);return n?i:t})},[]),J=(0,r.useCallback)(e=>{for(const t of V)if(t===e||t.startsWith(e))return!0;return!1},[V]),[ee,te]=(0,r.useState)(null),[ne,ie]=(0,r.useState)(!1),[re,ae]=(0,r.useState)(null),[le,se]=(0,r.useState)(null),[oe,ce]=(0,r.useState)(0),[ue,de]=(0,r.useState)(!1),me=(0,r.useRef)(null),he=(0,r.useRef)(null),[pe,fe]=(0,r.useState)(!1),[ye,ve]=(0,r.useState)(!0),[ge,be]=(0,r.useState)("Okul a\xe7iliyor...");(0,r.useEffect)(()=>{M(Wl(s))},[s]);const xe=(0,r.useMemo)(()=>"school:".concat(s,":scenario:").concat(null!==P&&void 0!==P?P:"none"),[s,P]),[ke,je]=Yl("report.currency","usd",{scope:xe}),we=(0,r.useRef)(null),[Ne,Te]=Yl("report.mode","original",{scope:xe}),[_e,Pe]=(0,r.useState)(!1),[Me,Le]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const[i,r]=Yl(e,String(null!==t&&void 0!==t?t:""),n);return[String(null!==i&&void 0!==i?i:""),e=>r(String("function"===typeof e?e(i):e))]}("school.detailedReportMode","detailed",{scope:xe}),Re=(0,r.useMemo)(()=>{const e="/schools/".concat(s,"/");return i.pathname.startsWith(e)&&i.pathname.slice(e.length).split("/")[0]||""},[i.pathname,s]),Oe=as[Re]||"",Fe=ls[Oe]||null,De=(0,r.useMemo)(()=>Fe&&Array.isArray(k)&&k.find(e=>String(null===e||void 0===e?void 0:e.work_id)===String(Fe))||null,[Fe,k]),Ie=null!==De&&void 0!==De&&De.state?String(De.state):"not_started",Be=["submitted","approved"].includes(Ie),ze=r.useCallback(e=>{const t=rs[e];t&&a("/schools/".concat(s,"/").concat(t))},[a,s]);(0,r.useEffect)(()=>{as[Re]&&Gl(s,P,Re)},[Re,s,P]),(0,r.useEffect)(()=>{as[Re]&&ql(Re)},[Re]),(0,r.useEffect)(()=>{const e="/schools/".concat(s);if(i.pathname!==e&&i.pathname!=="".concat(e,"/"))return;const t=Vl(s,P)||rs.basics,n="".concat(e,"/").concat(t);a(n,{replace:!0})},[i.pathname,a,s,P]),(0,r.useEffect)(()=>{ve(!0),be("Okul a\xe7iliyor...")},[s]),(0,r.useEffect)(()=>{L&&P&&String(P)===String(L.scenarioId)&&(ze(L.tab),R(null))},[L,P,ze]),(0,r.useEffect)(()=>{const e=setInterval(()=>ce(Date.now()),3e4);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{if(!ue)return;const e=e=>{const t=me.current;t&&!t.contains(e.target)&&de(!1)},t=e=>{"Escape"===e.key&&de(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[ue]);const Ue=ss(null===f||void 0===f?void 0:f.academic_year).startYear,Ye="LOCAL"===(null===f||void 0===f?void 0:f.input_currency)?f.local_currency_code||"LOCAL":"USD",Ke="LOCAL"===(null===f||void 0===f?void 0:f.input_currency),We=Number((null===Y||void 0===Y||null===(e=Y.temelBilgiler)||void 0===e||null===(t=e.performans)||void 0===t?void 0:t.prevYearRealizedFxUsdToLocal)||0),He=Ke&&!(Number.isFinite(We)&&We>0),Ve=(0,r.useMemo)(()=>Jl(Y,f),[Y,f]),Ge=(0,r.useMemo)(()=>{var e,t;const n=null!==(e=null!==(t=null===o||void 0===o?void 0:o.country_id)&&void 0!==t?t:null===h||void 0===h?void 0:h.country_id)&&void 0!==e?e:null;return{schoolId:s,countryId:n}},[s,null===o||void 0===o?void 0:o.country_id,null===h||void 0===h?void 0:h.country_id]),qe=(0,r.useMemo)(()=>{try{return Bl(h,"page.norm","read",Ge)}catch(e){return!1}},[h,Ge]),Xe=(0,r.useMemo)(()=>{try{return!!Bl(h,"section.giderler.isletme","write",Ge)||Bl(h,"page.giderler","write",Ge)}catch(e){return!1}},[h,Ge]),Qe=!I&&!qe,Ze=(0,r.useMemo)(()=>Fl({inputs:Y,norm:I,config:z,scenario:f}),[Y,I,z,f]),Je=(0,r.useMemo)(()=>Object.fromEntries(((null===Ze||void 0===Ze?void 0:Ze.tabs)||[]).map(e=>[e.key,e])),[Ze]),et=(0,r.useMemo)(()=>{const e=os(Je.gradesPlan),t=Qe?e:os(Je.norm);return Math.round((e+t)/2)},[Je,Qe]),tt=(0,r.useMemo)(()=>{const e=os(Je.giderler),t=os(Je.discounts);return Math.round((e+t)/2)},[Je]),nt=(0,r.useMemo)(()=>{var e,t;return cs(null===(e=Je.gradesPlan)||void 0===e?void 0:e.missingLines,null===(t=Je.norm)||void 0===t?void 0:t.missingLines)},[Je]),it=(0,r.useMemo)(()=>{var e,t;return cs(null===(e=Je.giderler)||void 0===e?void 0:e.missingLines,null===(t=Je.discounts)||void 0===t?void 0:t.missingLines)},[Je]),rt=(0,r.useCallback)(async e=>{if(!P)return;const t=String(e||"original");Pe(!0),d("");try{const e=await sa.getScenarioReport(s,P,t);te((null===e||void 0===e?void 0:e.results)||null)}catch(Ib){d(Ib.message||"Report fetch failed")}finally{Pe(!1)}},[s,P]),at=(0,r.useCallback)(async e=>{const t=String(e||"original");t===Ne&&ee||(Te(t),await rt(t))},[rt,Ne,ee,Te]);(0,r.useEffect)(()=>{if(null!==l&&void 0!==l&&l.setHeaderMeta)return l.setHeaderMeta({title:null!==o&&void 0!==o&&o.name?o.name:"Okul",subtitle:f?"".concat(f.name).concat(f.academic_year?" \u2022 ".concat(f.academic_year):""):"Senaryo se\xe7in",hideDefault:!1,centered:!0}),()=>{var e;null===(e=l.clearHeaderMeta)||void 0===e||e.call(l)}},[l,f,null===o||void 0===o?void 0:o.name]);const lt=(0,r.useCallback)(e=>{var t,n,i;const r=e||{},a=r.ik||{},l=null!==a&&void 0!==a&&null!==(t=a.years)&&void 0!==t&&t.y1?a.years.y1:a,s=(null===l||void 0===l?void 0:l.unitCosts)||{},o=(null===l||void 0===l?void 0:l.headcountsByLevel)||{},c=["turk_mudur","turk_mdyard","turk_egitimci","turk_temsil","yerel_yonetici_egitimci","yerel_destek","yerel_ulke_temsil_destek","int_yonetici_egitimci"],u=["okulOncesi","ilkokulYerel","ilkokulInt","ortaokulYerel","ortaokulInt","liseYerel","liseInt"],d={};for(const g of c){let e=0;for(const t of u){var m;e+=Number((null===o||void 0===o||null===(m=o[t])||void 0===m?void 0:m[g])||0)}d[g]=Number((null===s||void 0===s?void 0:s[g])||0)*e}const h={turkPersonelMaas:(d.turk_mudur||0)+(d.turk_mdyard||0)+(d.turk_egitimci||0),turkDestekPersonelMaas:d.turk_temsil||0,yerelPersonelMaas:d.yerel_yonetici_egitimci||0,yerelDestekPersonelMaas:(d.yerel_destek||0)+(d.yerel_ulke_temsil_destek||0),internationalPersonelMaas:d.int_yonetici_egitimci||0},p=(null===r||void 0===r||null===(n=r.giderler)||void 0===n||null===(i=n.isletme)||void 0===i?void 0:i.items)||{},f=Object.keys(h);let y=!1;for(const g of f){const e=Number((null===p||void 0===p?void 0:p[g])||0),t=Number((null===h||void 0===h?void 0:h[g])||0);if(Math.abs(e-t)>1e-6){y=!0;break}}if(!y)return r;const v=structuredClone(r);v.giderler=v.giderler||{},v.giderler.isletme=v.giderler.isletme||{},v.giderler.isletme.items=v.giderler.isletme.items||{};for(const g of f)v.giderler.isletme.items[g]=Number(h[g]||0);return v},[]),st=(0,r.useCallback)(e=>{var t,n,i;const r=e=>{const t=Number(e);return Number.isFinite(t)?t:0},a=e||{},l=r(a.schoolCapacity),s=a.kapasite&&"object"===typeof a.kapasite?a.kapasite:{},o=s.years&&"object"===typeof s.years?s.years:{},c=r(null!=o.y1?o.y1:l),u=r(null!=o.y2?o.y2:c),d=r(null!=o.y3?o.y3:c),h=r(s.currentStudents),p=s.byKademe&&"object"===typeof s.byKademe?s.byKademe:{};if(!("schoolCapacity"in a||!a.kapasite||"object"!==typeof a.kapasite||!s.years||"object"!==typeof s.years||r(null===s||void 0===s||null===(t=s.years)||void 0===t?void 0:t.y1)!==c||r(null===s||void 0===s||null===(n=s.years)||void 0===n?void 0:n.y2)!==u||r(null===s||void 0===s||null===(i=s.years)||void 0===i?void 0:i.y3)!==d||r(null===s||void 0===s?void 0:s.currentStudents)!==h||!s.byKademe||"object"!==typeof s.byKademe))return a;const f=structuredClone(a);return f.kapasite=m(m({},s||{}),{},{currentStudents:h,years:{y1:c,y2:u,y3:d},byKademe:p}),"schoolCapacity"in f&&delete f.schoolCapacity,f},[]),ot=(0,r.useCallback)(e=>{const t=e||{},n=dl().map(e=>({grade:e,branchCount:0,studentsPerBranch:0})),i=Array.isArray(t.grades)?t.grades:n,r=t.gradesYears&&"object"===typeof t.gradesYears?t.gradesYears:{},a=Array.isArray(r.y1)?r.y1:i,l=Array.isArray(r.y2)?r.y2:a,s=Array.isArray(r.y3)?r.y3:a,o=e=>{const t=new Map;return(Array.isArray(e)?e:[]).forEach(e=>{const n=(e=>{var t,n,i;return{grade:String(null!==(t=null===e||void 0===e?void 0:e.grade)&&void 0!==t?t:""),branchCount:Number(null!==(n=null===e||void 0===e?void 0:e.branchCount)&&void 0!==n?n:0),studentsPerBranch:Number(null!==(i=null===e||void 0===e?void 0:e.studentsPerBranch)&&void 0!==i?i:0)}})(e);n.grade&&t.set(n.grade,n)}),t};if(!(!t.gradesYears||!Array.isArray(t.grades)||!Array.isArray(r.y1)||!Array.isArray(r.y2)||!Array.isArray(r.y3)||!((e,t)=>{if(!Array.isArray(e)||!Array.isArray(t))return!1;const n=o(e),i=o(t);if(n.size!==i.size)return!1;for(const[r,a]of n.entries()){const e=i.get(r);if(!e)return!1;if(Number(a.branchCount)!==Number(e.branchCount))return!1;if(Number(a.studentsPerBranch)!==Number(e.studentsPerBranch))return!1}return!0})(t.grades,a)))return t;const c=structuredClone(t);return c.gradesYears={y1:structuredClone(a),y2:structuredClone(l),y3:structuredClone(s)},c.grades=structuredClone(c.gradesYears.y1),c},[]),ct=(0,r.useCallback)(e=>{var t,n,i,r;const a=e&&"object"===typeof e?e:{},l=ul((null===a||void 0===a||null===(t=a.gradesYears)||void 0===t?void 0:t.y1)||(null===a||void 0===a?void 0:a.grades)||[],null===a||void 0===a||null===(n=a.temelBilgiler)||void 0===n?void 0:n.kademeler),s=Jl(a),o={okulOncesi:Number(l.okulOncesi||0),ilkokulYerel:0,ilkokulInt:0,ortaokulYerel:0,ortaokulInt:0,liseYerel:0,liseInt:0};o[ts("ilkokul",s)]=Number(l.ilkokul||0),o[ts("ortaokul",s)]=Number(l.ortaokul||0),o[ts("lise",s)]=Number(l.lise||0);const c=((e,t)=>{if(!Array.isArray(e))return{rows:e,changed:!1};let n=!1;const i=e.map(e=>{var i,r;const a=String(null!==(i=null===e||void 0===e?void 0:e.key)&&void 0!==i?i:""),l=t(a);if(null==l)return e;const s=Number(null!==(r=null===e||void 0===e?void 0:e.studentCount)&&void 0!==r?r:0);return Math.abs(s-l)<1e-6?e:(n=!0,m(m({},e),{},{studentCount:l}))});return{rows:n?i:e,changed:n}})(null===a||void 0===a||null===(i=a.gelirler)||void 0===i||null===(r=i.tuition)||void 0===r?void 0:r.rows,e=>Object.prototype.hasOwnProperty.call(o,e)?o[e]:null);if(!c.changed)return a;const u=structuredClone(a);return u.gelirler=u.gelirler||{},c.changed&&(u.gelirler.tuition=u.gelirler.tuition||{},u.gelirler.tuition.rows=c.rows),u},[]);(0,r.useEffect)(()=>{let e=!0;return async function(){try{const t=await sa.getProgressRequirements();if(!e)return;U((null===t||void 0===t?void 0:t.config)||t||null)}catch(t){if(!e)return;U(null)}}(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{!async function(){d(""),ve(!0),be("Okul a\xe7iliyor...");try{const t=await sa.getSchool(s);c(t);try{const e=await sa.getMe();p(e)}catch(e){}be("Senaryolar kontrol ediliyor...");const n=await sa.listScenarios(s);_(n),null!=P&&(n.some(e=>String(e.id)===String(P))||(Hl(s,null),M(null))),ve(!1)}catch(Ib){d(Ib.message||"Failed to load school"),ve(!1)}}()},[s]),(0,r.useEffect)(()=>{!async function(){if(!P)return y(null),K(null),$(null),te(null),g(null),x(null),B(null),Q(null),Z("inputs."),void Z("norm.");d(""),te(null),ae(null),se(null);try{const t=await sa.getScenarioInputs(s,P);y((null===t||void 0===t?void 0:t.scenario)||null);const n=null===t||void 0===t?void 0:t.inputs,i=n&&"object"===typeof n?ot((e=>{const t=e||{},n=t.temelBilgiler&&"object"===typeof t.temelBilgiler?t.temelBilgiler:{},i=structuredClone(t),r=n.inflation&&"object"===typeof n.inflation?n.inflation:{},a=e=>Number.isFinite(Number(e))?Number(e):0;return i.temelBilgiler={inflation:m(m({},r),{},{expenseDeviationPct:a(r.expenseDeviationPct),y2023:a(r.y2023),y2024:a(r.y2024),y2025:a(r.y2025),y1:a(r.y1),y2:a(r.y2),y3:a(r.y3),currentSeasonAvgFee:a(r.currentSeasonAvgFee)}),yetkililer:n.yetkililer||{mudur:"",ulkeTemsilcisi:"",raporuHazirlayan:""},okulEgitimBilgileri:n.okulEgitimBilgileri||{egitimBaslamaTarihi:"",zorunluEgitimDonemleri:"",birDersSuresiDakika:0,gunlukDersSaati:0,haftalikDersSaatiToplam:0,sabahciOglenci:"",ogretmenHaftalikDersOrt:0,gecisSinaviBilgisi:"",uygulananProgram:""},kademeler:sl(n.kademeler),programType:Zl(n.programType),okulUcretleriHesaplama:"boolean"!==typeof n.okulUcretleriHesaplama||n.okulUcretleriHesaplama,ucretArtisOranlari:n.ucretArtisOranlari||{okulOncesi:0,ilkokulYerel:0,ilkokulInt:0,ortaokulYerel:0,ortaokulInt:0,liseYerel:0,liseInt:0},ikMevcut:n.ikMevcut||{turkPersonelYoneticiEgitimci:0,turkPersonelTemsilcilik:0,yerelKadroluEgitimci:0,yerelUcretliVakaterEgitimci:0,yerelDestek:0,yerelTemsilcilik:0,international:0},bursIndirimOgrenciSayilari:n.bursIndirimOgrenciSayilari||{magisBasariBursu:0,maarifYetenekBursu:0,ihtiyacBursu:0,okulBasariBursu:0,tamEgitimBursu:0,barinmaBursu:0,turkceBasariBursu:0,uluslararasiYukumlulukIndirimi:0,vakifCalisaniIndirimi:0,kardesIndirimi:0,erkenKayitIndirimi:0,pesinOdemeIndirimi:0,kademeGecisIndirimi:0,temsilIndirimi:0,kurumIndirimi:0,istisnaiIndirim:0,yerelMevzuatIndirimi:0},rakipAnalizi:n.rakipAnalizi||{okulOncesi:{a:0,b:0,c:0},ilkokul:{a:0,b:0,c:0},ortaokul:{a:0,b:0,c:0},lise:{a:0,b:0,c:0}},performans:n.performans||{gerceklesen:{ogrenciSayisi:0,gelirler:0,giderler:0,karZarar:0,bursVeIndirimler:0}},degerlendirme:"string"===typeof n.degerlendirme?n.degerlendirme:""},i})(st(n))):n;K(i),$(i&&"object"===typeof i?structuredClone(i):i),Z("inputs.");try{const e=await sa.getNormConfig(s,P);B(e),Q(e?structuredClone(e):null),Z("norm.")}catch(e){B(null),Q(null),Z("norm.")}}catch(Ib){d(Ib.message||"Failed to load scenario inputs")}}()},[s,P,Z,st,ot]),(0,r.useEffect)(()=>{if(!P)return void(we.current=null);const e=null===f||void 0===f?void 0:f.id;if(!e||String(e)!==String(P))return;const t="LOCAL"===(null===f||void 0===f?void 0:f.input_currency)&&Number(null===f||void 0===f?void 0:f.fx_usd_to_local)>0&&(null===f||void 0===f?void 0:f.local_currency_code),n=String(e);if(we.current!==n)return je(t?"local":"usd"),void(we.current=n);t||"usd"===ke||je("usd")},[P,null===f||void 0===f?void 0:f.id,null===f||void 0===f?void 0:f.input_currency,null===f||void 0===f?void 0:f.fx_usd_to_local,null===f||void 0===f?void 0:f.local_currency_code,ke,je]),(0,r.useEffect)(()=>{!async function(){try{g(null),x(null);const e=null===f||void 0===f?void 0:f.academic_year;if(!e||null===A||void 0===A||!A.length)return;const{startYear:t,endYear:n}=ss(e);if(!t)return;const i=t-1,r=(null!==n&&void 0!==n?n:t)-1,a=A.find(e=>{const t=ss(null===e||void 0===e?void 0:e.academic_year);return t.startYear===i&&t.endYear===r});if(!a)return;x(a);const l=await sa.calculateScenario(s,a.id);g((null===l||void 0===l?void 0:l.results)||null)}catch(e){g(null)}}()},[s,null===f||void 0===f?void 0:f.academic_year,A]);const ut=function(e){const t=String((null===e||void 0===e?void 0:e.status)||"draft"),n=null!=(null===e||void 0===e?void 0:e.submitted_at),i=null!=(null===e||void 0===e?void 0:e.sent_at);return"sent_for_approval"===t||"submitted"===t||"approved"===t&&i||"in_review"===t&&n}(f),dt=ut||Be,mt=(0,r.useCallback)(async()=>{if(!I||!P)return;const e=null!==I&&void 0!==I&&I.years?{years:I.years}:{teacherWeeklyMaxHours:I.teacherWeeklyMaxHours,curriculumWeeklyHours:I.curriculumWeeklyHours};await sa.saveNormConfig(s,P,e);const t=await sa.getNormConfig(s,P);B(t),Q(t?structuredClone(t):null),Z("norm.")},[I,P,s,Z]),ht=(0,r.useCallback)(async()=>{if(!P||!Y)return!1;if(dt)return d(ut?"Senaryo kilitli. Inceleme bekleniyor.":"Modul kilitli. Inceleme bekleniyor."),!1;const e=J("inputs."),t=J("norm.");if(!e&&!t)return!0;H(!0),d("");try{if(e){let e=lt(Y);e=st(e),e=ot(e),e=ct(e),e!==Y&&K(e);const t=new Set,n=[];for(const r of V){const e=String(r||"");if(e.startsWith("inputs.")){n.push(e);for(const n of ns(e))t.add(n)}}const i=Array.from(t);await sa.saveScenarioInputs(s,P,e,i,n),$(e&&"object"===typeof e?structuredClone(e):e),Z("inputs.")}return t&&await mt(),ae(Date.now()),!0}catch(Ib){const i=e&&t?"Save failed":t?"Save norm failed":"Save inputs failed";return d(Ib.message||i),!1}finally{H(!1)}},[lt,ct,st,ot,P,Y,dt,ut,J,V,s,Z,mt]);function pt(e){const t=Array.isArray(e)?e:[];let n=0;for(const r of t){var i;const e=Number(null!==(i=null===r||void 0===r?void 0:r.studentsPerBranch)&&void 0!==i?i:0);Number.isFinite(e)&&(n+=e)}return n}function ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blocking-toast";Kr.warn(e,{toastId:t,position:"bottom-right",autoClose:!1,closeOnClick:!1,draggable:!0,icon:"??",style:{background:"rgba(15, 23, 42, 0.96)",color:"#f8fafc",border:"1px solid rgba(251, 191, 36, 0.35)",boxShadow:"0 18px 40px rgba(0,0,0,.28)",borderRadius:14}})}function yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Islem";if(!Y)return!0;const t=function(e){const t=e&&"object"===typeof e?e:{},n=t.gradesYears&&"object"===typeof t.gradesYears?t.gradesYears:{};return{y1:pt(Array.isArray(n.y1)?n.y1:t.grades),y2:pt(n.y2),y3:pt(n.y3)}}(Y),n=[];if(t.y2>0||n.push("Y2"),t.y3>0||n.push("Y3"),!n.length)return!0;const i="".concat(e," yapilamaz: Norm > Planlanan Donem Bilgileri bolumunde ")+"".concat(n.join(" ve ")," toplam ogrenci 0 gorunuyor. Lutfen Y2/Y3 ogrenci sayilarini girin.");return d(""),ft(i,"norm-y2y3-missing"),"norm"!==Oe&&ze("norm"),!1}function vt(){if(!Y)return!0;if(!Ke)return!0;if(!He)return!0;const e="".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Islem"," yapilamaz: Temel Bilgiler > Performans alanindaki ")+'"Onceki Donem Ortalama Kur (Gerceklesen)" girilmelidir.';return d(""),ft(e,"prev-realized-fx-missing"),"basics"!==Oe&&ze("basics"),!1}async function gt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!P)return!1;if(!vt("Hesaplama"))return!1;if(!e.skipPlanValidation&&!yt("Hesaplama"))return!1;ie(!0),d("");let t=!1;try{const n=await sa.calculateScenario(s,P);"distributed"===Ne?await rt("distributed"):te(n.results),e.keepTab||ze("report"),se(Date.now()),"undefined"!==typeof window&&console.log("[kpi] calculate ok",{scenarioId:P,hasResults:Boolean(null===n||void 0===n?void 0:n.results)}),t=!0}catch(Ib){d(Ib.message||"Calculation failed"),"undefined"!==typeof window&&console.log("[kpi] calculate failed",{scenarioId:P,error:(null===Ib||void 0===Ib?void 0:Ib.message)||Ib})}finally{ie(!1)}return t}function bt(e,t){return null==e&&null==t||("number"===typeof e||"number"===typeof t?Number(e)===Number(t):"boolean"===typeof e||"boolean"===typeof t?Boolean(e)===Boolean(t):Object.is(e,t))}function xt(e,t){let n=e;for(const i of t){if(null==n)return;if(Array.isArray(n)){const e=n.find(e=>e&&"object"===typeof e&&"key"in e&&String(e.key)===i);if(e){n=e;continue}const t=n.find(e=>e&&"object"===typeof e&&"name"in e&&String(e.name)===i);if(t){n=t;continue}const r=n.find(e=>e&&"object"===typeof e&&"grade"in e&&String(e.grade)===i);if(r){n=r;continue}const a=Number(i);if(Number.isInteger(a)&&String(a)===i){n=n[a];continue}return}if("object"!==typeof n)return;n=n[i]}return n}const kt=(0,r.useCallback)(e=>{if(!e)return;const t=e.split(".");if(t.length){if("inputs"===t[0]){const e=xt(q,t.slice(1));if(void 0!==e)return e;const n=t[t.length-1];if(n.endsWith("Y2")||n.endsWith("Y3")){const e=n.endsWith("Y2")?"Y2":"Y3",i=n.slice(0,-2),r=xt(q,t.slice(1,-1).concat(i));if(void 0!==r){if("unitCost"===i||i.startsWith("unitCost")){const t=xt(q,["temelBilgiler","inflation"])||{},n=1+Number((null===t||void 0===t?void 0:t.y2)||0),i=n*(1+Number((null===t||void 0===t?void 0:t.y3)||0));return"Y2"===e?Number(r)*n:Number(r)*i}return r}}if(("studentCountY2"===n||"studentCountY3"===n)&&q){const e=xt(q,t.slice(1,-1));if(e&&"object"===typeof e){const t=e.studentCount;if(null!=t)return t}}const i=t.indexOf("years");if(i>=0&&t.length>i+1&&q){const e=t[i+1];if("y2"===e||"y3"===e){const n=[...t];n[i+1]="y1";const r=xt(q,n.slice(1));if(void 0!==r){if(t.includes("ik")&&t.includes("unitCosts")){const t=xt(q,["ik","unitCostRatio"]),n=Number(t);if(Number.isFinite(n)){const t=Number(r),i="y2"===e?n:n*n;return Number.isFinite(t)?t*i:void 0}}return r}}}if("ik.years"===t.slice(1,3).join(".")&&q){if(t.includes("unitCostRatio")){const e=xt(q,["ik","unitCostRatio"]);return void 0!==e?e:1}if(["unitCosts","headcountsByLevel"].some(e=>t.includes(e)))return 0}if(("y1"===n||"y2"===n||"y3"===n)&&q){const e=xt(q,t.slice(1,-1));if(e&&"object"===typeof e&&null!=e.y1)return e.y1;const n=t.indexOf("byKademe");if(n>=1&&t.length>n+1){const e=t[n+1],i=xt(q,["kapasite","byKademe",e,"caps","y1"]);if(void 0!==i)return i}const i=xt(q,["kapasite","years","y1"]);if(void 0!==i)return i}if("cur"===n&&q){const e=t.indexOf("byKademe");if(e>=1&&t.length>e+1){const n=t[e+1],i=xt(q,["kapasite","byKademe",n,"caps","cur"]);if(void 0!==i)return i}const n=xt(q,["kapasite","currentStudents"]);if(void 0!==n)return n}return}return"norm"===t[0]?xt(X,t.slice(1)):void 0}},[q,X]),jt=J("inputs.")||J("norm."),St=(0,r.useCallback)(async()=>{if(Fe){if(jt){if(!await ht())return}await D(Fe)}},[Fe,jt,ht,D]),wt=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"approve";if(Fe&&null!==f&&void 0!==f&&f.id&&!T){E(!0);try{await sa.reviewWorkItem(s,f.id,Fe,{action:e}),Kr.success("approve"===e?"Onayland\u0131":"Revize istendi"),await O(),await F()}catch(Ib){Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"\u0130\u015flem ba\u015far\u0131s\u0131z")}finally{E(!1)}}},[Fe,null===f||void 0===f?void 0:f.id,T,s,O,F]),Nt=String((null===h||void 0===h?void 0:h.role)||""),Ct=jt&&!(Fe&&"submitted"===Ie&&Nt&&!("accountant"===Nt)),Tt="submitted"===Ie?"Modul incelemede":"approved"===Ie?"Modul onaylandi":"Modul kilitli",Et=ut?"Senaryo kilitli":Be?Tt:"",At=Fe&&!ut&&["not_started","in_progress","needs_revision"].includes(Ie),_t=(0,r.useCallback)((e,t)=>{if(!e)return;if(dt&&(e.startsWith("inputs.")||e.startsWith("norm.")))return;e.startsWith("inputs.")&&K(n=>{if(!n)return n;const i=e.split(".");if(bt(xt(n,i.slice(1)),t))return n;const r=structuredClone(n),a=function(e,t,n){if(!e||!Array.isArray(t)||!t.length)return!1;let i=e;for(let a=0;a<t.length-1;a++){const e=t[a];if(null==i)return!1;if(Array.isArray(i)){const t=us(i,e);if(t<0)return!1;null!=i[t]&&"object"===typeof i[t]||(i[t]={}),i=i[t];continue}if("object"!==typeof i)return!1;null!=i[e]&&"object"===typeof i[e]||(i[e]={}),i=i[e]}const r=t[t.length-1];if(Array.isArray(i)){const e=us(i,r);return!(e<0)&&(i[e]=n,!0)}return null!=i&&"object"===typeof i&&(i[r]=n,!0)}(r,i.slice(1),t);return a?r:n});const n=kt(e),i=bt(t,n);G(t=>{const n=new Set(t);return i?n.delete(e):n.add(e),function(e,t){if(e===t)return!0;if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(t,n)?t:n})},[dt,kt,K]);(0,r.useEffect)(()=>{const e=e=>{Ct&&(e.preventDefault(),e.returnValue="")};return Ct&&window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[Ct]),(0,r.useEffect)(()=>{try{window.__fsUnsavedChanges=Ct}catch(e){}return()=>{try{window.__fsUnsavedChanges=!1}catch(e){}}},[Ct]);const Pt=r.useCallback(e=>{if(dt)return;const t=(null===e||void 0===e?void 0:e.y1)||{},n=["turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas"];K(e=>{var i,r;const a=e||{},l=(null===a||void 0===a||null===(i=a.giderler)||void 0===i||null===(r=i.isletme)||void 0===r?void 0:r.items)||{};let s=!1;for(const c of n){const e=Number((null===l||void 0===l?void 0:l[c])||0),n=Number((null===t||void 0===t?void 0:t[c])||0);if(Math.abs(e-n)>1e-6){s=!0;break}}if(!s)return e;const o=structuredClone(a);o.giderler=o.giderler||{},o.giderler.isletme=o.giderler.isletme||{},o.giderler.isletme.items=o.giderler.isletme.items||{};for(const c of n)o.giderler.isletme.items[c]=Number((null===t||void 0===t?void 0:t[c])||0);if(Xe)for(const c of n)_t("inputs.giderler.isletme.items.".concat(c),Number((null===t||void 0===t?void 0:t[c])||0));return o})},[dt,_t,Xe]),Mt=r.useCallback(e=>{dt||e&&"object"===typeof e&&K(t=>{let n=structuredClone(t||{});return n.gradesYears=e,Array.isArray(e.y1)&&(n.grades=structuredClone(e.y1)),n=ct(n),n})},[ct,dt]),Lt=(0,r.useCallback)(e=>{dt||B(t=>"function"===typeof e?e(t):e)},[dt,B]),Rt=is.has(Oe),Ot=W||ne||pe||!ee,Ft=e=>{if(!e)return"";const t=Math.max(0,(oe||Date.now())-e);return t<6e4?"az once":t<36e5?"".concat(Math.floor(t/6e4)," dk once"):"".concat(Math.floor(t/36e5)," saat once")};function Dt(e){switch(e){case"Revize istendi":return"is-bad";case"Merkeze iletildi":case"\u0130ncelemede":case"Haz\u0131rlan\u0131yor":return"is-warn";case"Kontrol edildi":case"Onayland\u0131":return"is-ok";default:return"is-muted"}}(0,r.useEffect)(()=>{Ot&&de(!1)},[Ot]);const It={schoolId:s,school:o,me:h,inputs:Y,setField:function(e,t){if(dt)return;const n=structuredClone(Y||{}),i=e.split(".");let r=n;for(let a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];r[i[i.length-1]]=t,K(n)},norm:I,setNorm:Lt,handlePlanningGradesChange:Mt,dirtyPaths:V,markDirty:_t,baseYear:Ue,programType:Ve,inputCurrencyCode:Ye,selectedScenario:f,prevReport:v,prevScenarioMeta:b,report:ee,reportCurrency:ke,setReportCurrency:je,reportMode:Ne,reportModeLoading:_e,handleReportModeChange:at,detailedReportMode:Me,setDetailedReportMode:Le,reportExportRef:he,progMap:Je,normAvgPct:et,expensesAvgPct:tt,normMissingLines:nt,expensesMissingLines:it,uiScopeKey:xe,handleIkSalaryComputed:Pt,workItems:k,refreshWorkItems:O,submitWorkItem:D};return(0,oa.jsxs)("div",{className:"container school-page",children:[(0,oa.jsx)(Jr,{position:"bottom-right",autoClose:3500,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,hideProgressBar:!0,theme:"dark"}),(0,oa.jsx)("style",{children:"@keyframes schoolSpin{to{transform:rotate(360deg)}}"}),ye?(0,oa.jsx)("div",{className:"modal-backdrop",role:"status","aria-live":"polite","aria-busy":"true",children:(0,oa.jsxs)("div",{className:"card",style:{width:"min(420px, 92vw)",padding:"18px 16px",textAlign:"center"},children:[(0,oa.jsx)("div",{"aria-hidden":!0,style:{width:36,height:36,margin:"0 auto",borderRadius:"50%",border:"3px solid rgba(0,0,0,.15)",borderTopColor:"rgba(0,0,0,.75)",animation:"schoolSpin .8s linear infinite"}}),(0,oa.jsx)("div",{style:{fontWeight:800,marginTop:12},children:ge||"Yukleniyor..."}),(0,oa.jsx)("div",{className:"small muted",style:{marginTop:6},children:"Lutfen bekleyin..."})]})}):null,u?(0,oa.jsx)("div",{className:"card",style:{marginTop:10,background:"#fff1f2",borderColor:"#fecaca"},children:u}):null,P?(0,oa.jsx)($e,{context:It}):(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Okul & Senaryo Sec"}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"Bu bolumu acmak icin once okul ve senaryo secin."}),(0,oa.jsx)("button",{type:"button",className:"btn primary",style:{marginTop:12},onClick:()=>a("/select?schoolId=".concat(s)),children:"Okul & Senaryo Sec"})]}),function(){var e,t,n,i,r,a,l,c,u,m,p,y;if(!Rt)return null;const v={temel:"temel_bilgiler",kapasite:"kapasite",norm:"norm.ders_dagilimi",ik:"ik.local_staff",gelir:"gelirler.unit_fee",gider:"giderler.isletme"},g=[];Je&&Je.temelBilgiler&&g.push({key:"temel",label:"Temel",labelShort:"Temel",pct:os(Je.temelBilgiler),done:!0===Je.temelBilgiler.done}),Je&&Je.kapasite&&g.push({key:"kapasite",label:"Kapasite",labelShort:"Kap",pct:os(Je.kapasite),done:!0===Je.kapasite.done});const b=Qe?!0===(null===Je||void 0===Je||null===(e=Je.gradesPlan)||void 0===e?void 0:e.done)||void 0===(null===Je||void 0===Je||null===(t=Je.gradesPlan)||void 0===t?void 0:t.done):(!0===(null===Je||void 0===Je||null===(n=Je.gradesPlan)||void 0===n?void 0:n.done)||void 0===(null===Je||void 0===Je||null===(i=Je.gradesPlan)||void 0===i?void 0:i.done))&&(!0===(null===Je||void 0===Je||null===(r=Je.norm)||void 0===r?void 0:r.done)||void 0===(null===Je||void 0===Je||null===(a=Je.norm)||void 0===a?void 0:a.done));g.push({key:"norm",label:"Norm",labelShort:"Norm",pct:Number.isFinite(et)?et:0,done:b}),Je&&Je.ik&&g.push({key:"ik",label:"\u0130K",labelShort:"\u0130K",pct:os(Je.ik),done:!0===Je.ik.done}),Je&&Je.gelirler&&g.push({key:"gelir",label:"Gelir",labelShort:"Gel",pct:os(Je.gelirler),done:!0===Je.gelirler.done});const x=(!0===(null===Je||void 0===Je||null===(l=Je.giderler)||void 0===l?void 0:l.done)||void 0===(null===Je||void 0===Je||null===(c=Je.giderler)||void 0===c?void 0:c.done))&&(!0===(null===Je||void 0===Je||null===(u=Je.discounts)||void 0===u?void 0:u.done)||void 0===(null===Je||void 0===Je||null===(m=Je.discounts)||void 0===m?void 0:m.done));g.push({key:"gider",label:"Gider",labelShort:"Gid",pct:Number.isFinite(tt)?tt:0,done:x});const j=g.every(e=>e.done),w=null===f||void 0===f?void 0:f.progress_pct,C=f?function(e,t){if(!e)return null;const n=String(e.status||"draft");if("draft"===n){const e=Number(t);return Number.isFinite(e)&&e>0?"Haz\u0131rlan\u0131yor":"Taslak"}return"in_review"===n?"\u0130ncelemede":"revision_requested"===n?"Revize istendi":"sent_for_approval"===n||"submitted"===n?"Merkeze iletildi":"approved"===n?e.sent_at?"Onayland\u0131":"Kontrol edildi":"Taslak"}(f,w):null,E=C&&["\u0130ncelemede","Revize istendi","Merkeze iletildi","Kontrol edildi","Onayland\u0131"].includes(C)?C:null,A=E?Dt(E):null,_=S&&Fe?function(e){switch(String(e||"not_started")){case"approved":return"Kontrol edildi";case"needs_revision":return"Revize istendi";case"submitted":return"\u0130ncelemede";case"in_progress":return"Haz\u0131rlan\u0131yor";default:return"Taslak"}}(Ie):null,M=_?Dt(_):null,L=Boolean(Fe&&_);let R=null;if("Kontrol edildi"===E&&null!==f&&void 0!==f&&f.checked_at){const e=new Date(f.checked_at);R="Kontrol: ".concat(Number.isFinite(e.getTime())?e.toLocaleString():"")}else if("Merkeze iletildi"===E&&null!==f&&void 0!==f&&f.sent_at){const e=new Date(f.sent_at);R="\u0130letildi: ".concat(Number.isFinite(e.getTime())?e.toLocaleString():"")}else if("Onayland\u0131"===E&&null!==f&&void 0!==f&&f.reviewed_at){const e=new Date(f.reviewed_at);R="Onay: ".concat(Number.isFinite(e.getTime())?e.toLocaleString():"")}let D=null,I=null;const B="Merkeze iletildi"===E||"Onayland\u0131"===E,z=B||!Fe||S&&N,U=z?E:null,K=z?A:null,H=z?R:null;if(B&&U)D={label:U,className:K,tooltip:H};else if(L){D={label:_,className:M};U&&U!==_&&!("Revize istendi"===U&&"needs_revision"!==Ie||"Kontrol edildi"===U&&"needs_revision"===Ie||"\u0130ncelemede"===U&&"approved"===Ie)&&(I={label:U,className:K,tooltip:H})}else U?(D={label:U,className:K,tooltip:H},_&&_!==U&&(I={label:_,className:M})):_&&(D={label:_,className:M});const V=[];re&&V.push("Kaydedildi ".concat(Ft(re))),le&&V.push("Hesapland\u0131 ".concat(Ft(le)));let G=!1;try{var q,$;G="1"===(null===(q=window)||void 0===q||null===($=q.localStorage)||void 0===$?void 0:$.getItem("fs_debug_kpi"))}catch(Ye){G=!1}if(G){const e=["calc:".concat(ne?"1":"0"),"lastCalc:".concat(le?new Date(le).toLocaleTimeString():"none"),"report:".concat(ee?"yes":"no")];V.push("DEBUG ".concat(e.join(" \u2022 ")))}const X=V.join(" \u2022 "),Q=Boolean(X),Z=String((null===h||void 0===h?void 0:h.role)||""),J=null!==(p=null!==(y=null===o||void 0===o?void 0:o.country_id)&&void 0!==y?y:null===h||void 0===h?void 0:h.country_id)&&void 0!==p?p:null,te={schoolId:s,countryId:J},ie=null===f||void 0===f?void 0:f.status,ae=f&&f.id,se=(e,t)=>{try{return Bl(h,e,t,te)}catch(n){return!1}},oe={temel:"basics",kapasite:"kapasite",norm:"norm",ik:"hr",gelir:"income",gider:"expenses"},ce={temel:"temel_bilgiler",kapasite:"kapasite",norm:"norm",ik:"ik",gelir:"gelirler",gider:"giderler"},he={temel_bilgiler:"temel",kapasite:"kapasite","norm.ders_dagilimi":"norm","ik.local_staff":"ik","gelirler.unit_fee":"gelir","giderler.isletme":"gider"}[String(Fe||"")]||null,ye=g.find(e=>e.key===he),ve=!!ye&&!0===ye.done,ge=ae&&["draft","in_review","revision_requested"].includes(ie)&&("principal"===Z||"hr"===Z||"manager"===Z||"accountant"===Z),be=(Fe&&{temel_bilgiler:["page.temel_bilgiler"],kapasite:["section.kapasite.caps","page.kapasite"],"norm.ders_dagilimi":["section.norm.ders_dagilimi","page.norm"],"ik.local_staff":["section.ik.local_staff","page.ik"],"gelirler.unit_fee":["section.gelirler.unit_fee","page.gelirler"],"giderler.isletme":["section.giderler.isletme","page.giderler"]}[String(Fe)]||[]).some(e=>{try{return se(e,"write")}catch(t){return!1}}),xe=ae&&("accountant"===Z||"manager"===Z||se("scenario.forward","write"))&&"approved"===ie&&!(null!==f&&void 0!==f&&f.sent_at)&&(null===f||void 0===f?void 0:f.checked_at),je=ae&&("admin"===Z||se("admin.scenario.review","write"))&&"sent_for_approval"===ie,Se=ae&&Fe&&"submitted"===Ie&&("admin"===Z||"manager"===Z||"accountant"===Z||se("page.manage_permissions","read")||se("page.manage_permissions","write")),we=T||W||ne||jt;let Ce="Mod\xfcl\xfc onayla";jt?Ce="\xd6nce de\u011fi\u015fiklikleri kaydedin.":W?Ce="Kaydetme devam ediyor.":ne?Ce="Hesaplama devam ediyor.":T&&(Ce="Onaylan\u0131yor...");const Te=["page.temel_bilgiler","page.kapasite","page.norm","page.ik","page.gelirler","page.giderler"].every(e=>{try{return Bl(h,e,"write",te)}catch(t){return!1}}),Ee=[];let Ae=!0,_e="",Pe=null,Me=null;if(je)_e="Onayla",Pe=(0,oa.jsx)(_a,{"aria-hidden":"true"}),Ae=!1,W&&(Ae=!0,Ee.push("Kaydetme devam ediyor.")),ne&&(Ae=!0,Ee.push("Hesaplama devam ediyor.")),Ae||(Me=async()=>{try{await sa.adminReviewScenario(f.id,{action:"approve"}),Kr.success("Onayland\u0131"),await O(),await F()}catch(Ib){Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"Onay ba\u015far\u0131s\u0131z")}});else if(xe){if(_e="Merkeze ilet",Pe=(0,oa.jsx)(Ba,{"aria-hidden":"true"}),Ae=!1,!j){Ae=!0;const e=g.filter(e=>!e.done);Ee.push("T\xfcm mod\xfcller tamamlanmal\u0131: "+e.map(e=>"".concat(e.label," ").concat(e.pct,"%")).join(", "))}jt&&(Ae=!0,Ee.push("\xd6nce de\u011fi\u015fiklikleri kaydedin.")),W&&(Ae=!0,Ee.push("Kaydetme devam ediyor.")),ne&&(Ae=!0,Ee.push("Hesaplama devam ediyor.")),ut&&(Ae=!0,Ee.push("Senaryo kilitli.")),Ae||(Me=async()=>{try{if(!vt("Hesaplama"))return;if(!yt("Hesaplama"))return;if(jt){if(!await ht())return}if(!await gt({keepTab:!0}))return;await sa.sendForApproval(s,f.id),Kr.success("Merkeze iletildi"),await O(),await F()}catch(Ib){Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"\u0130letme ba\u015far\u0131s\u0131z")}})}else ge&&(_e="G\xf6nder",Pe=(0,oa.jsx)(Ba,{"aria-hidden":"true"}),Ae=!1,Fe||(Ae=!0,Ee.push("G\xf6nderilecek bir mod\xfcl yok.")),Fe&&!be&&(Ae=!0,Ee.push("Bu mod\xfcl\xfc g\xf6nderme yetkiniz yok.")),Fe&&!At&&(Ae=!0,Ee.push(Tt||"Mod\xfcl g\xf6nderilemez")),ve||(Ae=!0,Ee.push("Bu mod\xfcl tamamlanmal\u0131.")),jt&&(Ae=!0,Ee.push("\xd6nce de\u011fi\u015fiklikleri kaydedin.")),W&&(Ae=!0,Ee.push("Kaydetme devam ediyor.")),ne&&(Ae=!0,Ee.push("Hesaplama devam ediyor.")),ut&&(Ae=!0,Ee.push("Senaryo kilitli.")),!Ae&&Fe&&be&&At&&ve&&(Me=async()=>{await St()}));const Le=Ee.length>0?Ee.join(" \u2022 "):void 0,Re=Boolean(ee),De=jt?"Kaydet & Hesapla":Re?"Yeniden Hesapla":"Hesapla",Be=pe?"PDF hazirlaniyor...":"Disa Aktar",Ue="report"===Oe||Re;return(0,oa.jsx)("div",{className:"school-sticky-footer",role:"region","aria-label":"Scenario actions",children:(0,oa.jsxs)("div",{className:"school-sticky-footer-inner",children:[(0,oa.jsxs)("div",{className:"school-footer-left",children:[(0,oa.jsxs)("div",{className:"school-footer-pills",role:"status","aria-live":"polite",children:[D?(0,oa.jsx)("span",{className:"school-pill ".concat(D.className),title:D.tooltip,children:D.label}):null,I?(0,oa.jsx)("span",{className:"school-pill ".concat(I.className),title:I.tooltip,children:I.label}):null,Y?(0,oa.jsx)("span",{className:"school-pill is-warn ".concat(jt?"":"is-placeholder"),title:jt?"Kaydedilmemi\u015f de\u011fi\u015fiklikler var":void 0,"aria-hidden":jt?void 0:"true",children:"\u25cf De\u011fi\u015fiklik var"}):null]}),Y?(0,oa.jsx)("div",{className:"school-footer-meta small ".concat(Q?"":"is-placeholder"),title:Q?X:void 0,"aria-hidden":Q?void 0:"true",children:Q?X:"Kaydedildi"}):null]}),Y?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"school-footer-middle",children:(0,oa.jsx)("div",{className:"module-progress",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",children:g.map(e=>{const t=oe[e.key],n=Boolean(t&&(e=>{const t=ce[e];if(!t)return!1;if(se("page.".concat(t),"read"))return!0;const n=Array.isArray(null===h||void 0===h?void 0:h.permissions)?h.permissions:[],i=te.countryId;return n.some(e=>{if("read"!==e.action&&"write"!==e.action)return!1;if(!String(e.resource||"").startsWith("section.".concat(t,".")))return!1;const n=null!=e.scope_country_id?Number(e.scope_country_id):null,r=null!=e.scope_school_id?Number(e.scope_school_id):null;return(null==n||null==i||Number(n)===Number(i))&&(null==r||null==s||Number(r)===Number(s))&&(null==r||null!=s)&&(null==n||null!=i)})})(e.key)),i=he===e.key,r=function(e,t,n){if("approved"===t&&n)return"is-final";if(["sent_for_approval","submitted"].includes(String(t||"")))return"is-forwarded";switch(String(e||"not_started")){case"needs_revision":return"is-revision";case"approved":return"is-approved";case"submitted":return"is-review";default:return"is-draft"}}((e=>{if(!e)return"not_started";if(!S)return"not_started";const t=v[e];if(!t)return"not_started";const n=Array.isArray(k)?k.find(e=>String(null===e||void 0===e?void 0:e.work_id)===String(t)):null;return null!==n&&void 0!==n&&n.state?String(n.state):"not_started"})(e.key),null===f||void 0===f?void 0:f.status,null===f||void 0===f?void 0:f.sent_at),a=n?"button":"div";return(0,oa.jsxs)(a,{type:n?"button":void 0,onClick:n?()=>ze(t):void 0,className:"module-seg ".concat(n?"is-clickable":""," ").concat(i?"is-active":""),title:"".concat(e.label,": ").concat(Math.round(e.pct),"% ").concat(e.done?"Tamamland\u0131":"Eksik"),"aria-disabled":n?void 0:"true",children:[(0,oa.jsx)("div",{className:"module-title",children:e.labelShort}),(0,oa.jsxs)("div",{className:"module-bar",children:[(0,oa.jsx)("div",{className:"module-fill ".concat(r),style:{width:"".concat(Math.min(100,Math.max(0,Math.round(e.pct))),"%")}}),(0,oa.jsxs)("span",{className:"module-percent",children:[Math.round(e.pct),"%"]})]})]},e.key)})})}),(0,oa.jsxs)("div",{className:"school-footer-right",children:[Se?(0,oa.jsx)(Ja,{lines:Ce?[Ce]:[],children:(0,oa.jsxs)("button",{type:"button",className:"topbar-btn is-primary",onClick:()=>wt("approve"),disabled:we,title:Ce,children:[(0,oa.jsx)(_a,{"aria-hidden":"true"}),(0,oa.jsx)("span",{children:T?"Onaylan\u0131yor...":"Onayla"})]})}):null,_e?(0,oa.jsx)(Ja,{lines:Le?[Le]:[],children:(0,oa.jsxs)("button",{type:"button",className:"topbar-btn is-primary",onClick:Me,disabled:Ae,title:Le,children:[Pe,(0,oa.jsx)("span",{children:_e})]})}):null,(0,oa.jsxs)("button",{type:"button",className:"topbar-btn "+(jt&&!W?"is-save":"is-ghost"),onClick:ht,disabled:!jt||W||dt,title:dt?Et:jt?"De\u011fi\u015fiklikleri kaydet":"Kaydedilecek de\u011fi\u015fiklik yok",children:[(0,oa.jsx)(za,{"aria-hidden":"true"}),(0,oa.jsx)("span",{children:W?"Kaydediliyor...":jt?"Kaydet":"Kaydedildi"})]}),Te?(0,oa.jsxs)("button",{type:"button",className:"topbar-btn is-primary",onClick:async()=>{if(!W&&!ne&&vt("Hesaplama")&&yt("Hesaplama")){if(jt){return void(await ht()&&await gt())}await gt()}},disabled:W||ne,title:De,children:[(0,oa.jsx)(Aa,{"aria-hidden":"true"}),(0,oa.jsx)("span",{children:ne?"Hesaplan\u0131yor...":De})]}):null,Ue?(0,oa.jsxs)("div",{className:"action-menu",ref:me,children:[(0,oa.jsxs)("button",{type:"button",className:"topbar-btn is-ghost ".concat(pe?"is-loading":""),onClick:()=>{Ot||de(e=>!e)},disabled:Ot,"aria-haspopup":"menu","aria-expanded":ue,"aria-busy":pe?"true":void 0,children:[pe?(0,oa.jsx)("span",{className:"pdf-export-spinner","aria-hidden":"true"}):null,pe?null:(0,oa.jsx)(La,{"aria-hidden":"true"}),(0,oa.jsx)("span",{children:Be})]}),ue?(0,oa.jsxs)("div",{className:"action-menu-panel action-menu-panel--up",role:"menu",children:[(0,oa.jsx)("button",{type:"button",className:"action-menu-item",onClick:()=>{de(!1),async function(){if(P){d("");try{await sa.downloadXlsx(s,P,ke,Ne)}catch(Ib){d(Ib.message||"Download failed")}}}()},disabled:Ot,role:"menuitem",children:"Excel (.xlsx)"}),(0,oa.jsx)("button",{type:"button",className:"action-menu-item",onClick:()=>{de(!1),async function(){if(P){d(""),fe(!0);try{await sa.downloadPdf(s,P,ke,Ne)}catch(Ib){d(Ib.message||"PDF export failed")}finally{fe(!1)}}}()},disabled:Ot,role:"menuitem",children:"PDF (.pdf)"})]}):null]}):null]})]}):(0,oa.jsx)("div",{className:"school-footer-right",children:(0,oa.jsx)("div",{className:"school-footer-hint small",children:"\xd6nce bir senaryo se\xe7in."})})]})})}()]})}const ms=new Set(["turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas"]),hs=[...[{key:"ulkeTemsilciligi",label:"\xdclke Temsilciligi Giderleri"},{key:"genelYonetim",label:"Genel Y\xf6netim Giderleri"},{key:"kira",label:"Isletme Giderleri (Kira)"},{key:"emsalKira",label:"Isletme Giderleri (Emsal Kira)"},{key:"enerjiKantin",label:"Isletme Giderleri (Elektrik, Su, vb.)"},{key:"turkPersonelMaas",label:"Yurt disi T\xdcRK Personel Maas Giderleri"},{key:"turkDestekPersonelMaas",label:"Yurt disi T\xdcRK DESTEK Personel Maas Giderleri"},{key:"yerelPersonelMaas",label:"Yurt disi YEREL Personel Maas Giderleri"},{key:"yerelDestekPersonelMaas",label:"Yurt disi YEREL DESTEK Personel Maas Giderleri"},{key:"internationalPersonelMaas",label:"Yurt disi INTERNATIONAL Personel Maas Giderleri"},{key:"sharedPayrollAllocation",label:"Payla\u015f\u0131lan Bordro (Da\u011f\u0131t\u0131m)"},{key:"disaridanHizmet",label:"Disaridan Saglanan Mal ve Hizmet Alimlari"},{key:"egitimAracGerec",label:"Egitim Ara\xe7 ve Gere\xe7leri"},{key:"finansalGiderler",label:"Finansal Giderler"},{key:"egitimAmacliHizmet",label:"Egitim Ama\xe7li Hizmet Alimlari"},{key:"temsilAgirlama",label:"Temsil ve Agirlama"},{key:"ulkeIciUlasim",label:"\xdclke I\xe7i Ulasim ve Konaklama"},{key:"ulkeDisiUlasim",label:"\xdclke Disi Ulasim ve Konaklama"},{key:"vergilerResmiIslemler",label:"Vergiler Resmi Islemler"},{key:"vergiler",label:"Vergiler"},{key:"demirbasYatirim",label:"Demirbas ve Yatirimlar"},{key:"rutinBakim",label:"Rutin Bakim ve Onarim"},{key:"pazarlamaOrganizasyon",label:"Pazarlama Organizasyon"},{key:"reklamTanitim",label:"Reklam ve Tanitim"},{key:"tahsilEdilemeyenGelirler",label:"Tahsil Edilemeyen Gelirler"}].filter(e=>!ms.has(e.key)),{key:"yemek",label:"Yemek"},{key:"uniforma",label:"\xdcniforma"},{key:"kitapKirtasiye",label:"Kitap-K\u0131rtasiye"},{key:"ulasimServis",label:"Servis / Ula\u015f\u0131m"},{key:"yurtGiderleri",label:"Yurt Giderleri (Kampus giderleri i\xe7inde g\xf6sterilmeyecek)"},{key:"digerYurt",label:"Di\u011fer (Yaz okulu giderleri vb.)"},{key:"discountsTotal",label:"Burs ve \u0130ndirimler (Toplam)"}],ps=hs.map(e=>e.key),fs=new Map(hs.map(e=>[e.key,e])),ys=new Map(hs.map(e=>[e.key,e.label])),vs=[{id:"isletme",label:"\u0130\u015fletme Giderleri",groups:[{label:"\u0130\u015fletme Giderleri",keys:["ulkeTemsilciligi","genelYonetim","temsilAgirlama","ulkeIciUlasim","ulkeDisiUlasim","vergilerResmiIslemler","vergiler","demirbasYatirim","rutinBakim","pazarlamaOrganizasyon","reklamTanitim","tahsilEdilemeyenGelirler"]},{label:"E\u011fitim Maliyetleri",keys:["kira","emsalKira","enerjiKantin","turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas","sharedPayrollAllocation","disaridanHizmet","egitimAracGerec","finansalGiderler","egitimAmacliHizmet"]}]},{id:"ogrenimDisi",label:"\xd6\u011frenim D\u0131\u015f\u0131 Hizmetler",keys:["yemek","uniforma","kitapKirtasiye","ulasimServis"]},{id:"yurtKonaklama",label:"Yurt / Konaklama",keys:["yurtGiderleri","digerYurt"]},{id:"bursIndirim",label:"Burs ve \u0130ndirimler",keys:["discountsTotal"]}].map(e=>{if(Array.isArray(e.groups)){const t=e.groups.map(e=>m(m({},e),{},{keys:e.keys.filter(e=>!ms.has(e))})).filter(e=>e.keys.length),n=t.flatMap(e=>e.keys);return m(m({},e),{},{groups:t,keys:n})}return m(m({},e),{},{keys:e.keys.filter(e=>!ms.has(e))})}).filter(e=>e.keys.length),gs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isFinite(Number(e))?Number(e).toLocaleString(void 0,{maximumFractionDigits:t}):"-"};function bs(e){let{open:t,onClose:n,sourceScenario:i,sourceSchoolId:a}=e;const[l,s]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(new Set),[p,f]=(0,r.useState)("students"),[y,v]=(0,r.useState)("y1"),[g,b]=(0,r.useState)(new Set),[x,k]=(0,r.useState)(null),[j,S]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),C={fontSize:12,height:30,padding:"4px 8px",lineHeight:"20px",boxSizing:"border-box"},T=(0,r.useMemo)(()=>Array.from(m).sort().join(","),[m]),E=(0,r.useMemo)(()=>Array.from(g).sort().join(","),[g]);(0,r.useEffect)(()=>{t&&(d(""),h(new Set),b(new Set),f("students"),v("y1"),k(null))},[t,null===i||void 0===i?void 0:i.id]),(0,r.useEffect)(()=>{k(null)},[p,y,T,E]),(0,r.useEffect)(()=>{let e=!0;return async function(){if(t&&null!==i&&void 0!==i&&i.academic_year){c(!0);try{const t=await sa.expenseSplitTargets(i.academic_year);if(!e)return;const n=(Array.isArray(t)?t:[]).filter(e=>String(e.scenarioId)!==String(null===i||void 0===i?void 0:i.id));s(n)}catch(Ib){e&&Kr.error(Ib.message||"Hedef senaryolar alinamadi")}finally{e&&c(!1)}}}(),()=>{e=!1}},[t,null===i||void 0===i?void 0:i.academic_year,null===i||void 0===i?void 0:i.id]);const A=(0,r.useMemo)(()=>{const e=u.trim().toLowerCase();return e?l.filter(t=>{const n=String((null===t||void 0===t?void 0:t.schoolName)||"").toLowerCase(),i=String((null===t||void 0===t?void 0:t.scenarioName)||"").toLowerCase();return n.includes(e)||i.includes(e)}):l},[l,u]),_=e=>{b(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},P=(e,t)=>{Array.isArray(e)&&e.length&&b(n=>{const i=new Set(n);return e.forEach(e=>{t?i.add(e):i.delete(e)}),i})},M=(0,r.useMemo)(()=>Array.isArray(null===x||void 0===x?void 0:x.targets)?x.targets:[],[x]),L=(0,r.useMemo)(()=>Array.isArray(null===x||void 0===x?void 0:x.pools)?x.pools:[],[x]),R=(0,r.useMemo)(()=>Array.isArray(null===x||void 0===x?void 0:x.allocations)?x.allocations:[],[x]),O=(0,r.useMemo)(()=>Array.isArray(null===x||void 0===x?void 0:x.warnings)?x.warnings:[],[x]),F=(0,r.useMemo)(()=>{const e=new Map;return M.forEach(t=>e.set(String(t.targetScenarioId),t)),e},[M]),D=(0,r.useMemo)(()=>R.map(e=>{const t=F.get(String(e.targetScenarioId));return{targetLabel:t?"".concat(t.schoolName||""," \u2022 ").concat(t.scenarioName||""):String(e.targetScenarioId),expenseLabel:ys.get(e.expenseKey)||e.expenseKey,amount:e.allocatedAmount}}),[R,F]),I=ps.length,B=g.size,z=I>0&&B===I,U=B>0&&!z,Y=!m.size||!g.size||j||w,K=vs.find(e=>"isletme"===e.id)||null,W=vs.filter(e=>"isletme"!==e.id),H=e=>{if(!e)return null;const t=e.keys.length,n=e.keys.reduce((e,t)=>e+(g.has(t)?1:0),0),i=t>0&&n===t,r=n>0&&!i;return(0,oa.jsxs)("div",{className:"card",style:{padding:"10px 12px",background:"#f8fafc"},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsxs)("label",{className:"row small",style:{gap:6,alignItems:"center",fontWeight:700},children:[(0,oa.jsx)("input",{type:"checkbox",checked:i,ref:e=>{e&&(e.indeterminate=r)},onChange:t=>P(e.keys,t.target.checked)}),(0,oa.jsx)("span",{children:e.label})]}),(0,oa.jsxs)("div",{className:"row",style:{gap:6},children:[(0,oa.jsx)("button",{className:"btn",type:"button",style:{padding:"4px 10px"},onClick:()=>P(e.keys,!0),disabled:!t,children:"Sec"}),(0,oa.jsx)("button",{className:"btn",type:"button",style:{padding:"4px 10px"},onClick:()=>P(e.keys,!1),disabled:!n,children:"Temizle"})]})]}),(0,oa.jsxs)("div",{className:"small muted",style:{marginTop:4},children:["Secili: ",n,"/",t]}),Array.isArray(e.groups)?(0,oa.jsx)("div",{style:{marginTop:8},children:e.groups.map(e=>(0,oa.jsxs)("div",{style:{marginTop:8},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:e.label}),(0,oa.jsx)("div",{className:"grid2",style:{gap:8},children:e.keys.map(e=>{const t=fs.get(e),n=(null===t||void 0===t?void 0:t.label)||e;return(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"checkbox",checked:g.has(e),onChange:()=>_(e)}),(0,oa.jsx)("span",{className:"small",children:n})]},e)})})]},e.label))}):(0,oa.jsx)("div",{className:"grid2",style:{gap:8,marginTop:8},children:e.keys.map(e=>{const t=fs.get(e),n=(null===t||void 0===t?void 0:t.label)||e;return(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"checkbox",checked:g.has(e),onChange:()=>_(e)}),(0,oa.jsx)("span",{className:"small",children:n})]},e)})})]},e.id)};return t?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",onClick:n,children:(0,oa.jsxs)("div",{className:"modal",style:{width:"min(980px, 96vw)",maxHeight:"86vh",overflowY:"auto",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,oa.jsx)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:(0,oa.jsx)("button",{className:"btn",onClick:n,disabled:w||j,style:{position:"absolute",top:10,right:10,background:"#111827",borderColor:"#111827",color:"#fff"},children:"Kapat"})}),i?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{style:{marginTop:2},children:(0,oa.jsxs)("div",{className:"row",style:{gap:12,alignItems:"flex-end",flexWrap:"wrap"},children:[(0,oa.jsxs)("div",{style:{minWidth:170},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Basis"}),(0,oa.jsxs)("select",{className:"input sm",style:C,value:p,onChange:e=>f(e.target.value),children:[(0,oa.jsx)("option",{value:"students",children:"Students"}),(0,oa.jsx)("option",{value:"revenue",children:"Revenue"})]})]}),(0,oa.jsxs)("div",{style:{minWidth:160},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Basis Yil"}),(0,oa.jsxs)("select",{className:"input sm",style:C,value:y,onChange:e=>v(e.target.value),children:[(0,oa.jsx)("option",{value:"y1",children:"Y1"}),(0,oa.jsx)("option",{value:"y2",children:"Y2"}),(0,oa.jsx)("option",{value:"y3",children:"Y3"})]})]}),(0,oa.jsxs)("div",{style:{flex:"1 1 220px"},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Hedef Ara"}),(0,oa.jsx)("input",{className:"input sm",style:C,placeholder:"Okul veya senaryo ara",value:u,onChange:e=>d(e.target.value)})]})]})}),(0,oa.jsxs)("div",{style:{marginTop:5},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Hedef Senaryolar"}),o?(0,oa.jsx)("div",{className:"small",children:"Y\xfckleniyor..."}):(0,oa.jsx)("div",{className:"table-scroll",style:{maxHeight:260},children:(0,oa.jsxs)("table",{className:"table",style:{fontSize:12},children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{style:{width:40}}),(0,oa.jsx)("th",{style:{fontSize:12,padding:"6px 8px"},children:"Okul"}),(0,oa.jsx)("th",{style:{fontSize:12,padding:"6px 8px"},children:"Senaryo"}),(0,oa.jsx)("th",{style:{fontSize:12,padding:"6px 8px"},children:"Yil"}),(0,oa.jsx)("th",{style:{fontSize:12,padding:"6px 8px"},children:"Para Birimi"})]})}),(0,oa.jsx)("tbody",{children:0===A.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"5",className:"small",style:{padding:"6px 8px"},children:"Hedef bulunamadi."})}):A.map(e=>{const t=String(e.scenarioId),n=m.has(t),i="LOCAL"===String(e.input_currency||"USD")?"".concat(e.input_currency,"/").concat(e.local_currency_code||"LOCAL"):e.input_currency||"USD";return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{padding:"6px 8px"},children:(0,oa.jsx)("input",{type:"checkbox",checked:n,onChange:()=>(e=>{h(t=>{const n=new Set(t),i=String(e);return n.has(i)?n.delete(i):n.add(i),n})})(t)})}),(0,oa.jsx)("td",{style:{padding:"6px 8px"},children:e.schoolName}),(0,oa.jsx)("td",{style:{padding:"6px 8px"},children:e.scenarioName}),(0,oa.jsx)("td",{style:{padding:"6px 8px"},children:e.academic_year}),(0,oa.jsx)("td",{style:{padding:"6px 8px"},children:i})]},e.scenarioId)})})]})})]}),(0,oa.jsxs)("div",{style:{marginTop:16},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700},children:"Gider Kalemleri"}),(0,oa.jsxs)("div",{className:"row",style:{gap:6},children:[(0,oa.jsx)("button",{className:"btn",type:"button",style:{padding:"4px 10px"},onClick:()=>P(ps,!0),disabled:!I,children:"Tumunu Sec"}),(0,oa.jsx)("button",{className:"btn",type:"button",style:{padding:"4px 10px"},onClick:()=>P(ps,!1),disabled:!B,children:"Temizle"})]})]}),(0,oa.jsx)("div",{className:"row",style:{gap:10,alignItems:"center",marginTop:8},children:(0,oa.jsxs)("label",{className:"row small",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"checkbox",checked:z,ref:e=>{e&&(e.indeterminate=U)},onChange:e=>P(ps,e.target.checked)}),(0,oa.jsxs)("span",{children:["Toplam Secili: ",B,"/",I]})]})}),(0,oa.jsxs)("div",{className:"row",style:{alignItems:"flex-start",gap:12,marginTop:10},children:[(0,oa.jsx)("div",{style:{flex:"1 1 0",minWidth:320},children:H(K)}),(0,oa.jsx)("div",{style:{flex:"1 1 0",minWidth:320,display:"grid",gap:12},children:W.map(e=>H(e))})]})]}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end",marginTop:16,gap:8},children:[(0,oa.jsx)("button",{className:"btn",onClick:async()=>{if(null===i||void 0===i||!i.id||!a)return;const e={targetScenarioIds:Array.from(m).map(e=>Number(e)),basis:p,basisYearKey:y,expenseKeys:Array.from(g)};S(!0);try{const t=await sa.previewExpenseSplit(a,i.id,e);k(t||null)}catch(Ib){Kr.error(Ib.message||"\xd6nizleme alinamadi")}finally{S(!1)}},disabled:Y,children:j?"\xd6nizleme...":"\xd6nizle"}),(0,oa.jsx)("button",{className:"btn primary",onClick:async()=>{if(null===i||void 0===i||!i.id||!a)return;const e={targetScenarioIds:Array.from(m).map(e=>Number(e)),basis:p,basisYearKey:y,expenseKeys:Array.from(g)};N(!0);try{await sa.applyExpenseSplit(a,i.id,e),Kr.success("Gider dagitimi kaydedildi."),null===n||void 0===n||n()}catch(Ib){Kr.error(Ib.message||"Dagitim uygulanamadi")}finally{N(!1)}},disabled:w||j||!m.size||!g.size,children:w?"Uygulaniyor...":"Uygula"})]}),O.length>0?(0,oa.jsxs)("div",{className:"card",style:{marginTop:12,background:"#fff7ed",borderColor:"#fed7aa"},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:"Uyarilar"}),O.map((e,t)=>(0,oa.jsxs)("div",{className:"small",children:["\u2022 ",e]},t))]}):null,x?(0,oa.jsxs)("div",{style:{marginTop:16},children:[L.length>0?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Havuz Tutarlari"}),(0,oa.jsx)("div",{className:"table-scroll",children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Gider"}),(0,oa.jsx)("th",{children:"Havuz Tutari"})]})}),(0,oa.jsx)("tbody",{children:L.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:ys.get(e.expenseKey)||e.expenseKey}),(0,oa.jsx)("td",{children:gs(e.poolAmount)})]},e.expenseKey))})]})})]}):null,M.length>0?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,margin:"12px 0 6px"},children:"Agirliklar"}),(0,oa.jsx)("div",{className:"table-scroll",children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Okul"}),(0,oa.jsx)("th",{children:"Senaryo"}),(0,oa.jsx)("th",{children:"Basis"}),(0,oa.jsx)("th",{children:"Agirlik"})]})}),(0,oa.jsx)("tbody",{children:M.map(e=>{return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.schoolName}),(0,oa.jsx)("td",{children:e.scenarioName}),(0,oa.jsx)("td",{children:gs(e.basisValue)}),(0,oa.jsx)("td",{children:(t=e.weight,Number.isFinite(Number(t))?"".concat((100*Number(t)).toFixed(2),"%"):"-")})]},e.targetScenarioId);var t})})]})})]}):null,D.length>0?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,margin:"12px 0 6px"},children:"Dagitimlar"}),(0,oa.jsx)("div",{className:"table-scroll",children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Hedef"}),(0,oa.jsx)("th",{children:"Gider"}),(0,oa.jsx)("th",{children:"Tutar"})]})}),(0,oa.jsx)("tbody",{children:D.map((e,t)=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.targetLabel}),(0,oa.jsx)("td",{children:e.expenseLabel}),(0,oa.jsx)("td",{children:gs(e.amount)})]},"".concat(e.targetLabel,"-").concat(e.expenseLabel,"-").concat(t)))})]})})]}):null]}):null]}):(0,oa.jsx)("div",{className:"small",style:{marginTop:10},children:"Kaynak senaryo se\xe7ilmedi."})]})}):null}const xs=[{key:"temel",label:"Temel Bilgiler",sections:[{id:"temel.core",label:"Kademeler + Program"},{id:"temel.pricing",label:"Enflasyon + Ucret Artis Oranlari + Ucret Hesaplama Ayari"},{id:"temel.schoolInfo",label:"Yetkililer + Okul/Egitim Bilgileri"},{id:"temel.discountsMeta",label:"IK Mevcut + Burs/Indirim Ogrenci Sayilari"},{id:"temel.competitors",label:"Rakip Analizi"},{id:"temel.performance",label:"Performans + Degerlendirme"}]},{key:"kapasite",label:"Kapasite",sections:[{id:"kapasite.all",label:"Kapasite (tumu)"}]},{key:"norm",label:"Norm",sections:[{id:"norm.planned",label:"Planlanan donem bilgileri"},{id:"norm.current",label:"Mevcut donem bilgileri"},{id:"norm.lessonY1",label:"Ders dagilimi (yalnizca Y1)"}]},{key:"hr",label:"IK (HR)",sections:[{id:"hr.ik",label:"IK Plan (tumu)"}]},{key:"gelirler",label:"Gelirler",sections:[{id:"income.gelirler",label:"Gelirler (tumu)"}]},{key:"giderler",label:"Giderler",sections:[{id:"expenses.giderler",label:"Giderler (tumu)"},{id:"expenses.discounts",label:"BURS VE INDIRIMLER / YIL"}]}],ks={"temel.core":["page.temel_bilgiler"],"temel.pricing":["section.temel_bilgiler.inflation"],"temel.schoolInfo":["page.temel_bilgiler"],"temel.discountsMeta":["section.temel_bilgiler.ik_mevcut","section.temel_bilgiler.burs_ogr"],"temel.competitors":["section.temel_bilgiler.rakip"],"temel.performance":["section.temel_bilgiler.performans"],"kapasite.all":["section.kapasite.caps"],"norm.planned":["page.norm"],"norm.current":["page.norm"],"norm.lessonY1":["section.norm.ders_dagilimi"],"hr.ik":["section.ik.local_staff"],"income.gelirler":["section.gelirler.unit_fee"],"expenses.giderler":["section.giderler.isletme"],"expenses.discounts":["section.discounts.discounts"]};function js(e){const t=String((null===e||void 0===e?void 0:e.status)||"draft"),n=null!=(null===e||void 0===e?void 0:e.submitted_at),i=null!=(null===e||void 0===e?void 0:e.sent_at);return"sent_for_approval"===t||"submitted"===t||"approved"===t&&i||"in_review"===t&&n}const Ss="2026",ws="2027",Ns=/^[A-Z0-9]{2,10}$/,Cs=["USD","EUR","TRY","GBP","JPY","CNY","INR","RUB","AED","SAR","AFN"];function Ts(e){const t=String(e||"").trim();return/^\d{4}$/.test(t)?Number(t):null}function Es(e){const t=String(e||"").trim(),n=t.match(/^(\d{4})$/);if(n){const e=Number(n[1]);return Number.isFinite(e)?String(e+1):""}const i=t.match(/^(\d{4})\s*-\s*(\d{4})$/);if(i){const e=Number(i[1]),t=Number(i[2]);if(Number.isFinite(e)&&Number.isFinite(t))return"".concat(e+1,"-").concat(t+1)}return""}function As(){return xs.flatMap(e=>e.sections.map(e=>e.id))}function _s(e){const t=m({},e||{}),n=!!t["hr.ik"],i=!!t["expenses.giderler"];if(n!==i){const e=n||i;t["hr.ik"]=e,t["expenses.giderler"]=e}return t}function Ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";const t=As(),n=Object.fromEntries(t.map(e=>[e,!1]));return"all"===e?t.forEach(e=>{n[e]=!0}):"structure"===e?["temel.core","kapasite.all","norm.planned","norm.lessonY1"].forEach(e=>{n[e]=!0}):"financial"===e&&["temel.core","income.gelirler","expenses.discounts","hr.ik","expenses.giderler"].forEach(e=>{n[e]=!0}),_s(n)}function Ms(){const e={};return dl().forEach(t=>{e[t]={}}),e}function Ls(e){return{teacherWeeklyMaxHours:Number.isFinite(e)&&e>0?e:24,curriculumWeeklyHours:Ms()}}function Rs(e,t){var n;const i=Number(t);if(!Number.isFinite(i)||i<=0)return e;const r=e=>{const t=Number(e);return Number.isFinite(t)?Math.round(t*i*100)/100:e};if(null!==e&&void 0!==e&&e.gelirler){var a,l,s,o;const t=e.gelirler,n=e=>{Array.isArray(e)&&e.forEach(e=>{e&&"object"===typeof e&&("unitFee"in e&&(e.unitFee=r(e.unitFee)),"amount"in e&&(e.amount=r(e.amount)))})};n(null===t||void 0===t||null===(a=t.tuition)||void 0===a?void 0:a.rows),n(null===t||void 0===t||null===(l=t.nonEducationFees)||void 0===l?void 0:l.rows),n(null===t||void 0===t||null===(s=t.dormitory)||void 0===s?void 0:s.rows),n(null===t||void 0===t||null===(o=t.otherInstitutionIncome)||void 0===o?void 0:o.rows),null!=(null===t||void 0===t?void 0:t.governmentIncentives)&&(t.governmentIncentives=r(t.governmentIncentives))}null!==e&&void 0!==e&&e.giderler&&"object"===typeof e.giderler&&Object.values(e.giderler).forEach(e=>{e&&"object"===typeof e&&e.items&&"object"===typeof e.items&&Object.keys(e.items).forEach(t=>{e.items[t]=r(e.items[t])})}),null!==e&&void 0!==e&&null!==(n=e.ik)&&void 0!==n&&n.years&&"object"===typeof e.ik.years&&Object.values(e.ik.years).forEach(e=>{e&&"object"===typeof e&&e.unitCosts&&"object"===typeof e.unitCosts&&Object.keys(e.unitCosts).forEach(t=>{e.unitCosts[t]=r(e.unitCosts[t])})}),Array.isArray(null===e||void 0===e?void 0:e.discounts)&&e.discounts.forEach(e=>{e&&"object"===typeof e&&"amount"===String(e.mode||"").toLowerCase()&&(e.value=r(e.value))});const c=null===e||void 0===e?void 0:e.temelBilgiler;var u,d;c&&(null!=(null===c||void 0===c||null===(u=c.inflation)||void 0===u?void 0:u.currentSeasonAvgFee)&&(c.inflation.currentSeasonAvgFee=r(c.inflation.currentSeasonAvgFee)),null!==c&&void 0!==c&&c.rakipAnalizi&&"object"===typeof c.rakipAnalizi&&Object.values(c.rakipAnalizi).forEach(e=>{e&&"object"===typeof e&&["a","b","c"].forEach(t=>{t in e&&(e[t]=r(e[t]))})}),null!==c&&void 0!==c&&null!==(d=c.performans)&&void 0!==d&&d.gerceklesen&&"object"===typeof c.performans.gerceklesen&&Object.keys(c.performans.gerceklesen).forEach(e=>{c.performans.gerceklesen[e]=r(c.performans.gerceklesen[e])}));return e}function Os(e){let{size:t=12}=e;return(0,oa.jsx)("span",{"aria-hidden":!0,style:{width:t,height:t,borderRadius:"50%",border:"2px solid rgba(0,0,0,0.18)",borderTopColor:"rgba(0,0,0,0.65)",display:"inline-block",animation:"schoolSpin .8s linear infinite"}})}function Fs(e){var t,n,i;const r=e=>{const t=Number(e);return Number.isFinite(t)?t:0},a=e||{},l=r(a.schoolCapacity),s=a.kapasite&&"object"===typeof a.kapasite?a.kapasite:{},o=s.years&&"object"===typeof s.years?s.years:{},c=r(null!=o.y1?o.y1:l),u=r(null!=o.y2?o.y2:c),d=r(null!=o.y3?o.y3:c),h=r(s.currentStudents),p=s.byKademe&&"object"===typeof s.byKademe?s.byKademe:{};if(!("schoolCapacity"in a||!a.kapasite||"object"!==typeof a.kapasite||!s.years||"object"!==typeof s.years||r(null===s||void 0===s||null===(t=s.years)||void 0===t?void 0:t.y1)!==c||r(null===s||void 0===s||null===(n=s.years)||void 0===n?void 0:n.y2)!==u||r(null===s||void 0===s||null===(i=s.years)||void 0===i?void 0:i.y3)!==d||r(null===s||void 0===s?void 0:s.currentStudents)!==h||!s.byKademe||"object"!==typeof s.byKademe))return a;const f=structuredClone(a);return f.kapasite=m(m({},s||{}),{},{currentStudents:h,years:{y1:c,y2:u,y3:d},byKademe:p}),"schoolCapacity"in f&&delete f.schoolCapacity,f}function Ds(e){const t=e||{},n=t.temelBilgiler&&"object"===typeof t.temelBilgiler?t.temelBilgiler:{},i=structuredClone(t),r=n.inflation&&"object"===typeof n.inflation?n.inflation:{},a=e=>Number.isFinite(Number(e))?Number(e):0;return i.temelBilgiler={inflation:m(m({},r),{},{expenseDeviationPct:a(r.expenseDeviationPct),y2023:a(r.y2023),y2024:a(r.y2024),y2025:a(r.y2025),y1:a(r.y1),y2:a(r.y2),y3:a(r.y3),currentSeasonAvgFee:a(r.currentSeasonAvgFee)}),yetkililer:n.yetkililer||{mudur:"",ulkeTemsilcisi:"",raporuHazirlayan:""},okulEgitimBilgileri:n.okulEgitimBilgileri||{egitimBaslamaTarihi:"",zorunluEgitimDonemleri:"",birDersSuresiDakika:0,gunlukDersSaati:0,haftalikDersSaatiToplam:0,sabahciOglenci:"",ogretmenHaftalikDersOrt:0,gecisSinaviBilgisi:"",uygulananProgram:""},kademeler:sl(n.kademeler),programType:Zl(n.programType),okulUcretleriHesaplama:"boolean"!==typeof n.okulUcretleriHesaplama||n.okulUcretleriHesaplama,ucretArtisOranlari:n.ucretArtisOranlari||{okulOncesi:0,ilkokulYerel:0,ilkokulInt:0,ortaokulYerel:0,ortaokulInt:0,liseYerel:0,liseInt:0},ikMevcut:n.ikMevcut||{turkPersonelYoneticiEgitimci:0,turkPersonelTemsilcilik:0,yerelKadroluEgitimci:0,yerelUcretliVakaterEgitimci:0,yerelDestek:0,yerelTemsilcilik:0,international:0},bursIndirimOgrenciSayilari:n.bursIndirimOgrenciSayilari||{magisBasariBursu:0,maarifYetenekBursu:0,ihtiyacBursu:0,okulBasariBursu:0,tamEgitimBursu:0,barinmaBursu:0,turkceBasariBursu:0,uluslararasiYukumlulukIndirimi:0,vakifCalisaniIndirimi:0,kardesIndirimi:0,erkenKayitIndirimi:0,pesinOdemeIndirimi:0,kademeGecisIndirimi:0,temsilIndirimi:0,kurumIndirimi:0,istisnaiIndirim:0,yerelMevzuatIndirimi:0},rakipAnalizi:n.rakipAnalizi||{okulOncesi:{a:0,b:0,c:0},ilkokul:{a:0,b:0,c:0},ortaokul:{a:0,b:0,c:0},lise:{a:0,b:0,c:0}},performans:n.performans||{gerceklesen:{ogrenciSayisi:0,gelirler:0,giderler:0,karZarar:0,bursVeIndirimler:0}},degerlendirme:"string"===typeof n.degerlendirme?n.degerlendirme:""},i}function Is(e){const t=e||{},n=dl().map(e=>({grade:e,branchCount:0,studentsPerBranch:0})),i=Array.isArray(t.grades)?t.grades:n,r=t.gradesYears&&"object"===typeof t.gradesYears?t.gradesYears:{},a=Array.isArray(r.y1)?r.y1:i,l=Array.isArray(r.y2)?r.y2:a,s=Array.isArray(r.y3)?r.y3:a,o=e=>{const t=new Map;return(Array.isArray(e)?e:[]).forEach(e=>{const n=(e=>{var t,n,i;return{grade:String(null!==(t=null===e||void 0===e?void 0:e.grade)&&void 0!==t?t:""),branchCount:Number(null!==(n=null===e||void 0===e?void 0:e.branchCount)&&void 0!==n?n:0),studentsPerBranch:Number(null!==(i=null===e||void 0===e?void 0:e.studentsPerBranch)&&void 0!==i?i:0)}})(e);n.grade&&t.set(n.grade,n)}),t};if(!(!t.gradesYears||!Array.isArray(t.grades)||!Array.isArray(r.y1)||!Array.isArray(r.y2)||!Array.isArray(r.y3)||!((e,t)=>{if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;const n=o(e),i=o(t);if(n.size!==i.size)return!1;for(const[r,a]of n.entries()){const e=i.get(r);if(!e)return!1;if(Number(a.branchCount)!==Number(e.branchCount))return!1;if(Number(a.studentsPerBranch)!==Number(e.studentsPerBranch))return!1}return!0})(t.grades,a)))return t;const c=structuredClone(t);return c.gradesYears={y1:structuredClone(a),y2:structuredClone(l),y3:structuredClone(s)},c.grades=structuredClone(c.gradesYears.y1),c}function Bs(){var e,t,n,i,a,l;const s=Ce(),o=Ee(),[c,u]=Bt(),d=da(),[h,p]=(0,r.useState)([]),[f,y]=(0,r.useState)([]),[v,g]=(0,r.useState)(null),[b,x]=(0,r.useState)(null),[k,j]=(0,r.useState)(null),[S,w]=(0,r.useState)(null),[,N]=(0,r.useState)(null),[C,T]=(0,r.useState)(""),[E,A]=(0,r.useState)(!1),[_,P]=(0,r.useState)(!1),[M,L]=(0,r.useState)(null),[R,O]=(0,r.useState)({}),[F,D]=(0,r.useState)(!1),[I,B]=(0,r.useState)({}),[z,U]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(""),[W,H]=(0,r.useState)("split"),[V,G]=(0,r.useState)(Ss),[q,$]=(0,r.useState)(ws),[X,Q]=(0,r.useState)(ll()),[Z,J]=(0,r.useState)("USD"),[ee,te]=(0,r.useState)(""),[ne,ie]=(0,r.useState)(""),[re,ae]=(0,r.useState)(null),[le,se]=(0,r.useState)(0),[oe,ce]=(0,r.useState)(!1),[ue,de]=(0,r.useState)("create"),[me,he]=(0,r.useState)(null),[pe,fe]=(0,r.useState)(!1),[ye,ve]=(0,r.useState)(!1),[ge,be]=(0,r.useState)({key:null,dir:"asc"}),[xe,ke]=(0,r.useState)(null),[je,Se]=(0,r.useState)(null),[we,Ne]=(0,r.useState)(null),[Te,Ae]=(0,r.useState)(null),[_e,Pe]=(0,r.useState)(!1),[Me,Le]=(0,r.useState)(!1),[Re,Oe]=(0,r.useState)(""),[Fe,De]=(0,r.useState)(null),[Ie,Be]=(0,r.useState)(""),[ze,Ue]=(0,r.useState)("USD"),[Ye,Ke]=(0,r.useState)(""),[We,He]=(0,r.useState)(""),[Ve,Ge]=(0,r.useState)(""),[qe,$e]=(0,r.useState)(!1),Xe=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(null!==o&&void 0!==o&&o.setHeaderMeta)return o.setHeaderMeta({title:"Okul & Senaryo Sec",subtitle:"Okul ve senaryoyu secip Uygula'ya basin.",centered:!0}),()=>{var e;null===(e=o.clearHeaderMeta)||void 0===e||e.call(o)}},[o]);const Qe=(0,r.useCallback)(async()=>{T(""),A(!0);try{const e=await sa.listSchools();p(Array.isArray(e)?e:[])}catch(Ib){T(Ib.message||"Okullar yuklenemedi.")}finally{A(!1)}},[]);(0,r.useEffect)(()=>{Qe()},[Qe]),(0,r.useEffect)(()=>{let e=!0;return async function(){try{const t=await sa.getProgressRequirements();if(!e)return;L((null===t||void 0===t?void 0:t.config)||t||null)}catch(t){if(!e)return;L(null)}}(),()=>{e=!1}},[]);const Ze=(0,r.useCallback)(async e=>{const t=await sa.listScenarios(e),n=Array.isArray(t)?t:[],i=n.filter(e=>"approved"!==e.status);if(!n.length)return{state:"empty",label:"Senaryo yok"};if(!i.length)return{state:"approved",label:"T\xfcm senaryolar onayl\u0131"};const r=i.slice().sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())[0],[a,l]=await Promise.all([sa.getScenarioInputs(e,r.id),sa.getNormConfig(e,r.id).catch(()=>null)]),s=Fl({inputs:null===a||void 0===a?void 0:a.inputs,norm:l,config:M,scenario:r}),o=s.missingDetailsLines.length?["Eksik:",...s.missingDetailsLines]:["T\xfcm tablolar tamamland\u0131"];return{state:"active",pct:s.pct,tooltipLines:o}},[M]),Je=(0,r.useCallback)(async e=>{if(Array.isArray(e)&&e.length){D(!0);try{const t=await Promise.all(e.map(async e=>{try{return await Ze(e.id)}catch(t){return{state:"error",label:"\u0130lerleme hesaplanamad\u0131"}}})),n={};e.forEach((e,i)=>{n[e.id]=t[i]}),O(n)}finally{D(!1)}}else O({})},[Ze]);(0,r.useEffect)(()=>{if(!h.length)return O({}),void D(!1);Je(h)},[h,M,Je]),(0,r.useEffect)(()=>{const e=c.get("schoolId"),t=Number(e||0);e&&Number.isFinite(t)&&h.length&&h.some(e=>String(e.id)===String(t))&&g(e=>String(e)===String(t)?e:t)},[c,h]);const et=(0,r.useCallback)(e=>{const t=String(v)!==String(e);t&&(x(null),j(null),w(null),N(null)),g(e),t&&u(t=>{const n=new URLSearchParams(t);return n.set("schoolId",String(e)),n})},[v,u]),tt=(0,r.useCallback)(()=>{g(null),x(null),j(null),w(null),N(null),y([]),B({}),u(e=>{const t=new URLSearchParams(e);return t.delete("schoolId"),t})},[u]),nt=(0,r.useCallback)(()=>{x(null),j(null),w(null),N(null)},[]);(0,r.useEffect)(()=>{if(!v)return y([]),x(null),j(null),w(null),void N(null);x(null),j(null),w(null),N(null);let e=!0;return T(""),P(!0),async function(){try{const t=await sa.listScenarios(v);if(!e)return;const n=Array.isArray(t)?t:[];y(n),x(e=>{if(n.some(t=>String(t.id)===String(e)))return e;const t=Wl(v);return null!=t&&n.some(e=>String(e.id)===String(t))?t:null})}catch(Ib){if(!e)return;T(Ib.message||"Senaryolar yuklenemedi."),y([])}finally{e&&P(!1)}}(),()=>{e=!1}},[v]),(0,r.useEffect)(()=>{if(!v)return B({}),void U(!1);if(!f.length)return B({}),void U(!1);let e=!0;return U(!0),async function(){try{const t=await Promise.all(f.map(async e=>{try{const[t,n]=await Promise.all([sa.getScenarioInputs(v,e.id),sa.getNormConfig(v,e.id).catch(()=>null)]),i=Fl({inputs:null===t||void 0===t?void 0:t.inputs,norm:n,config:M,scenario:e}),r=i.missingDetailsLines.length?["Eksik:",...i.missingDetailsLines]:["T\xfcm tablolar tamamland\u0131"];return{id:e.id,pct:i.pct,tooltipLines:r}}catch(t){return{id:e.id,error:!0}}}));if(!e)return;const n={};t.forEach(e=>{n[e.id]=e}),B(n)}finally{e&&U(!1)}}(),()=>{e=!1}},[v,f,M]),(0,r.useEffect)(()=>{if(!v||!b)return j(null),w(null),void N(null);let e=!0;return T(""),async function(){try{const t=await sa.getScenarioInputs(v,b);if(!e)return;j((null===t||void 0===t?void 0:t.scenario)||null);const n=null===t||void 0===t?void 0:t.inputs,i=n&&"object"===typeof n?Is(Ds(Fs(n))):n;w(i),N(null)}catch(Ib){if(!e)return;T(Ib.message||"Senaryo yuklenemedi.")}}(),()=>{e=!1}},[v,b]);const it=(0,r.useCallback)(async()=>{if(!v)return null;try{const e=await sa.listScenarios(v),t=Array.isArray(e)?e:[];return y(t),t}catch(e){return null}},[v]),rt=(0,r.useMemo)(()=>al(),[]),at=(0,r.useMemo)(()=>dl(),[]),lt=Ts(V),st=Ts(q),ot=function(e,t,n){const i=Ts(t);if(!i)return"";if("full"===e)return String(i);const r=Ts(n);return r?"".concat(i,"-").concat(r):""}(W,V,q),ct="full"===W||null!=lt&&st===lt+1,ut=(0,r.useMemo)(()=>{if(!ot)return!1;const e="edit"===ue?Number((null===me||void 0===me?void 0:me.id)||b||0):null;return f.some(t=>String((null===t||void 0===t?void 0:t.academic_year)||"").trim()===String(ot).trim()&&(null==e||Number(null===t||void 0===t?void 0:t.id)!==e))},[ot,f,ue,null===me||void 0===me?void 0:me.id,b]),dt=(0,r.useMemo)(()=>sl(X),[X]),mt=(0,r.useMemo)(()=>Object.values(dt).some(e=>e&&e.enabled),[dt]),ht=String(ee||"").trim().toUpperCase(),pt="LOCAL"!==Z||Ns.test(ht),ft=Number(ne),yt="LOCAL"!==Z||Number.isFinite(ft)&&ft>0,vt="USD"===Z||pt&&yt,gt=Boolean(Y.trim())&&Boolean(ot)&&ct&&!ut&&mt&&vt,bt=[!0,vt,Boolean(re),Boolean(ot)&&ct&&!ut,mt,gt],xt=Boolean(je||xe||we||ye||pe),kt=null!==(e=null!==(t=null!==je&&void 0!==je?je:xe)&&void 0!==t?t:we)&&void 0!==e?e:null,jt=(0,r.useMemo)(()=>f.find(e=>String(e.id)===String(b))||null,[f,b]),St=(0,r.useMemo)(()=>{if(!ge.key)return f;const e=f.map((e,t)=>({s:e,idx:t})),t="asc"===ge.dir?1:-1,n=e=>{const t=String(e||"").match(/(\d{4})(?:\s*-\s*(\d{4}))?/),n=t?Number(t[1]):0;return[n||0,(t&&t[2]?Number(t[2]):n)||0]},i=e=>"LOCAL"===String(e.input_currency||"USD").toUpperCase()?String(e.local_currency_code||"LOCAL").toUpperCase():"USD",r=e=>{switch(e){case"in_review":return"\u0130ncelemede";case"sent_for_approval":return"Onaya Gonderildi";case"submitted":return"Gonderildi";case"revision_requested":return"Revizyon Istendi";case"approved":return"Onaylandi";default:return"Taslak"}};return e.sort((e,a)=>{const l=e.s,s=a.s;let o=0;switch(ge.key){case"name":o=String(l.name||"").localeCompare(String(s.name||""),"tr",{sensitivity:"base",numeric:!0});break;case"year":{const[e,t]=n(l.academic_year),[i,r]=n(s.academic_year);o=e-i||t-r;break}case"currency":o=i(l).localeCompare(i(s),"tr",{sensitivity:"base",numeric:!0});break;case"status":o=r(l.status).localeCompare(r(s.status),"tr",{sensitivity:"base",numeric:!0});break;case"date":o=new Date(l.created_at).getTime()-new Date(s.created_at).getTime();break;default:o=0}return 0===o&&(o=e.idx-a.idx),o*t}),e.map(e=>e.s)},[f,ge]),wt=e=>{be(t=>t.key===e?{key:e,dir:"asc"===t.dir?"desc":"asc"}:{key:e,dir:"asc"})},Nt=e=>ge.key!==e?"none":"asc"===ge.dir?"ascending":"descending",Ct=e=>ge.key!==e?(0,oa.jsx)("span",{className:"sort-icon is-idle",children:(0,oa.jsx)(Ha,{"aria-hidden":"true"})}):(0,oa.jsx)("span",{className:"sort-icon",children:"asc"===ge.dir?(0,oa.jsx)(Wa,{"aria-hidden":"true"}):(0,oa.jsx)(Ka,{"aria-hidden":"true"})}),Tt=(0,r.useMemo)(()=>As(),[]),Et=Fe?Tt.reduce((e,t)=>e+(Fe[t]?1:0),0):0,At=!(null===Fe||void 0===Fe||!Fe["hr.ik"])===!(null===Fe||void 0===Fe||!Fe["expenses.giderler"]),_t=String((null===k||void 0===k?void 0:k.input_currency)||"USD").toUpperCase(),Pt="LOCAL"===(null===k||void 0===k?void 0:k.input_currency)?k.local_currency_code||"LOCAL":"USD",Mt="LOCAL"===(null===k||void 0===k?void 0:k.input_currency),Lt=Number((null===S||void 0===S||null===(n=S.temelBilgiler)||void 0===n||null===(i=n.performans)||void 0===i?void 0:i.prevYearRealizedFxUsdToLocal)||0),Rt=Mt&&!(Number.isFinite(Lt)&&Lt>0),Ot=(0,r.useMemo)(()=>{var e,t;return{countryId:null!==(e=null===(t=d.user)||void 0===t?void 0:t.country_id)&&void 0!==e?e:null,schoolId:null!=v?Number(v):null}},[null===(a=d.user)||void 0===a?void 0:a.country_id,v]),Ft=String((null===(l=d.user)||void 0===l?void 0:l.role)||""),Dt=Bl(d.user,"scenario.create","write",Ot),It=Bl(d.user,"scenario.plan_edit","write",Ot),zt=Bl(d.user,"scenario.copy","write",Ot),Ut=Bl(d.user,"scenario.expense_split","write",Ot),Yt=Bl(d.user,"scenario.submit","write",Ot),Kt="manager"===Ft||"accountant"===Ft||Bl(d.user,"scenario.forward","write",Ot),Wt=Bl(d.user,"scenario.delete","write",Ot),Ht=Boolean(jt)&&js(jt),Vt=Boolean(jt)&&!Ht&&It,Gt=Boolean(jt)&&!Ht&&Wt,qt=Boolean(jt)&&("draft"===jt.status||"revision_requested"===jt.status),$t=Boolean(jt)&&"approved"===jt.status&&!jt.sent_at,Xt=qt&&Yt,Qt=$t&&Kt,Zt=Boolean(jt)&&S&&zt,Jt=jt&&String(je)===String(jt.id),en=jt&&String(xe)===String(jt.id),tn=jt&&String(we)===String(jt.id),nn=e=>{J(e),"LOCAL"!==e&&(te(""),ie(""))};async function rn(e){if(!It)return;if(!v)return;T("");const t=f.find(t=>String(t.id)===String(e));if(t&&js(t))T("Senaryo onayda veya onaylandi, duzenlenemez.");else{x(e),de("edit"),he(null),ce(!0),fe(!0),se(0);try{var n,i;const t=await sa.getScenarioInputs(v,e),r=null===t||void 0===t?void 0:t.scenario;if(!r)throw new Error("Senaryo bulunamadi.");he(r),K(r.name||"");const a=function(e){const t=String(e||"").trim(),n=t.match(/(\d{4})\s*-\s*(\d{4})/);if(n){const e=Number(n[1]),t=Number(n[2]);if(Number.isFinite(e)&&Number.isFinite(t))return{startYear:e,endYear:t}}const i=t.match(/^(\d{4})$/);if(i){const e=Number(i[1]);if(Number.isFinite(e))return{startYear:e,endYear:e}}return{startYear:null,endYear:null}}(r.academic_year);a.startYear&&a.endYear&&a.endYear!==a.startYear?(H("split"),G(String(a.startYear)),$(String(a.endYear))):a.startYear?(H("full"),G(String(a.startYear)),$(String(a.startYear+1))):(H("split"),G(Ss),$(ws));const l=null===t||void 0===t||null===(n=t.inputs)||void 0===n||null===(i=n.temelBilgiler)||void 0===i?void 0:i.kademeler;Q(l?sl(l):ll());const s=r.input_currency||"USD";J(s),te(r.local_currency_code||""),ie(null!=r.fx_usd_to_local?String(r.fx_usd_to_local):""),ae(r.program_type||Xl.LOCAL)}catch(Ib){T(Ib.message||"Senaryo yuklenemedi."),ce(!1)}finally{fe(!1)}}}const an=(e,t)=>{Q(n=>{const i=sl(n);return sl(m(m({},i),{},{[e]:m(m({},i[e]),t)}))})},ln=e=>{const t=String(null!==e&&void 0!==e?e:"").trim();if(!t)return NaN;const n=t.replace(",",".").match(/-?\d+(?:\.\d+)?/);if(!n)return NaN;const i=Number.parseFloat(n[0]);return Number.isFinite(i)?i:NaN},sn=e=>{De(Ps(e)),Be("")},on=(e,t)=>{xt||De(n=>{const i=m({},n||Ps("all"));var r;return"hr.ik"===e||"expenses.giderler"===e?(i["hr.ik"]=t,i["expenses.giderler"]=t,r="IK ve Giderler birlikte ".concat(t?"secildi":"kaldirildi","."),Xe.current&&clearTimeout(Xe.current),Be(r),Xe.current=setTimeout(()=>{Be("")},2e3)):i[e]=t,_s(i)})},cn=(e,t)=>{if(xt)return;const n=xs.find(t=>t.key===e);n&&De(e=>{const i=m({},e||Ps("all"));return n.sections.forEach(e=>{i[e.id]=t}),_s(i)})};function un(){Pe(!1),Oe("")}function dn(e){const t=Array.isArray(e)?e:[];let n=0;for(const r of t){var i;const e=Number(null!==(i=null===r||void 0===r?void 0:r.studentsPerBranch)&&void 0!==i?i:0);Number.isFinite(e)&&(n+=e)}return n}function mn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blocking-toast";Kr.warn(e,{toastId:t,position:"bottom-right",autoClose:!1,closeOnClick:!1,draggable:!0,icon:"!",style:{background:"rgba(15, 23, 42, 0.96)",color:"#f8fafc",border:"1px solid rgba(251, 191, 36, 0.35)",boxShadow:"0 18px 40px rgba(0,0,0,.28)",borderRadius:14}})}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Islem";if(!S)return!0;const t=function(e){const t=e&&"object"===typeof e?e:{},n=t.gradesYears&&"object"===typeof t.gradesYears?t.gradesYears:{};return{y1:dn(Array.isArray(n.y1)?n.y1:t.grades),y2:dn(n.y2),y3:dn(n.y3)}}(S),n=[];if(t.y2>0||n.push("Y2"),t.y3>0||n.push("Y3"),!n.length)return!0;const i="".concat(e," yapilamaz: Norm > Planlanan Donem Bilgileri bolumunde ")+"".concat(n.join(" ve ")," toplam ogrenci 0 gorunuyor. Lutfen Y2/Y3 ogrenci sayilarini girin.");return T(""),mn(i,"norm-y2y3-missing"),!1}function pn(){if(!S)return!0;if(!Mt)return!0;if(!Rt)return!0;const e="".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Islem"," yapilamaz: Temel Bilgiler > Performans alanindaki ")+'"Onceki Donem Ortalama Kur (Gerceklesen)" girilmelidir.';return T(""),mn(e,"prev-realized-fx-missing"),!1}async function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!v||!b)return!1;if(!pn("Hesaplama"))return!1;if(!e.skipPlanValidation&&!hn("Hesaplama"))return!1;$e(!0),T("");let t=!1;try{const e=await sa.calculateScenario(v,b);N(e.results),t=!0}catch(Ib){T(Ib.message||"Calculation failed")}finally{$e(!1)}return t}const yn=null!=Te?f.find(e=>String(e.id)===String(Te)):null,vn=null!==yn&&void 0!==yn&&yn.name?'"'.concat(yn.name,'"'):"Senaryo",gn=null!=Te&&String(Te)===String(b)&&f.length<=1?"".concat(vn," son senaryo. Silerseniz senaryo secimi temizlenir."):"".concat(vn," silinecek. Devam edilsin mi?");return(0,oa.jsxs)("div",{className:"container",children:[(0,oa.jsx)(Jr,{position:"bottom-right",autoClose:3500,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,hideProgressBar:!0,theme:"dark"}),(0,oa.jsx)("style",{children:"@keyframes schoolSpin{to{transform:rotate(360deg)}}"}),C?(0,oa.jsx)("div",{className:"card",style:{marginTop:10,background:"#fff1f2",borderColor:"#fecaca"},children:C}):null,Te?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Senaryo Sil"}),(0,oa.jsx)("div",{className:"small",children:gn}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end",marginTop:12},children:[(0,oa.jsx)("button",{className:"btn",onClick:()=>Ae(null),disabled:xt,children:"Iptal"}),(0,oa.jsx)("button",{className:"btn danger",onClick:async function(){if(!Te)return;const e=Te;Ae(null),await async function(e){if(!Wt)return;if(!v||!e)return;if(xt)return;const t=f.find(t=>String(t.id)===String(e));if(!t)return;if(js(t))return void T("Senaryo onayda veya onaylandi, silinemez.");T(""),Ne(e);try{await sa.deleteScenario(v,e);const t=await it();Array.isArray(t)&&(t.length?t.some(e=>String(e.id)===String(b))||x(t[0].id):(x(null),w(null),N(null))),Kr.success("Senaryo silindi.")}catch(Ib){T(Ib.message||"Senaryo silinemedi.")}finally{Ne(null)}}(e)},disabled:xt,children:"Sil"})]})]})}):null,_e?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",style:{width:"min(980px, 96vw)",maxHeight:"86vh",overflowY:"auto"},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Senaryo Kopyalama"}),(0,oa.jsx)("button",{className:"btn",onClick:un,disabled:xt,children:"Kapat"})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"Yeni senaryo icin para birimini secin."}),Re?(0,oa.jsx)("div",{className:"card",style:{marginTop:10,background:"#fff1f2",borderColor:"#fecaca"},children:Re}):null,(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Para Birimi"}),(0,oa.jsxs)("div",{className:"row",style:{gap:12,alignItems:"center"},children:[(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"radio",name:"copy-currency",checked:"USD"===ze,onChange:()=>{Ue("USD"),Oe("")}}),(0,oa.jsx)("span",{children:"USD"})]}),(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"radio",name:"copy-currency",checked:"LOCAL"===ze,onChange:()=>{Ue("LOCAL"),Oe("")}}),(0,oa.jsx)("span",{children:"LOCAL"})]})]})]}),"USD"===_t&&"LOCAL"===ze?(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{gap:8,alignItems:"center"},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700},children:"Local currency code"}),(0,oa.jsx)("input",{className:"input sm",list:"local-currency-codes-copy",placeholder:"TRY",value:Ye,onChange:e=>Ke(e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10))}),(0,oa.jsx)("datalist",{id:"local-currency-codes-copy",children:Cs.map(e=>(0,oa.jsx)("option",{value:e},e))})]}),(0,oa.jsxs)("div",{className:"row",style:{gap:8,alignItems:"center",marginTop:10},children:[(0,oa.jsx)("span",{children:"1 USD ="}),(0,oa.jsx)("input",{className:"input sm",type:"number",step:"0.000001",value:We,onChange:e=>He(e.target.value)}),(0,oa.jsx)("span",{children:Ye||"LOCAL"})]}),(0,oa.jsx)("div",{className:"small muted",style:{marginTop:6},children:"Planlanan kur (senaryo ayarlari icin)."}),(0,oa.jsxs)("div",{className:"row",style:{gap:8,alignItems:"center",marginTop:10},children:[(0,oa.jsx)("span",{children:"Kopyalama kuru:"}),(0,oa.jsx)("input",{className:"input sm",type:"number",step:"0.000001",value:Ve,onChange:e=>Ge(e.target.value)}),(0,oa.jsx)("span",{children:Ye||"LOCAL"})]}),(0,oa.jsx)("div",{className:"small muted",style:{marginTop:6},children:"Kopyalama kuruna gore tum rakamlar cevrilir."})]}):null,"LOCAL"===_t&&"USD"===ze?(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{gap:8,alignItems:"center"},children:[(0,oa.jsx)("span",{children:"1 USD ="}),(0,oa.jsx)("input",{className:"input sm",type:"number",step:"0.000001",value:Ve,onChange:e=>Ge(e.target.value)}),(0,oa.jsx)("span",{children:Pt})]}),(0,oa.jsx)("div",{className:"small muted",style:{marginTop:6},children:"Kopyalama kuru (LOCAL -> USD)."})]}):null,Ie?(0,oa.jsx)("div",{className:"small",style:{marginTop:10,color:"#0369a1"},children:Ie}):null,(0,oa.jsxs)("div",{style:{marginTop:16},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Kopyalanacak Bolumler"}),(0,oa.jsxs)("div",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsxs)("div",{className:"small muted",children:["Secili: ",Et]}),(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>sn("all"),disabled:xt,children:"Tumu"}),(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>sn("structure"),disabled:xt,children:"Yapisi"}),(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>sn("financial"),disabled:xt,children:"Finans"})]})]}),(0,oa.jsx)("div",{style:{marginTop:10,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:xs.map(e=>(0,oa.jsxs)("div",{className:"card",style:{padding:12},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:e.label}),(0,oa.jsxs)("div",{className:"row",style:{gap:4},children:[(0,oa.jsx)("button",{type:"button",className:"btn",style:{padding:"2px 6px",fontSize:12},onClick:()=>cn(e.key,!0),disabled:xt,children:"Tumu"}),(0,oa.jsx)("button",{type:"button",className:"btn",style:{padding:"2px 6px",fontSize:12},onClick:()=>cn(e.key,!1),disabled:xt,children:"Temizle"})]})]}),(0,oa.jsx)("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:6},children:e.sections.map(e=>(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"checkbox",checked:!(null===Fe||void 0===Fe||!Fe[e.id]),onChange:t=>on(e.id,t.target.checked),disabled:xt}),(0,oa.jsx)("span",{className:"small",children:e.label})]},e.id))})]},e.key))})]}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end",marginTop:14},children:[(0,oa.jsx)("button",{className:"btn",onClick:un,disabled:xt,children:"Iptal"}),(0,oa.jsx)("button",{className:"btn primary",onClick:async function(){if(!Fe)return;if(je)return;const e=_s(Fe),t=String(ze||_t).toUpperCase();let n=null,i=null,r=null;if("USD"===_t&&"LOCAL"===t){const e=String(Ye||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10);if(!Ns.test(e))return void Oe("Local para birimi kodu gecersiz.");const t=ln(We);if(!Number.isFinite(t)||t<=0)return void Oe("Gecerli bir kur girilmelidir.");const a=ln(Ve);if(!Number.isFinite(a)||a<=0)return void Oe("Gecerli bir kopyalama kuru girilmelidir.");n=e,i=t,r=a}if("LOCAL"===_t&&"USD"===t){const e=ln(Ve);if(!Number.isFinite(e)||e<=0)return void Oe("Gecerli bir kopyalama kuru girilmelidir.");r=e}un(),await async function(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!zt)return;if(!b||!k||!S)return;if(je)return;if(!k.academic_year)return void T("Akademik yil bulunamadi.");T("");const r=_s((null===i||void 0===i?void 0:i.selection)||Ps("all"));if(!!r["hr.ik"]!==!!r["expenses.giderler"])return void Kr.warn("IK ve Giderler birlikte secilmelidir.");const a=String((null===i||void 0===i?void 0:i.targetCurrency)||_t).toUpperCase();let l=null!==(e=null===i||void 0===i?void 0:i.localCurrencyCode)&&void 0!==e?e:null,s=null!==(t=null===i||void 0===i?void 0:i.plannedFxUsdToLocal)&&void 0!==t?t:null,o=null!==(n=null===i||void 0===i?void 0:i.copyFxUsdToLocal)&&void 0!==n?n:null,c=ln(s),u=ln(o);if("LOCAL"===_t&&"LOCAL"===a){var d,m,h;l=null!==(d=null!==(m=l)&&void 0!==m?m:k.local_currency_code)&&void 0!==d?d:"",s=null!==(h=s)&&void 0!==h?h:k.fx_usd_to_local,c=ln(s)}if("LOCAL"===_t&&"USD"===a){var p;if(o=null!==(p=o)&&void 0!==p?p:k.fx_usd_to_local,u=ln(o),!Number.isFinite(u)||u<=0)return void Kr.warn("Gecerli bir kopyalama kuru girilmelidir.")}if("USD"===_t&&"LOCAL"===a){if(!l||!Ns.test(l))return void Kr.warn("Local para birimi kodu gecersiz.");if(!Number.isFinite(c)||c<=0)return void Kr.warn("Gecerli bir kur girilmelidir.");if(!Number.isFinite(u)||u<=0)return void Kr.warn("Gecerli bir kopyalama kuru girilmelidir.")}Se(b);try{var y;const e=k.name||"Senaryo",t="".concat(e," (Kopya)");let n=Es(k.academic_year);if(!n)throw new Error("Akademik yil formati gecersiz.");let i=0;const s=e=>f.some(t=>String((null===t||void 0===t?void 0:t.academic_year)||"").trim()===String(e).trim());for(;s(n);)if(n=Es(n),i+=1,!n||i>20)throw new Error("Uygun yeni akademik yil bulunamadi.");const o=!!r["temel.core"],d=sl(o&&(null===S||void 0===S||null===(y=S.temelBilgiler)||void 0===y?void 0:y.kademeler)||ll()),m=o&&(null===k||void 0===k?void 0:k.program_type)||Xl.LOCAL,h="LOCAL"===a&&Number.isFinite(c)&&c>0?c:null,p=await sa.createScenario(v,{name:t,academicYear:n,kademeConfig:d,inputCurrency:a,localCurrencyCode:"LOCAL"===a?l||"":null,fxUsdToLocal:h,programType:m});let N=function(e,t){var n;const i=t||{},r=e=>!!i[e],a=structuredClone(e||{}),l=()=>dl().map(e=>({grade:e,branchCount:0,studentsPerBranch:0})),s=null!==e&&void 0!==e&&e.gradesYears&&"object"===typeof e.gradesYears?e.gradesYears:{},o=Array.isArray(null===e||void 0===e?void 0:e.grades)?e.grades:null,c=Array.isArray(null===s||void 0===s?void 0:s.y1)?s.y1:Array.isArray(o)?o:l(),u=r("norm.planned"),d=r("norm.lessonY1"),m=Array.isArray(null===s||void 0===s?void 0:s.y2)?s.y2:d?c:l(),h=Array.isArray(null===s||void 0===s?void 0:s.y3)?s.y3:d?c:l();if(a.temelBilgiler=a.temelBilgiler||{},r("temel.core")||(delete a.temelBilgiler.kademeler,delete a.temelBilgiler.programType),r("temel.pricing")||(delete a.temelBilgiler.inflation,delete a.temelBilgiler.ucretArtisOranlari,delete a.temelBilgiler.okulUcretleriHesaplama),r("temel.schoolInfo")||(delete a.temelBilgiler.yetkililer,delete a.temelBilgiler.okulEgitimBilgileri),r("temel.discountsMeta")||(delete a.temelBilgiler.ikMevcut,delete a.temelBilgiler.bursIndirimOgrenciSayilari),r("temel.competitors")||delete a.temelBilgiler.rakipAnalizi,r("temel.performance")||(delete a.temelBilgiler.performans,delete a.temelBilgiler.degerlendirme),null!==(n=a.temelBilgiler)&&void 0!==n&&n.performans&&"object"===typeof a.temelBilgiler.performans&&delete a.temelBilgiler.performans.gerceklesen,r("kapasite.all")||(delete a.kapasite,delete a.schoolCapacity),r("norm.current")||delete a.gradesCurrent,u||d){const e=d?structuredClone(c):structuredClone(l()),t=u?structuredClone(m):structuredClone(l()),n=u?structuredClone(h):structuredClone(l());a.gradesYears={y1:e,y2:t,y3:n},d?a.grades=structuredClone(e):delete a.grades}else delete a.gradesYears,delete a.grades;return r("hr.ik")||delete a.ik,r("income.gelirler")||delete a.gelirler,r("expenses.giderler")||delete a.giderler,r("expenses.discounts")||delete a.discounts,a}(S,r);r["hr.ik"]&&r["expenses.giderler"]&&(N=function(e){var t,n,i;const r=e||{},a=r.ik||{},l=null!==a&&void 0!==a&&null!==(t=a.years)&&void 0!==t&&t.y1?a.years.y1:a,s=(null===l||void 0===l?void 0:l.unitCosts)||{},o=(null===l||void 0===l?void 0:l.headcountsByLevel)||{},c=["turk_mudur","turk_mdyard","turk_egitimci","turk_temsil","yerel_yonetici_egitimci","yerel_destek","yerel_ulke_temsil_destek","int_yonetici_egitimci"],u=["okulOncesi","ilkokulYerel","ilkokulInt","ortaokulYerel","ortaokulInt","liseYerel","liseInt"],d={};for(const g of c){let e=0;for(const t of u){var m;e+=Number((null===o||void 0===o||null===(m=o[t])||void 0===m?void 0:m[g])||0)}d[g]=Number((null===s||void 0===s?void 0:s[g])||0)*e}const h={turkPersonelMaas:(d.turk_mudur||0)+(d.turk_mdyard||0)+(d.turk_egitimci||0),turkDestekPersonelMaas:d.turk_temsil||0,yerelPersonelMaas:d.yerel_yonetici_egitimci||0,yerelDestekPersonelMaas:(d.yerel_destek||0)+(d.yerel_ulke_temsil_destek||0),internationalPersonelMaas:d.int_yonetici_egitimci||0},p=(null===r||void 0===r||null===(n=r.giderler)||void 0===n||null===(i=n.isletme)||void 0===i?void 0:i.items)||{},f=Object.keys(h);let y=!1;for(const g of f){const e=Number((null===p||void 0===p?void 0:p[g])||0),t=Number((null===h||void 0===h?void 0:h[g])||0);if(Math.abs(e-t)>1e-6){y=!0;break}}if(!y)return r;const v=structuredClone(r);v.giderler=v.giderler||{},v.giderler.isletme=v.giderler.isletme||{},v.giderler.isletme.items=v.giderler.isletme.items||{};for(const g of f)v.giderler.isletme.items[g]=Number(h[g]||0);return v}(N)),N=Ds(N),N=Fs(N),N=Is(N),"USD"===_t&&"LOCAL"===a&&(N=Rs(N,u),N.temelBilgiler=N.temelBilgiler||{},N.temelBilgiler.performans=N.temelBilgiler.performans||{},N.temelBilgiler.performans.prevYearRealizedFxUsdToLocal=Number(u)),"LOCAL"===_t&&"USD"===a&&(N=function(e,t){const n=Number(t);return!Number.isFinite(n)||n<=0?e:Rs(e,1/n)}(N,u),N.temelBilgiler=N.temelBilgiler||{},N.temelBilgiler.performans=N.temelBilgiler.performans||{},N.temelBilgiler.performans.prevYearRealizedFxUsdToLocal=Number(u));const T=function(e){const t=new Set;return e&&"object"===typeof e?(Object.entries(e).forEach(e=>{let[n,i]=e;if(!i)return;const r=ks[n];Array.isArray(r)&&r.forEach(e=>t.add(e))}),Array.from(t)):[]}(r);if(await sa.saveScenarioInputs(v,p.id,N,T),r["norm.lessonY1"])try{const e=await sa.getNormConfig(v,b);if(e){var g,j,w;const t=null!==e&&void 0!==e&&e.years&&"object"===typeof e.years?e.years:{},n=Number(null!==(g=null!==(j=null===t||void 0===t||null===(w=t.y1)||void 0===w?void 0:w.teacherWeeklyMaxHours)&&void 0!==j?j:null===e||void 0===e?void 0:e.teacherWeeklyMaxHours)&&void 0!==g?g:24),i={years:{y1:null!==t&&void 0!==t&&t.y1?structuredClone(t.y1):{teacherWeeklyMaxHours:Number.isFinite(n)&&n>0?n:24,curriculumWeeklyHours:null!==e&&void 0!==e&&e.curriculumWeeklyHours&&"object"===typeof e.curriculumWeeklyHours?structuredClone(e.curriculumWeeklyHours):Ms()},y2:Ls(n),y3:Ls(n)}};await sa.saveNormConfig(v,p.id,i)}}catch(C){console.warn("[copyScenario] norm copy skipped",C)}await it(),x(p.id),Kr.success("Senaryo kopyalandi.")}catch(Ib){T(Ib.message||"Scenario copy failed")}finally{Se(null)}}({targetCurrency:t,localCurrencyCode:n,plannedFxUsdToLocal:i,copyFxUsdToLocal:r,selection:e})},disabled:xt||je||!Fe||!At,children:je?(0,oa.jsxs)("span",{style:{display:"inline-flex",gap:6,alignItems:"center"},children:[(0,oa.jsx)(Os,{}),(0,oa.jsx)("span",{children:"Kopyalaniyor..."})]}):"Tamam"})]})]})}):null,Me?(0,oa.jsx)(bs,{open:Me,onClose:()=>Le(!1),sourceScenario:jt,sourceSchoolId:v}):null,oe?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal scenario-wizard-modal",children:[(0,oa.jsxs)("div",{className:"scenario-wizard-header",children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"edit"===ue?"Senaryo Kurulumunu Duzenle":"Yeni Senaryo Kurulumu"}),(0,oa.jsx)("button",{className:"btn",onClick:function(){T(""),ce(!1),fe(!1),ve(!1),se(0)},disabled:ye||pe,children:"Kapat"})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"edit"===ue?"Senaryo ayarlarini guncelleyip kaydedebilirsiniz.":"Adim adim kurulum tamamlayin."})]}),(0,oa.jsxs)("div",{className:"scenario-wizard-body",children:[C?(0,oa.jsx)("div",{className:"card",style:{marginTop:10,background:"#fff1f2",borderColor:"#fecaca"},children:C}):null,pe?(0,oa.jsx)("div",{className:"card",style:{marginTop:12},children:"Yukleniyor..."}):(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Kurulum Adimi"}),(0,oa.jsx)("div",{className:"small",children:"Adim ".concat(le+1," / ").concat(6,": ").concat(["Donem Turu","Para Birimi","Program Turu","Yil","Kademeler","Senaryo Adi"][le])})]}),0===le&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Donem Turu"}),(0,oa.jsxs)("div",{className:"row",style:{gap:12,alignItems:"center"},children:[(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"radio",name:"scenario-period",checked:"full"===W,onChange:()=>H("full")}),(0,oa.jsx)("span",{children:"Tam Yil (tek yil)"})]}),(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"radio",name:"scenario-period",checked:"split"===W,onChange:()=>H("split")}),(0,oa.jsx)("span",{children:"Yil ortasinda baslar, sonraki yil biter"})]})]})]}),1===le&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Para Birimi"}),(0,oa.jsxs)("div",{className:"row",style:{gap:12,alignItems:"center"},children:[(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"radio",name:"scenario-currency",checked:"USD"===Z,onChange:()=>nn("USD"),disabled:"edit"===ue}),(0,oa.jsx)("span",{children:"USD"})]}),(0,oa.jsxs)("label",{className:"row",style:{gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"radio",name:"scenario-currency",checked:"LOCAL"===Z,onChange:()=>nn("LOCAL"),disabled:"edit"===ue}),(0,oa.jsx)("span",{children:"Local currency"})]})]}),"LOCAL"===Z&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsxs)("div",{className:"row",style:{gap:8,alignItems:"center"},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700},children:"Local currency code"}),(0,oa.jsx)("input",{className:"input sm",list:"local-currency-codes",placeholder:"TRY",value:ee,onChange:e=>te(e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10))}),(0,oa.jsx)("datalist",{id:"local-currency-codes",children:Cs.map(e=>(0,oa.jsx)("option",{value:e},e))})]}),pt?null:(0,oa.jsx)("div",{className:"small",style:{color:"#b91c1c",marginTop:6},children:"Code 2-10 chars, A-Z0-9."}),(0,oa.jsxs)("div",{className:"row",style:{gap:8,alignItems:"center",marginTop:10},children:[(0,oa.jsx)("span",{children:"1 USD ="}),(0,oa.jsx)("input",{className:"input sm",type:"number",step:"0.000001",value:ne,onChange:e=>ie(e.target.value)}),(0,oa.jsx)("span",{children:ht||"LOCAL"})]}),yt?null:(0,oa.jsx)("div",{className:"small",style:{color:"#b91c1c",marginTop:6},children:"FX rate must be > 0."}),(0,oa.jsx)("div",{className:"small muted",style:{marginTop:6},children:"Kur formati: 1 USD = X LOCAL"})]})]}),2===le&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Program Turu"}),(0,oa.jsx)("div",{className:"row",style:{gap:12},children:[{key:Xl.LOCAL,label:"Yerel",hint:"Yerel kademeleri planlayin"},{key:Xl.INTERNATIONAL,label:"International",hint:"Uluslararasi kademeleri planlayin"}].map(e=>(0,oa.jsxs)("button",{type:"button",className:"btn ".concat(re===e.key?"primary":"ghost"),"aria-pressed":re===e.key,onClick:()=>ae(e.key),children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:e.label}),(0,oa.jsx)("div",{className:"small",style:{opacity:.75},children:e.hint})]},e.key))})]}),3===le&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Yil"}),"full"===W?(0,oa.jsx)("input",{className:"input sm",placeholder:Ss,value:V,onChange:e=>G(e.target.value)}):(0,oa.jsxs)("div",{className:"row",style:{gap:8,alignItems:"center"},children:[(0,oa.jsx)("input",{className:"input sm",placeholder:Ss,value:V,onChange:e=>G(e.target.value)}),(0,oa.jsx)("span",{className:"muted",children:"-"}),(0,oa.jsx)("input",{className:"input sm",placeholder:ws,value:q,onChange:e=>$(e.target.value)})]}),(0,oa.jsxs)("div",{className:"small muted",style:{marginTop:6},children:["Akademik yil: ",ot||"-","split"===W&&ot&&!ct?(0,oa.jsx)("span",{style:{color:"#b91c1c",marginLeft:8},children:"Bitis yili, baslangic yilindan 1 fazla olmali."}):null,ot&&ut?(0,oa.jsx)("span",{style:{color:"#b91c1c",marginLeft:8},children:"Bu yil turu icin zaten bir senaryo var."}):null]})]}),4===le&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Kademeler"}),(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Kademe"}),(0,oa.jsx)("th",{style:{width:120},children:"Aktif"}),(0,oa.jsx)("th",{style:{width:160},children:"Baslangic"}),(0,oa.jsx)("th",{style:{width:160},children:"Bitis"})]})}),(0,oa.jsx)("tbody",{children:rt.map(e=>{const t=dt[e.key];return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:e.label}),(0,oa.jsx)("td",{children:(0,oa.jsx)("input",{type:"checkbox",checked:!(null===t||void 0===t||!t.enabled),onChange:t=>an(e.key,{enabled:t.target.checked})})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("select",{className:"input sm",value:(null===t||void 0===t?void 0:t.from)||"",onChange:t=>an(e.key,{from:t.target.value}),disabled:!(null!==t&&void 0!==t&&t.enabled),children:at.map(e=>(0,oa.jsx)("option",{value:e,children:e},e))})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("select",{className:"input sm",value:(null===t||void 0===t?void 0:t.to)||"",onChange:t=>an(e.key,{to:t.target.value}),disabled:!(null!==t&&void 0!==t&&t.enabled),children:at.map(e=>(0,oa.jsx)("option",{value:e,children:e},e))})})]},e.key)})})]}),mt?null:(0,oa.jsx)("div",{className:"small",style:{color:"#b91c1c"},children:"En az bir kademe secmelisiniz."})]}),5===le&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Senaryo Adi"}),(0,oa.jsx)("div",{className:"row",children:(0,oa.jsx)("input",{className:"input",placeholder:"Senaryo adi",value:Y,onChange:e=>K(e.target.value)})}),Y.trim()?null:(0,oa.jsx)("div",{className:"small",style:{color:"#b91c1c",marginTop:6},children:"Senaryo adi zorunludur."})]})]})]}),pe?null:(0,oa.jsxs)("div",{className:"scenario-wizard-footer",children:[(0,oa.jsx)("button",{className:"btn",onClick:function(){T(""),se(e=>Math.max(0,e-1))},disabled:0===le||ye,children:"Geri"}),(0,oa.jsx)("button",{className:"btn primary",onClick:function(){if(T(""),ye)return;const e=function(e){if(1===e&&"LOCAL"===Z){if(!pt)return"Local currency code zorunludur.";if(!yt)return"Kur degeri zorunlu ve 0'dan buyuk olmali."}if(2===e&&!re)return"Program Turu secilmelidir.";if(3===e){if(!ot)return"Lutfen gecerli bir akademik yil girin.";if(!ct)return"Bitis yili, baslangic yilindan 1 fazla olmali.";if(ut)return"Bu yil turu icin zaten bir senaryo var. Lutfen baska bir yil secin."}return 4!==e||mt?5!==e||Y.trim()?"":"Senaryo adi zorunludur.":"En az bir kademe secmelisiniz."}(le);e?T(e):le<5?se(e=>Math.min(e+1,5)):async function(){if("edit"===ue)return void await async function(){if(!v||null===me||void 0===me||!me.id)return;const e=Y.trim();if(!e)return;if(!ot)return void T("Lutfen gecerli bir akademik yil girin.");if(!ct)return void T("Bitis yili, baslangic yilindan 1 fazla olmali.");if(ut)return void T("Bu yil turu icin zaten bir senaryo var. Lutfen baska bir yil secin.");if(!mt)return void T("En az bir kademe secmelisiniz.");if("LOCAL"===(null===me||void 0===me?void 0:me.input_currency)){if(!pt)return void T("Local currency code zorunludur.");if(!yt)return void T("Kur degeri zorunlu ve 0'dan buyuk olmali.")}T(""),ve(!0);try{const t=re||Xl.LOCAL,n=sl(X);await sa.updateScenario(v,me.id,{name:e,academicYear:ot,kademeConfig:n,programType:t,localCurrencyCode:"LOCAL"===(null===me||void 0===me?void 0:me.input_currency)?ht:void 0,fxUsdToLocal:"LOCAL"===(null===me||void 0===me?void 0:me.input_currency)?ne:void 0}),await it(),x(me.id),j(n=>n&&n.id===me.id?m(m({},n),{},{name:e,academic_year:ot,program_type:t},"LOCAL"===(null===me||void 0===me?void 0:me.input_currency)?{local_currency_code:ht,fx_usd_to_local:ft}:{}):n),w(e=>{if(!e||"object"!==typeof e)return e;const i=structuredClone(e);return i.temelBilgiler=i.temelBilgiler||{},i.temelBilgiler.kademeler=n,i.temelBilgiler.programType=t,i}),ce(!1),se(0)}catch(Ib){T(Ib.message||"Senaryo guncellenemedi.")}finally{ve(!1)}}();await async function(){if(!v)return;const e=Y.trim();if(!e)return;if(!ot)return void T("Lutfen gecerli bir akademik yil girin.");if(!ct)return void T("Bitis yili, baslangic yilindan 1 fazla olmali.");if(ut)return void T("Bu yil turu icin zaten bir senaryo var. Lutfen baska bir yil secin.");if(!mt)return void T("En az bir kademe secmelisiniz.");if("LOCAL"===Z){if(!pt)return void T("Local currency code zorunludur.");if(!yt)return void T("Kur degeri zorunlu ve 0'dan buyuk olmali.")}T(""),ve(!0);try{const t=re||Xl.LOCAL,n=sl(X),i=await sa.createScenario(v,{name:e,academicYear:ot,kademeConfig:n,inputCurrency:Z,localCurrencyCode:"LOCAL"===Z?ht:null,fxUsdToLocal:"LOCAL"===Z?ne:null,programType:t});await it(),x(i.id),ce(!1),se(0)}catch(Ib){T(Ib.message||"Senaryo olusturulamadi.")}finally{ve(!1)}}()}()},disabled:ye||!bt[le],children:ye?(0,oa.jsxs)("span",{style:{display:"inline-flex",gap:6,alignItems:"center"},children:[(0,oa.jsx)(Os,{}),(0,oa.jsx)("span",{children:"edit"===ue?"Kaydediliyor...":"Olusturuluyor..."})]}):le<5?"Ileri":"edit"===ue?"Kaydet":"Bitir"})]})]})}):null,(0,oa.jsxs)("div",{className:"row select-page-tables",style:{gap:12,alignItems:"stretch",marginTop:12,flexWrap:"wrap"},children:[(0,oa.jsxs)("div",{className:"card select-table-card",style:{flex:"1 1 320px",minWidth:280},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Okullar"}),E?(0,oa.jsx)("div",{className:"small",children:"Yukleniyor..."}):(0,oa.jsx)("div",{className:"select-table-body",children:(0,oa.jsxs)("table",{className:"table select-school-table",children:[(0,oa.jsxs)("colgroup",{children:[(0,oa.jsx)("col",{style:{width:32}}),(0,oa.jsx)("col",{}),(0,oa.jsx)("col",{style:{width:180}})]}),(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{}),(0,oa.jsx)("th",{children:"Okul"}),(0,oa.jsx)("th",{children:"\u0130lerleme"})]})}),(0,oa.jsx)("tbody",{children:0===h.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"3",className:"small",children:"Okul bulunamadi."})}):h.map(e=>{const t=String(v)===String(e.id),n=R[e.id];return(0,oa.jsxs)("tr",{className:t?"scenario-row is-selected":"scenario-row",style:{cursor:t?"default":"pointer"},onClick:()=>{t||et(e.id)},children:[(0,oa.jsx)("td",{onClick:e=>{e.stopPropagation()},children:(0,oa.jsx)("input",{type:"checkbox",className:"select-checkbox",checked:t,"aria-label":"".concat(e.name," okulunu se\xe7"),onChange:n=>{n.stopPropagation(),t?tt():et(e.id)}})}),(0,oa.jsx)("td",{onClick:n=>{n.stopPropagation(),t||et(e.id)},style:{cursor:"pointer"},children:(0,oa.jsx)("b",{children:e.name})}),(0,oa.jsx)("td",{style:{minWidth:180},children:n?"active"===n.state?(0,oa.jsx)(el,{value:n.pct,tooltipLines:n.tooltipLines}):(0,oa.jsx)("div",{className:"small",children:n.label||"-"}):(0,oa.jsx)("div",{className:"small",children:F?"Hesaplan\u0131yor...":"-"})})]},e.id)})})]})})]}),(0,oa.jsxs)("div",{className:"card select-table-card",style:{flex:"2 1 420px",minWidth:320},children:[(0,oa.jsx)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center",gap:12},children:(0,oa.jsx)("div",{style:{fontWeight:700},children:"Senaryolar"})}),v?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{className:"scenario-toolbar",style:{marginTop:10},children:[Dt?(0,oa.jsx)("button",{type:"button",className:"btn primary",onClick:function(){Dt&&(v?(T(""),K(""),H("split"),G(Ss),$(ws),Q(ll()),J("USD"),te(""),ie(""),ae(null),se(0),de("create"),he(null),ce(!0)):T("Once okul secin."))},disabled:!v||xt,title:"Yeni Senaryo",children:(0,oa.jsx)("span",{className:"btn-inner",children:(0,oa.jsx)("span",{children:"Yeni Senaryo"})})}):null,It?(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>{jt&&rn(jt.id)},disabled:!Vt||xt,title:"Planlamayi Duzenle",children:(0,oa.jsx)("span",{className:"btn-inner",children:(0,oa.jsx)("span",{children:"Planlamayi Duzenle"})})}):null,zt?(0,oa.jsx)("button",{type:"button",className:"btn",onClick:function(){zt&&b&&k&&S&&(je||(T(""),Oe(""),De(Ps("all")),Be(""),Ue("LOCAL"===_t?"LOCAL":"USD"),Ke(""),He(""),Ge(""),Pe(!0)))},disabled:!Zt||qe||xt,title:"Kopyala",children:(0,oa.jsxs)("span",{className:"btn-inner",children:[Jt?(0,oa.jsx)(Os,{}):null,(0,oa.jsx)("span",{children:"Kopyala"})]})}):null,Ut?(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>Le(!0),disabled:!jt||xt,title:"Gider Payla\u015ft\u0131r",children:(0,oa.jsx)("span",{className:"btn-inner",children:(0,oa.jsx)("span",{children:"Gider Payla\u015ft\u0131r"})})}):null,Kt&&$t?(0,oa.jsx)("button",{type:"button",className:"btn primary",onClick:()=>{jt&&async function(e){if(!Kt)return;if(!v||!e||e!==b)return;if("approved"!==String((null===k||void 0===k?void 0:k.status)||"draft")||null!==k&&void 0!==k&&k.sent_at)T("Senaryo merkeze iletilemez.");else if(pn("Merkeze iletme")&&hn("Merkeze iletme")&&!xe){T(""),ke(e);try{if(!await fn({keepTab:!0}))return;const t=await sa.sendForApproval(v,e);Kr.success("Merkeze iletildi"),null!==t&&void 0!==t&&t.scenario&&j(e=>m(m({},e||{}),t.scenario)),await it()}catch(Ib){T(Ib.message||"Gonderme basarisiz")}finally{ke(null)}}}(jt.id)},disabled:!Qt||qe||xt,title:"Merkeze ilet",children:(0,oa.jsxs)("span",{className:"btn-inner",children:[en?(0,oa.jsx)(Os,{}):(0,oa.jsx)(Ba,{style:{marginRight:4}}),(0,oa.jsx)("span",{children:"Merkeze ilet"})]})}):null,Yt&&qt?(0,oa.jsx)("button",{type:"button",className:"btn primary",onClick:()=>{jt&&async function(e){if(!Yt)return;if(!v||!e||e!==b)return;const t=String((null===k||void 0===k?void 0:k.status)||"draft");if(["draft","revision_requested"].includes(t)){if(pn("Onaya gonderme")&&hn("Onaya gonderme")&&!xe){T(""),ke(e);try{if(!await fn({keepTab:!0}))return;const t=await sa.submitScenario(v,e);Kr.success("Senaryo onaya gonderildi."),null!==t&&void 0!==t&&t.scenario&&j(e=>m(m({},e||{}),t.scenario)),await it()}catch(Ib){T(Ib.message||"Submit failed")}finally{ke(null)}}}else T("Senaryo onayda veya onaylandi, gonderilemez.")}(jt.id)},disabled:!Xt||qe||xt,title:"Onaya Gonder",children:(0,oa.jsxs)("span",{className:"btn-inner",children:[en?(0,oa.jsx)(Os,{}):(0,oa.jsx)(_a,{style:{marginRight:4}}),(0,oa.jsx)("span",{children:"Onaya Gonder"})]})}):null,Wt?(0,oa.jsx)("button",{type:"button",className:"btn danger",onClick:()=>{var e;jt&&(e=jt.id,Wt&&e&&!xt&&Ae(e))},disabled:!Gt||qe||xt,title:"Sil",children:(0,oa.jsxs)("span",{className:"btn-inner",children:[tn?(0,oa.jsx)(Os,{}):(0,oa.jsx)(qa,{style:{marginRight:4}}),(0,oa.jsx)("span",{children:"Sil"})]})}):null]}),(0,oa.jsx)("div",{className:"select-table-body select-table-body-gap",children:(0,oa.jsxs)("table",{className:"table scenario-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{}),(0,oa.jsx)("th",{"aria-sort":Nt("name"),children:(0,oa.jsxs)("button",{type:"button",className:"sort-th",onClick:()=>wt("name"),"aria-label":"Sirala: Ad",children:[(0,oa.jsx)("span",{children:"Ad"}),Ct("name")]})}),(0,oa.jsx)("th",{"aria-sort":Nt("year"),children:(0,oa.jsxs)("button",{type:"button",className:"sort-th",onClick:()=>wt("year"),"aria-label":"Sirala: Yil",children:[(0,oa.jsx)("span",{children:"Yil"}),Ct("year")]})}),(0,oa.jsx)("th",{"aria-sort":Nt("currency"),children:(0,oa.jsxs)("button",{type:"button",className:"sort-th",onClick:()=>wt("currency"),"aria-label":"Sirala: Para Birimi",children:[(0,oa.jsx)("span",{children:"Para Birimi"}),Ct("currency")]})}),(0,oa.jsx)("th",{"aria-sort":Nt("status"),children:(0,oa.jsxs)("button",{type:"button",className:"sort-th",onClick:()=>wt("status"),"aria-label":"Sirala: Durum",children:[(0,oa.jsx)("span",{children:"Durum"}),Ct("status")]})}),(0,oa.jsx)("th",{children:"\u0130lerleme"}),(0,oa.jsx)("th",{"aria-sort":Nt("date"),children:(0,oa.jsxs)("button",{type:"button",className:"sort-th",onClick:()=>wt("date"),"aria-label":"Sirala: Tarih",children:[(0,oa.jsx)("span",{children:"Tarih"}),Ct("date")]})})]})}),(0,oa.jsx)("tbody",{children:_?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"7",className:"small",children:"Yukleniyor..."})}):0===St.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"7",className:"small",children:"Gosterilecek senaryo yok."})}):St.map(e=>{const t=function(e){const t=e&&"object"===typeof e?e:{status:e},n=t.status,i=t.sent_at;switch(n){case"revision_requested":return{label:"Revize istendi",cls:"is-revision",help:"Revize istendi: senaryoda d\xfczeltme gerekiyor."};case"sent_for_approval":case"submitted":return{label:"Merkeze iletildi",cls:"is-submitted",help:"Merkeze iletildi: admin onay\u0131 bekleniyor."};case"approved":return i?{label:"Onayland\u0131",cls:"is-approved",help:"Onayland\u0131: admin taraf\u0131ndan onayland\u0131."}:{label:"Kontrol edildi",cls:"is-approved",help:"Kontrol edildi: y\xf6netici taraf\u0131ndan kontrol edildi."};case"in_review":return{label:"\u0130ncelemede",cls:"is-submitted",help:"\u0130ncelemede: y\xf6netici incelemesinde."};case"draft":return{label:"Taslak",cls:"is-draft",help:"Taslak: senaryo \xfczerinde \xe7al\u0131\u015f\u0131l\u0131yor."};default:return{label:n||"-",cls:"is-unknown",help:""}}}(e),n=String(b)===String(e.id),i=String(e.id)===String(kt),r=xt&&kt&&!i,a=xt,l="LOCAL"===e.input_currency?"".concat(e.local_currency_code||"LOCAL"," (LOCAL)"):"USD";return(0,oa.jsxs)("tr",{className:n?"scenario-row is-selected":"scenario-row",style:{opacity:r?.5:1,pointerEvents:r?"none":"auto",cursor:n||a||r?"default":"pointer"},onClick:()=>{n||a||r||x(e.id)},children:[(0,oa.jsx)("td",{children:(0,oa.jsx)("input",{type:"checkbox",className:"select-checkbox",checked:n,disabled:a||r,"aria-label":"".concat(e.name," senaryosunu se\xe7"),onChange:t=>{t.stopPropagation(),a||r||(n?nt():x(e.id))}})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("b",{className:"scenario-name",title:e.name,children:e.name})}),(0,oa.jsx)("td",{children:e.academic_year}),(0,oa.jsx)("td",{children:l}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"status-badge ".concat(t.cls),title:t.help,children:t.label})}),(0,oa.jsx)("td",{style:{minWidth:160},children:I[e.id]&&!I[e.id].error?(0,oa.jsx)(el,{value:I[e.id].pct,tooltipLines:I[e.id].tooltipLines}):(0,oa.jsx)("span",{className:"small",children:z?"Hesaplan\u0131yor...":"-"})}),(0,oa.jsx)("td",{className:"small",children:new Date(e.created_at).toLocaleString()})]},e.id)})})]})})]}):(0,oa.jsx)("div",{className:"small muted",style:{marginTop:10},children:"Once okul secin."})]})]}),(0,oa.jsx)("div",{className:"row",style:{justifyContent:"flex-end",marginTop:12},children:(0,oa.jsx)("button",{className:"btn primary",onClick:()=>{if(!v||!b)return;Hl(v,b),$l(v);const e=function(){try{const e=window.localStorage.getItem("globalLastRouteSegment");return null!=e?e:null}catch(e){return null}}()||"temel-bilgiler";s("/schools/".concat(v,"/").concat(e),{replace:!0})},disabled:!v||!b,children:"Uygula"})})]})}function zs(){var e,t,n,i,a,l,s,o,c;const u=da(),d=Ce(),m=Ee(),[h,p]=(0,r.useState)(""),[f,y]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[b,x]=(0,r.useState)(null),[k,j]=(0,r.useState)(!1),[S,w]=(0,r.useState)([]),N=(0,r.useMemo)(()=>{var e,t;const n=Array.isArray(S)?S:[],i=null===(e=u.user)||void 0===e?void 0:e.principalSchoolIds;if("principal"===(null===(t=u.user)||void 0===t?void 0:t.role)&&Array.isArray(i)&&i.length>0){const e=new Set(i.map(e=>Number(e)));return n.filter(t=>e.has(Number(t.id)))}return n},[S,null===(e=u.user)||void 0===e?void 0:e.role,null===(t=u.user)||void 0===t?void 0:t.principalSchoolIds]),C=(0,r.useMemo)(()=>{var e;const t=Array.isArray(null===(e=u.user)||void 0===e?void 0:e.permissions)?u.user.permissions:[],n=new Map;t.forEach(e=>{const t=String(e.resource||""),i=String(e.action||"").toLowerCase(),r=null!=e.scope_school_id?Number(e.scope_school_id):null,a=null!=e.scope_country_id?Number(e.scope_country_id):null,l="".concat(t,"::").concat(null!==r&&void 0!==r?r:"null","::").concat(null!==a&&void 0!==a?a:"null");n.has(l)||n.set(l,{resource:t,scope_school_id:r,scope_country_id:a,read:!1,write:!1});const s=n.get(l);"read"===i&&(s.read=!0),"write"===i&&(s.write=!0)});const i=Array.from(n.values());return i.sort((e,t)=>{var n,i,r,a;if(e.resource!==t.resource)return e.resource.localeCompare(t.resource,"tr",{sensitivity:"base"});const l=null!==(n=e.scope_school_id)&&void 0!==n?n:-1,s=null!==(i=t.scope_school_id)&&void 0!==i?i:-1;if(l!==s)return l-s;return(null!==(r=e.scope_country_id)&&void 0!==r?r:-1)-(null!==(a=t.scope_country_id)&&void 0!==a?a:-1)}),i},[null===(n=u.user)||void 0===n?void 0:n.permissions]),T=(0,r.useMemo)(()=>{const e=new Map;return(Array.isArray(S)?S:[]).forEach(t=>{t&&null!=t.id&&e.set(Number(t.id),t.name)}),e},[S]);(0,r.useEffect)(()=>{document.title="Profile \xb7 Feasibility Studio"},[]),(0,r.useEffect)(()=>{if(null!==m&&void 0!==m&&m.setHeaderMeta)return m.setHeaderMeta({title:"Profil",subtitle:"\u015eifre ve hesap bilgileri",centered:!0}),()=>{var e;return null===(e=m.clearHeaderMeta)||void 0===e?void 0:e.call(m)}},[m]),(0,r.useEffect)(()=>{let e=!1;return async function(){try{const t=await sa.listSchools();!e&&Array.isArray(t)&&w(t)}catch(t){}}(),()=>{e=!0}},[]);const E=(0,r.useMemo)(()=>{var e;return Boolean(null===(e=u.user)||void 0===e?void 0:e.must_reset_password)},[null===(i=u.user)||void 0===i?void 0:i.must_reset_password]),A=e=>(0,oa.jsx)("span",{className:"perm-mark ".concat(e?"is-yes":"is-no"),role:"img","aria-label":e?"Allowed":"Not allowed",title:e?"Allowed":"Not allowed",children:e?(0,oa.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"perm-mark-icon",children:(0,oa.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,oa.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"perm-mark-icon",children:(0,oa.jsx)("path",{d:"M6 6l12 12M18 6l-12 12"})})});return(0,oa.jsxs)("div",{className:"container",children:[E?(0,oa.jsxs)("div",{className:"card",style:{marginTop:12,borderColor:"#f59e0b",background:"#fffbeb"},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"\u015eifre de\u011fi\u015ftirme gerekli"}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"Bu ilk giri\u015finiz. Devam etmek i\xe7in yeni bir \u015fifre belirleyin."})]}):null,b?(0,oa.jsx)("div",{className:"card",style:{marginTop:12,borderColor:"error"===b.type?"#fecaca":"#bbf7d0",background:"error"===b.type?"#fff1f2":"#f0fdf4"},children:b.message}):null,(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Hesap"}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("input",{className:"input",value:(null===(a=u.user)||void 0===a?void 0:a.full_name)||"",disabled:!0,placeholder:"Full name"}),(0,oa.jsx)("input",{className:"input",value:(null===(l=u.user)||void 0===l?void 0:l.email)||"",disabled:!0,placeholder:"Email"}),(0,oa.jsx)("input",{className:"input sm",value:(null===(s=u.user)||void 0===s?void 0:s.role)||"",disabled:!0,placeholder:"Role"})]})]}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Assignments"}),(0,oa.jsxs)("div",{className:"row",style:{marginBottom:8},children:[(0,oa.jsxs)("div",{style:{flex:1},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:600},children:"Country"}),(0,oa.jsx)("div",{children:(null===(o=u.user)||void 0===o?void 0:o.country_name)||(null===(c=u.user)||void 0===c?void 0:c.country_code)||"-"})]}),(0,oa.jsxs)("div",{style:{flex:2},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:600},children:"Responsible Schools"}),N&&N.length>0?(0,oa.jsx)("ul",{style:{margin:0,paddingLeft:16},children:N.map(e=>(0,oa.jsx)("li",{children:e.name},e.id))}):(0,oa.jsx)("div",{children:"-"})]})]})]}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Permissions"}),0===C.length?(0,oa.jsx)("div",{className:"small",children:"No permissions assigned."}):(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Resource"}),(0,oa.jsx)("th",{style:{textAlign:"center"},children:"Read"}),(0,oa.jsx)("th",{style:{textAlign:"center"},children:"Write"}),(0,oa.jsx)("th",{children:"Scope"})]})}),(0,oa.jsx)("tbody",{children:C.map((e,t)=>{const n=null!=e.scope_school_id?Number(e.scope_school_id):null,i=null!=e.scope_country_id?Number(e.scope_country_id):null;let r="Global";if(null!=n&&Number.isFinite(n)){const e=T.get(n);r=e?"School: ".concat(e):"School: #".concat(n)}else if(null!=i&&Number.isFinite(i)){var a,l;const e=(null===(a=u.user)||void 0===a?void 0:a.country_code)||(null===(l=u.user)||void 0===l?void 0:l.country_name)||"";r=e?"Country: ".concat(e):"Country: #".concat(i)}return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.resource}),(0,oa.jsx)("td",{style:{textAlign:"center"},children:A(e.read)}),(0,oa.jsx)("td",{style:{textAlign:"center"},children:A(e.write)}),(0,oa.jsx)("td",{children:r})]},"".concat(e.resource,"-").concat(null!==n&&void 0!==n?n:"global","-").concat(null!==i&&void 0!==i?i:"global","-").concat(t))})})]})]}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"\u015eifre De\u011fi\u015ftir"}),(0,oa.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),x(null),!h||!f)return void x({type:"error",message:"Current and new password are required."});if(f.length<8)return void x({type:"error",message:"New password must be at least 8 characters."});if(f!==v)return void x({type:"error",message:"New password and confirmation do not match."});j(!0);const t=E;try{const e=await sa.changePassword({currentPassword:h,newPassword:f});u.setSession(e),p(""),y(""),g(""),x({type:"success",message:"Password updated successfully."}),t&&d("/schools",{replace:!0})}catch(n){x({type:"error",message:n.message||"Password update failed."})}finally{j(!1)}},children:[(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("input",{className:"input",type:"password",placeholder:"Current password",value:h,onChange:e=>p(e.target.value)}),(0,oa.jsx)("input",{className:"input",type:"password",placeholder:"New password",value:f,onChange:e=>y(e.target.value)}),(0,oa.jsx)("input",{className:"input",type:"password",placeholder:"Confirm new password",value:v,onChange:e=>g(e.target.value)}),(0,oa.jsx)(fa,{type:"submit",variant:"primary",loading:k,children:"Update Password"})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:8},children:"En az 8 karakter kullan\u0131n. Bu i\u015flemi daha sonra herhangi bir zamanda de\u011fi\u015ftirebilirsiniz."})]})]})]})}const Us=[{key:"users",label:"Users",icon:Qa,path:"/users"},{key:"manage-permissions",label:"Manage Permissions",icon:$a,path:"/manage-permissions"},{key:"countries",label:"Countries",icon:function(e){return Na({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)},path:"/countries"},{key:"progress",label:"Progress Tracking",icon:function(e){return Na({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)},path:"/progress"},{key:"approvals",label:"\xc7al\u0131\u015fma Listeleri",icon:Ga,path:"/approvals"},{key:"reports",label:"Reports",icon:function(e){return Na({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)},path:"/reports"}];function Ys(){var e,t;const n=Se(),i=(r=n.search)&&new URLSearchParams(r).get("tab")||null;var r;const a=(null===(e=Us[0])||void 0===e?void 0:e.path)||"/users",l=(null===(t=Us.find(e=>e.key===i))||void 0===t?void 0:t.path)||a;return(0,oa.jsx)(qe,{to:l,replace:!0})}var Ks,Ws=n(950);const Hs=["y1","y2","y3"],Vs=["temel_bilgiler","kapasite","norm.ders_dagilimi","ik.local_staff","gelirler.unit_fee","giderler.isletme"],Gs={temel_bilgiler:"Temel Bilgiler",kapasite:"Kapasite","norm.ders_dagilimi":"Norm","ik.local_staff":"\u0130K","gelirler.unit_fee":"Gelirler","giderler.isletme":"Giderler"},qs=(null===(Ks=Us[0])||void 0===Ks?void 0:Ks.key)||"users",$s=e=>Us.some(t=>t.key===e),Xs=e=>{if(!e)return null;const t=new URLSearchParams(e).get("tab");return $s(t)?t:null},Qs=e=>{const t=Number(e);return Number.isFinite(t)?t.toLocaleString(void 0,{maximumFractionDigits:0}):"-"},Zs=e=>{const t=Number(e);return Number.isFinite(t)?(100*t).toLocaleString(void 0,{maximumFractionDigits:2})+"%":"-"},Js=e=>{if(!e)return"-";const t=new Date(e);return Number.isFinite(t.getTime())?t.toLocaleString():"-"},eo=["Magis Basari Bursu","Maarif Yetenek Bursu","Ihtiyac Bursu","Okul Basari Bursu","Tam Egitim Bursu","Barinma Bursu","Turkce Basari Bursu","Uluslararasi Yukumluluk Indirimi","Vakif Calisani Indirimi","Kardes Indirimi","Erken Kayit Indirimi","Pesin Odeme Indirimi","Kademe Gecis Indirimi","Temsil Indirimi","Kurum Indirimi","Istisnai Indirim","Yerel Mevzuat Indirimi"];function to(e){const t=Rl(),n=e&&"object"===typeof e?e:{},i=n.sections&&"object"===typeof n.sections?n.sections:{},r={version:t.version,sections:{}};return Object.keys(t.sections).forEach(e=>{const n=t.sections[e]||{},a=i[e]&&"object"===typeof i[e]?i[e]:{};r.sections[e]={enabled:"boolean"===typeof a.enabled?a.enabled:!1!==n.enabled,mode:"string"===typeof a.mode&&a.mode?a.mode:n.mode,min:null!=a.min?Number(a.min):n.min,selectedFields:a.selectedFields&&"object"===typeof a.selectedFields?a.selectedFields:{}}}),r}function no(){var e,t,n,i,a,l,s,o,c,u,d,h;let{forcedTab:p=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f=da(),y=Ee(),v=Se(),g=$s(p)?p:null,[b,x]=(0,r.useState)(()=>{if(g)return g;const e=Xs(v.search);if(e)return e;try{const e=localStorage.getItem("admin.activeTab");if($s(e))return e}catch(t){}return qs});(0,r.useEffect)(()=>{if(g)return;const e=Xs(v.search);e&&e!==b?x(e):e||b===qs||x(qs)},[v.search,b,g]),(0,r.useEffect)(()=>{g&&b!==g&&x(g)},[g,b]),(0,r.useEffect)(()=>{if(!g)try{localStorage.setItem("admin.activeTab",b)}catch(e){}},[b,g]);const[k,j]=(0,r.useState)([]),[S,w]=(0,r.useState)([]),[N,C]=(0,r.useState)(!1),[T,E]=(0,r.useState)(!1),[A,_]=(0,r.useState)(null),[P,M]=(0,r.useState)(null),[L,R]=(0,r.useState)(null),[O,F]=(0,r.useState)(null),[D,I]=(0,r.useState)(null),[B,z]=(0,r.useState)(""),[U,Y]=(0,r.useState)(""),[K,W]=(0,r.useState)(""),[H,V]=(0,r.useState)(""),[G,q]=(0,r.useState)(""),[$,X]=(0,r.useState)(""),[Q,Z]=(0,r.useState)("user"),[J,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)(""),[ie,re]=(0,r.useState)(""),[ae,le]=(0,r.useState)(!0),[se,oe]=(0,r.useState)(""),[ce,ue]=(0,r.useState)([]),[de,me]=(0,r.useState)(!1),[he,pe]=(0,r.useState)(""),[fe,ye]=(0,r.useState)(""),[ve,ge]=(0,r.useState)(!1),[be,xe]=(0,r.useState)(null),[ke,je]=(0,r.useState)({}),[we,Ne]=(0,r.useState)(""),[Ce,Te]=(0,r.useState)(null),[Ae,_e]=(0,r.useState)(!1),[Pe,Me]=(0,r.useState)(!1),[Le,Re]=(0,r.useState)(""),[Oe,Fe]=(0,r.useState)(()=>new Set),[De,Ie]=(0,r.useState)(""),[Be,ze]=(0,r.useState)(!1),[Ue,Ye]=(0,r.useState)({}),[Ke,We]=(0,r.useState)(new Set),[He,Ve]=(0,r.useState)(new Set),[Ge,qe]=(0,r.useState)([]),[$e,Xe]=(0,r.useState)(null),[Qe,Ze]=(0,r.useState)({}),[Je,et]=(0,r.useState)({}),[tt,nt]=(0,r.useState)(!1),[it,rt]=(0,r.useState)(!1),[at,lt]=(0,r.useState)([]),st=(0,r.useMemo)(()=>[{value:"user",label:"User"},{value:"principal",label:"Principal"},{value:"hr",label:"HR"},{value:"manager",label:"Manager"},{value:"accountant",label:"Accountant"},{value:"admin",label:"Admin"}],[]),[ot,ct]=(0,r.useState)(!1),[ut,dt]=(0,r.useState)({}),[mt,ht]=(0,r.useState)({}),[pt,ft]=(0,r.useState)({}),[yt,vt]=(0,r.useState)(!1),[gt,bt]=(0,r.useState)({status:"",academicYear:"",region:"",countryId:""}),[xt,kt]=(0,r.useState)({key:null,dir:null}),[jt,St]=(0,r.useState)(null),[wt,Nt]=(0,r.useState)(""),[Ct,Tt]=(0,r.useState)({y1:!0,y2:!0,y3:!0}),[Et,At]=(0,r.useState)(()=>{const e={};return Vs.forEach(t=>e[t]=!1),e}),_t=(0,r.useCallback)(()=>{const e={};Vs.forEach(t=>e[t]=!0),At(e)},[]),Pt=(0,r.useCallback)(()=>{const e={};Vs.forEach(t=>e[t]=!1),At(e)},[]),[Mt,Lt]=(0,r.useState)(!1),[Ot,Ft]=(0,r.useState)(""),[Dt,It]=(0,r.useState)(null),[Bt,zt]=(0,r.useState)(!1),[Ut,Yt]=(0,r.useState)(!1),Kt=(0,r.useRef)(null),[Wt,Ht]=(0,r.useState)(new Set),[Vt,Gt]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{document.title="Admin \xb7 Feasibility Studio"},[]),(0,r.useEffect)(()=>(null===y||void 0===y||y.setHeaderMeta({title:"Admin",subtitle:"Create users, manage countries, and review scenarios."}),()=>{var e;null===y||void 0===y||null===(e=y.clearHeaderMeta)||void 0===e||e.call(y)}),[y]);const qt=(0,r.useRef)(gt);(0,r.useEffect)(()=>{qt.current=gt},[gt]);const $t=(0,r.useMemo)(()=>S.find(e=>String(e.id)===String(te))||null,[S,te]),Xt=(0,r.useMemo)(()=>k.find(e=>String(e.id)===String(ie))||null,[k,ie]),Qt=(0,r.useMemo)(()=>k.find(e=>String(e.id)===String(se))||null,[k,se]);(0,r.useEffect)(()=>{"countries"===b&&Array.isArray(ce)&&0!==ce.length&&ce.forEach(e=>{const t=e.id;void 0===ut[t]&&(async()=>{try{const e=await sa.adminGetSchoolPrincipals(t);dt(n=>m(m({},n),{},{[t]:Array.isArray(e)?e:[]}));const n=Array.isArray(e)?e.map(e=>e.id):[];ht(e=>m(m({},e),{},{[t]:n}))}catch(Ib){console.error(Ib)}})()})},[b,ce,ut]),(0,r.useEffect)(()=>{const e=null===$t||void 0===$t?void 0:$t.id,t=null===$t||void 0===$t?void 0:$t.country_id;if(!e)return Xe(null),Ze({}),et({}),void lt([]);nt(!0),Promise.all([sa.adminGetPermissionsCatalog(),sa.adminGetUserPermissions(e),t?sa.adminListCountrySchools(t):Promise.resolve([])]).then(e=>{let[t,n,i]=e;Xe(t||null);let r=[];Array.isArray(i)?r=i:i&&Array.isArray(i.items)&&(r=i.items),lt(r);const a={},l={};(n||[]).forEach(e=>{const t="".concat(e.resource,"|").concat(e.action);a[t]=!0,null!=e.scope_school_id?l[t]="school:".concat(e.scope_school_id):l[t]="country"}),Ze(a),et(l)}).catch(e=>{console.error(e),Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to load permissions")}).finally(()=>{nt(!1)})},[$t]);const Zt=(0,r.useMemo)(()=>({discounts:eo.map(e=>({name:e,ratio:0,value:0}))}),[]),Jt=(0,r.useMemo)(()=>Ol({inputs:Zt,norm:null}),[Zt]),en=(0,r.useMemo)(()=>to(Ce),[Ce]),tn=$t&&Xt&&null!=$t.country_id&&String($t.country_id)===String(Xt.id),nn=$t?$t.country_name?"".concat($t.country_name," (").concat($t.country_code,")").concat($t.region?" - ".concat($t.region):""):"Unassigned":"Select a user",rn=Xt?"".concat(Xt.name," (").concat(Xt.code,")").concat(Xt.region?" - ".concat(Xt.region):""):"Select a country",an=null!=(null===$t||void 0===$t?void 0:$t.country_id)?"Update Country":"Assign Country",ln=(0,r.useMemo)(()=>ae?S.filter(e=>null==e.country_id):S,[S,ae]),sn=(0,r.useMemo)(()=>{const e=new Set;return k.forEach(t=>{t.region&&e.add(t.region)}),Array.from(e).sort()},[k]),on=(0,r.useMemo)(()=>$e?Array.isArray($e)||"object"!==typeof $e?Array.isArray($e)?$e.reduce((e,t)=>{const n=t.group||"Other";return e[n]||(e[n]=[]),e[n].push(t),e},{}):{}:$e:{},[$e]),cn=(0,r.useMemo)(()=>gt.region?k.filter(e=>e.region===gt.region):k,[k,gt.region]),un=(0,r.useCallback)(e=>{const t={academic_year:["desc","asc",null],country_name:["asc","desc",null],school_name:["asc","desc",null],scenario_name:["asc","desc",null],submitted_at:["desc","asc",null],status:["asc","desc",null]};kt(n=>{const i=t[e]||["asc","desc",null];if(n.key!==e)return{key:e,dir:i[0]};const r=i.indexOf(n.dir),a=i[(r+1)%i.length];return a?{key:e,dir:a}:{key:null,dir:null}})},[kt]),dn=(0,r.useCallback)(e=>xt.key===e&&xt.dir?"asc"===xt.dir?"\u25b2":"\u25bc":"",[xt]),mn=(0,r.useCallback)(e=>xt.key===e&&xt.dir?"asc"===xt.dir?"ascending":"descending":"none",[xt]),hn=(0,r.useMemo)(()=>{const e=Array.isArray(Ge)?Ge:[];if(null===xt||void 0===xt||!xt.key||null===xt||void 0===xt||!xt.dir)return e;const t=e=>{var t,n,i,r,a,l;switch(xt.key){case"country_name":return String((null===(t=e.country)||void 0===t?void 0:t.name)||"");case"school_name":return String((null===(n=e.school)||void 0===n?void 0:n.name)||"");case"scenario_name":return String((null===(i=e.scenario)||void 0===i?void 0:i.name)||"");case"academic_year":return(e=>{const t=String(e||"").trim(),n=t.match(/\d{4}/g)||[],i=n[0]?Number(n[0]):-1;return{a:i,b:n[1]?Number(n[1]):i,raw:t.toLowerCase()}})(null===(r=e.scenario)||void 0===r?void 0:r.academic_year);case"submitted_at":return null!==(a=e.scenario)&&void 0!==a&&a.submitted_at?new Date(e.scenario.submitted_at).getTime():-1/0;case"status":return String((null===(l=e.scenario)||void 0===l?void 0:l.status)||"");default:return""}},n="desc"===xt.dir?-1:1,i=(e,t)=>String(e||"").localeCompare(String(t||""),void 0,{sensitivity:"base"}),r=e.map((e,n)=>({row:e,idx:n,val:t(e)}));return r.sort((e,t)=>{let r=0;const a=e.val,l=t.val;var s,o,c,u;"academic_year"===xt.key?(r=(null!==(s=null===a||void 0===a?void 0:a.a)&&void 0!==s?s:-1)-(null!==(o=null===l||void 0===l?void 0:l.a)&&void 0!==o?o:-1),0===r&&(r=(null!==(c=null===a||void 0===a?void 0:a.b)&&void 0!==c?c:-1)-(null!==(u=null===l||void 0===l?void 0:l.b)&&void 0!==u?u:-1)),0===r&&(r=i(null===a||void 0===a?void 0:a.raw,null===l||void 0===l?void 0:l.raw))):r="number"===typeof a&&"number"===typeof l?a-l:i(a,l);return 0===r?e.idx-t.idx:r*n}),r.map(e=>e.row)},[Ge,xt]),pn=Le.trim().toLowerCase(),fn=(0,r.useMemo)(()=>{const e=De.trim().toLowerCase();return e?k.filter(t=>{const n=String(t.name||"").toLowerCase(),i=String(t.code||"").toLowerCase();return n.includes(e)||i.includes(e)}):k},[k,De]),yn=Oe.size,vn=!we||0===yn||Pe||Ae||Be,gn=(0,r.useMemo)(()=>{const e=he.trim().toLowerCase();return e?ce.filter(t=>String(t.name||"").toLowerCase().includes(e)):ce},[ce,he]),bn=(0,r.useCallback)(async()=>{C(!0);try{const[e,t]=await Promise.all([sa.listCountries(),sa.listUsers()]);j(e),w(t)}catch(Ib){Kr.error(Ib.message||"Failed to load admin data")}finally{C(!1)}},[]),xn=(0,r.useCallback)(async e=>{const t=Number(e);if(Number.isFinite(t)){me(!0);try{const e=await sa.adminListCountrySchools(t,{includeClosed:1});ue(Array.isArray(e)?e:[])}catch(Ib){Kr.error(Ib.message||"Failed to load schools")}finally{me(!1)}}else ue([])},[]),kn=(0,r.useCallback)(async e=>{const t=Number(e);if(Number.isFinite(t)){_e(!0);try{const e=await sa.adminGetProgressRequirements(t);Te(to((null===e||void 0===e?void 0:e.config)||e))}catch(Ib){Kr.error(Ib.message||"Failed to load progress requirements"),Te(to(null))}finally{_e(!1)}}else Te(null)},[]),jn=(0,r.useCallback)(async e=>{const t=e||qt.current||{};vt(!0);try{const e={status:t.status,academicYear:t.academicYear,region:t.region,countryId:t.countryId},n=await sa.adminGetScenarioQueue(e);qe(Array.isArray(n)?n:[])}catch(Ib){Kr.error(Ib.message||"Failed to load approvals queue")}finally{vt(!1)}},[]),Sn=(0,r.useCallback)(async e=>{const t=(null!==e&&void 0!==e?e:Ot).trim();if(t){zt(!0);try{const e=await sa.adminGetRollup({academicYear:t});It(e)}catch(Ib){Kr.error(Ib.message||"Failed to load rollup report")}finally{zt(!1)}}else Kr.error("Academic year is required")},[Ot]);async function wn(e){const t=function(){try{const n=["token","auth_token","jwt","access_token"];for(const i of n){var e,t;const n=null===(e=window)||void 0===e||null===(t=e.localStorage)||void 0===t?void 0:t.getItem(i);if(n)return String(n)}}catch(n){}return""}(),n=await fetch("/api/admin/users/".concat(e,"/reset-password"),{method:"POST",headers:m({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{}),body:JSON.stringify({})});let i={};try{i=await n.json()}catch(l){i={}}if(!n.ok){var r,a;const e=(null===(r=i)||void 0===r?void 0:r.error)||(null===(a=i)||void 0===a?void 0:a.details)||"Reset failed (".concat(n.status,")");throw new Error(e)}return i}(0,r.useEffect)(()=>{var e;"admin"===(null===(e=f.user)||void 0===e?void 0:e.role)&&bn()},[null===(e=f.user)||void 0===e?void 0:e.role,bn]),(0,r.useEffect)(()=>{var e;"approvals"===b&&"admin"===(null===(e=f.user)||void 0===e?void 0:e.role)&&jn()},[b,null===(t=f.user)||void 0===t?void 0:t.role,jn]),(0,r.useEffect)(()=>{"countries"===b&&(se?xn(se):ue([]))},[b,xn,se]),(0,r.useEffect)(()=>{"progress"===b&&(we?kn(we):Te(null))},[b,kn,we]),(0,r.useEffect)(()=>{Re(""),We(new Set),Ve(new Set)},[we]),(0,r.useEffect)(()=>{if(!Ut)return;const e=e=>{const t=Kt.current;t&&!t.contains(e.target)&&Yt(!1)},t=e=>{"Escape"===e.key&&Yt(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[Ut]),(0,r.useEffect)(()=>{if(null===Dt||void 0===Dt||!Dt.regions)return;const e=new Set,t=new Set;Dt.regions.forEach(n=>{e.add(n.region),n.countries.forEach(e=>{t.add("".concat(n.region,"::").concat(e.id))})}),Ht(e),Gt(t)},[Dt]),(0,r.useEffect)(()=>{if(!te)return void re("");const e=S.find(e=>String(e.id)===String(te));e&&null!=e.country_id?re(String(e.country_id)):re("")},[te,S]),(0,r.useEffect)(()=>{je({}),pe(""),ye("")},[se]);const Nn=(e,t)=>{Te(n=>{var i;const r=to(n),a=structuredClone(r),l=null===(i=a.sections)||void 0===i?void 0:i[e];return l?(t(l),a):r})},Cn=(e,t)=>{if(St({row:e,action:t}),Nt(""),Tt({y1:!0,y2:!0,y3:!0}),"revise"===t){const e={};Vs.forEach(t=>e[t]=!1),At(e)}},Tn=()=>{St(null),Nt(""),Tt({y1:!0,y2:!0,y3:!0});const e={};Vs.forEach(t=>e[t]=!1),At(e)},En=e=>{if(!e)return(0,oa.jsx)("div",{className:"kpi-mini kpi-mini-missing",children:"Missing KPIs"});const t=e.net_ciro?e.net_result/e.net_ciro:null;return(0,oa.jsxs)("div",{className:"kpi-mini",children:[(0,oa.jsxs)("div",{className:"kpi-mini-row",children:[(0,oa.jsx)("span",{className:"kpi-mini-label",children:"Net ciro"}),(0,oa.jsx)("span",{className:"kpi-mini-value",children:Qs(e.net_ciro)})]}),(0,oa.jsxs)("div",{className:"kpi-mini-row",children:[(0,oa.jsx)("span",{className:"kpi-mini-label",children:"Net result"}),(0,oa.jsx)("span",{className:"kpi-mini-value",children:Qs(e.net_result)})]}),(0,oa.jsxs)("div",{className:"kpi-mini-row",children:[(0,oa.jsx)("span",{className:"kpi-mini-label",children:"Margin"}),(0,oa.jsx)("span",{className:"kpi-mini-value",children:Zs(t)})]})]})},An=e=>e?(0,oa.jsxs)("div",{className:"rollup-year-cell",children:[(0,oa.jsxs)("div",{className:"rollup-metric",children:[(0,oa.jsx)("span",{className:"rollup-label",children:"Net ciro"}),(0,oa.jsx)("span",{className:"rollup-value",children:Qs(e.net_ciro)})]}),(0,oa.jsxs)("div",{className:"rollup-metric",children:[(0,oa.jsx)("span",{className:"rollup-label",children:"Net income"}),(0,oa.jsx)("span",{className:"rollup-value",children:Qs(e.net_income)})]}),(0,oa.jsxs)("div",{className:"rollup-metric",children:[(0,oa.jsx)("span",{className:"rollup-label",children:"Expenses"}),(0,oa.jsx)("span",{className:"rollup-value",children:Qs(e.total_expenses)})]}),(0,oa.jsxs)("div",{className:"rollup-metric",children:[(0,oa.jsx)("span",{className:"rollup-label",children:"Net result"}),(0,oa.jsx)("span",{className:"rollup-value",children:Qs(e.net_result)})]}),(0,oa.jsxs)("div",{className:"rollup-metric",children:[(0,oa.jsx)("span",{className:"rollup-label",children:"Margin"}),(0,oa.jsx)("span",{className:"rollup-value",children:Zs(e.profitMargin)})]}),(0,oa.jsxs)("div",{className:"rollup-metric",children:[(0,oa.jsx)("span",{className:"rollup-label",children:"Students"}),(0,oa.jsx)("span",{className:"rollup-value",children:Qs(e.students_total)})]})]}):(0,oa.jsx)("div",{className:"rollup-year-cell is-empty",children:"-"}),_n=()=>{if("approvals"!==b)if("progress"!==b){if("reports"!==b)return"countries"===b?(bn(),void(se&&xn(se))):void bn();Sn(Ot)}else we&&kn(we);else jn(gt)};if(!f.user)return(0,oa.jsx)("div",{className:"container",children:(0,oa.jsx)("div",{className:"card",children:"Loading..."})});if("admin"!==f.user.role)return(0,oa.jsx)("div",{className:"container",children:(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Admin only"}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"You do not have permission to view this page."}),(0,oa.jsx)("div",{style:{marginTop:10},children:(0,oa.jsx)(Rt,{to:"/schools",children:"Back to Schools"})})]})});const Pn=Bt||!Dt,Mn=N||yt||Bt||Ae,Ln=()=>(0,oa.jsx)("button",{className:"btn",onClick:_n,disabled:Mn,children:"Refresh"});return(0,oa.jsxs)(oa.Fragment,{children:[null!==y&&void 0!==y&&y.headerPortalEl?(0,Ws.createPortal)(Ln(),y.headerPortalEl):null,(0,oa.jsxs)("div",{className:"container",children:[!(null!==y&&void 0!==y&&y.headerPortalEl)&&(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:800,fontSize:20},children:"Admin"}),(0,oa.jsx)("div",{className:"small",children:"Create users, manage countries, and review scenarios."})]}),Ln()]}),(0,oa.jsx)(Jr,{position:"top-right",autoClose:3500,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0}),T?(0,oa.jsxs)("div",{className:"modal-backdrop",role:"status","aria-live":"polite","aria-busy":"true",children:[(0,oa.jsx)("style",{children:"@keyframes adminSpin{to{transform:rotate(360deg)}}"}),(0,oa.jsxs)("div",{className:"card",style:{width:"min(360px, 92vw)",padding:"16px",textAlign:"center"},children:[(0,oa.jsx)("div",{"aria-hidden":!0,style:{width:28,height:28,margin:"0 auto",borderRadius:"50%",border:"3px solid rgba(0,0,0,.15)",borderTopColor:"rgba(0,0,0,.75)",animation:"adminSpin .8s linear infinite"}}),(0,oa.jsx)("div",{style:{fontWeight:700,marginTop:10},children:"Updating user..."}),(0,oa.jsx)("div",{className:"small muted",style:{marginTop:6},children:"Please wait."})]})]}):null,A?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Confirm Change"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"Change ".concat(A.email," from ").concat(A.currentLabel," to ").concat(A.nextLabel,"?")}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end"},children:[(0,oa.jsx)("button",{className:"btn",onClick:()=>_(null),disabled:T,children:"Cancel"}),(0,oa.jsx)("button",{className:"btn primary",onClick:()=>{const e=A;_(null),async function(e){if(e&&!T){E(!0);try{await sa.assignUserCountry(e.userId,{countryId:e.nextId}),await bn(),Kr.success(e.hadCountry?"User country updated":"User assigned")}catch(Ib){Kr.error(Ib.message||"Assignment failed")}finally{E(!1)}}}(e)},disabled:T,children:T?"Updating...":"Confirm"})]})]})}):null,P?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Confirm Delete"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"Delete ".concat(P.label,"? This only works if the user has no related records.")}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end"},children:[(0,oa.jsx)("button",{className:"btn",onClick:()=>M(null),children:"Cancel"}),(0,oa.jsx)("button",{className:"btn danger",onClick:()=>{const e=P;M(null),async function(e){if(e)try{await sa.deleteUser(e.id),await bn(),Kr.success("User deleted")}catch(Ib){Kr.error(Ib.message||"Delete failed")}}(e)},children:"Delete"})]})]})}):null,D?(0,oa.jsxs)("div",{className:"modal-backdrop",role:"status","aria-live":"polite","aria-busy":"true",children:[(0,oa.jsx)("style",{children:"@keyframes adminSpin{to{transform:rotate(360deg)}}"}),(0,oa.jsxs)("div",{className:"card",style:{width:"min(360px, 92vw)",padding:"16px",textAlign:"center"},children:[(0,oa.jsx)("div",{"aria-hidden":!0,style:{width:28,height:28,margin:"0 auto",borderRadius:"50%",border:"3px solid rgba(0,0,0,.15)",borderTopColor:"rgba(0,0,0,.75)",animation:"adminSpin .8s linear infinite"}}),(0,oa.jsx)("div",{style:{fontWeight:700,marginTop:10},children:"Resetting password..."}),(0,oa.jsx)("div",{className:"small muted",style:{marginTop:6},children:"Please wait."})]})]}):null,L?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Reset Password"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"Generate a new temporary password for ".concat(L.email,"? The user will be forced to change it on next login.")}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end"},children:[(0,oa.jsx)("button",{className:"btn",onClick:()=>R(null),disabled:Boolean(D),children:"Cancel"}),(0,oa.jsx)("button",{className:"btn primary",onClick:()=>{const e=L;R(null),async function(e){if(null!==e&&void 0!==e&&e.id&&!D){I(e.id);try{const t=await wn(e.id);F({id:e.id,email:e.email,full_name:e.full_name||null,temporary_password:t.temporary_password}),await bn(),Kr.success("Temporary password generated")}catch(Ib){Kr.error(Ib.message||"Reset failed")}finally{I(null)}}}(e)},disabled:Boolean(D),children:"Confirm"})]})]})}):null,O?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",style:{maxWidth:560},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Temporary Password"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:10},children:"Share this password securely with the user. It will only be shown once here."}),(0,oa.jsxs)("div",{className:"card",style:{padding:12,background:"rgba(0,0,0,.03)"},children:[(0,oa.jsxs)("div",{className:"small",style:{marginBottom:6},children:["User: ",(0,oa.jsx)("strong",{children:O.email})]}),(0,oa.jsxs)("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between"},children:[(0,oa.jsx)("div",{style:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace",fontSize:18},children:O.temporary_password}),(0,oa.jsx)("button",{className:"btn",onClick:()=>async function(e){const t=String(e||"");if(t){try{return await navigator.clipboard.writeText(t),void Kr.success("Copied")}catch(n){}try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Kr.success("Copied")}catch(i){Kr.error("Copy failed")}}}(O.temporary_password),children:"Copy"})]})]}),(0,oa.jsx)("div",{className:"row",style:{justifyContent:"flex-end",marginTop:12},children:(0,oa.jsx)("button",{className:"btn primary",onClick:()=>F(null),children:"Done"})})]})}):null,jt?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"approve"===jt.action?"Approve Scenario":"Request Revision"}),(0,oa.jsxs)("div",{className:"small",style:{marginBottom:12},children:[null!==(n=jt.row)&&void 0!==n&&null!==(i=n.school)&&void 0!==i&&i.name?"".concat(jt.row.school.name," - "):"",(null===(a=jt.row)||void 0===a||null===(l=a.scenario)||void 0===l?void 0:l.name)||"Scenario"]}),"approve"===jt.action?(0,oa.jsxs)("div",{style:{marginBottom:10},children:[(0,oa.jsx)("div",{className:"small",style:{marginBottom:6},children:"Included years"}),(0,oa.jsx)("div",{className:"row",children:Hs.map(e=>(0,oa.jsxs)("label",{className:"small",style:{display:"inline-flex",gap:6},children:[(0,oa.jsx)("input",{type:"checkbox",checked:Ct[e],onChange:t=>Tt(n=>m(m({},n),{},{[e]:t.target.checked}))}),e.toUpperCase()]},e))})]}):null,"revise"===jt.action?(0,oa.jsxs)("div",{style:{marginBottom:10},children:[(0,oa.jsx)("div",{className:"small",style:{marginBottom:6},children:"Sadece se\xe7ilen mod\xfcller revizeye a\xe7\u0131lacak (editable)."}),(0,oa.jsxs)("div",{className:"row",style:{flexWrap:"wrap",gap:8},children:[Vs.map(e=>(0,oa.jsxs)("label",{className:"small",style:{display:"inline-flex",gap:6,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"checkbox",checked:Boolean(Et[e]),onChange:t=>At(n=>m(m({},n),{},{[e]:t.target.checked}))}),Gs[e]||e]},e)),(0,oa.jsx)("button",{type:"button",className:"btn sm",onClick:_t,children:"T\xfcm\xfcn\xfc se\xe7"}),(0,oa.jsx)("button",{type:"button",className:"btn sm",onClick:Pt,children:"Temizle"})]})]}):null,(0,oa.jsxs)("div",{style:{marginBottom:12},children:[(0,oa.jsxs)("div",{className:"small",style:{marginBottom:6},children:["Note ","revise"===jt.action?"(required)":"(optional)"]}),(0,oa.jsx)("textarea",{className:"input",style:{width:"100%",minHeight:90},value:wt,onChange:e=>Nt(e.target.value)})]}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end"},children:[(0,oa.jsx)("button",{className:"btn",onClick:Tn,children:"Cancel"}),(0,oa.jsx)("button",{className:"btn primary",onClick:async()=>{var e,t;if(null===jt||void 0===jt||null===(e=jt.row)||void 0===e||null===(t=e.scenario)||void 0===t||!t.id)return;const n=jt.action,i=wt.trim();if("revise"===n&&!i)return void Kr.error("Note is required for revision requests");const r={action:n,note:i||null};if("approve"===n){const e=Hs.filter(e=>Ct[e]);if(!e.length)return void Kr.error("Select at least one year");r.includedYears=e}else if("revise"===n){const e=Vs.filter(e=>Et[e]);if(!e.length)return void Kr.error("Select at least one module");r.revisionWorkIds=e}Lt(!0);try{await sa.adminReviewScenario(jt.row.scenario.id,r),Kr.success("approve"===n?"Scenario approved":"Revision requested"),Tn(),await jn()}catch(Ib){Kr.error(Ib.message||"Review failed")}finally{Lt(!1)}},disabled:Mt,children:Mt?"Saving...":"approve"===jt.action?"Approve":"Request Revision"})]})]})}):null,"users"===b&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:12},children:[(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Create User"}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("input",{className:"input",placeholder:"Full name",value:H,onChange:e=>V(e.target.value)}),(0,oa.jsx)("input",{className:"input",placeholder:"Email",value:G,onChange:e=>q(e.target.value)}),(0,oa.jsx)("input",{className:"input",placeholder:"Temporary password",type:"password",value:$,onChange:e=>X(e.target.value)}),(0,oa.jsxs)("select",{className:"input sm",value:Q,onChange:e=>Z(e.target.value),children:[(0,oa.jsx)("option",{value:"user",children:"User"}),(0,oa.jsx)("option",{value:"admin",children:"Admin"}),(0,oa.jsx)("option",{value:"principal",children:"Principal"}),(0,oa.jsx)("option",{value:"hr",children:"HR"}),(0,oa.jsx)("option",{value:"manager",children:"Manager"}),(0,oa.jsx)("option",{value:"accountant",children:"Accountant"})]}),(0,oa.jsxs)("select",{className:"input",value:J,onChange:e=>ee(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Assign country (optional)"}),k.map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")",e.region?" - ".concat(e.region):""]},e.id))]}),(0,oa.jsx)("button",{className:"btn primary",onClick:async function(){const e={fullName:H.trim()||null,email:G.trim(),password:$,role:Q};if(J){const t=Number(J);if(!Number.isFinite(t))return void Kr.error("Invalid country selection");e.countryId=t}if(e.email&&e.password)if(e.password.length<8)Kr.error("Password must be at least 8 characters");else try{await sa.createUser(e),V(""),q(""),X(""),Z("user"),ee(""),await bn(),Kr.success("User created (password reset required on first login)")}catch(Ib){Kr.error(Ib.message||"Create user failed")}else Kr.error("Email and password are required")},disabled:N,children:"Create"})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:8},children:"New users must reset their password on first login."})]}),(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Assign / Edit User Country"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:6},children:$t?"Editing: ".concat($t.email).concat($t.full_name?" (".concat($t.full_name,")"):""," #").concat($t.id):"Select a user to assign or edit."}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsxs)("select",{className:"input",value:te,onChange:e=>ne(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Select user"}),S.map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.email," ",e.full_name?"(".concat(e.full_name,")"):""," #",e.id]},e.id))]}),(0,oa.jsxs)("select",{className:"input",value:ie,onChange:e=>re(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Select country"}),k.map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.name," (",e.code,") - ",e.region]},e.id))]}),(0,oa.jsx)("button",{className:"btn primary",onClick:async function(){if(!$t)return void Kr.error("Select a user");if(!ie)return void Kr.error("Select a country");if(T)return;const e=Number(ie);if(Number.isFinite(e))if(tn)Kr.error("Selected country is already assigned to this user");else{if(null!=$t.country_id){const t=$t.country_name?"".concat($t.country_name," (").concat($t.country_code,")"):"Unassigned",n=Xt?"".concat(Xt.name," (").concat(Xt.code,")"):"#".concat(e);return void _({userId:$t.id,nextId:e,email:$t.email,currentLabel:t,nextLabel:n,hadCountry:!0})}E(!0);try{await sa.assignUserCountry(te,{countryId:e}),await bn(),Kr.success("User assigned")}catch(Ib){Kr.error(Ib.message||"Assignment failed")}finally{E(!1)}}else Kr.error("Invalid country selection")},disabled:N||T||!te||!ie||tn,children:T?"Updating...":an})]}),(0,oa.jsxs)("div",{className:"small",style:{marginTop:8},children:[(0,oa.jsxs)("div",{children:["Current: ",nn]}),(0,oa.jsxs)("div",{children:["New: ",rn]}),$t&&Xt&&null!=$t.country_id&&!tn?(0,oa.jsx)("div",{style:{color:"#b45309"},children:"You are changing this user's assignment."}):null,tn?(0,oa.jsx)("div",{style:{color:"#6b7280"},children:"Selected country matches current assignment."}):null,"Users must re-login after assignment to refresh their token."]})]})]}),(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Permissions"}),$t?tt?(0,oa.jsx)("div",{className:"small",children:"Loading permissions..."}):(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{style:{marginBottom:8},children:[(0,oa.jsx)("label",{className:"small",style:{marginRight:8},children:"Role:"}),(0,oa.jsx)("select",{className:"input sm",value:(null===$t||void 0===$t?void 0:$t.role)||"user",onChange:e=>async function(t){if($t){ct(!0);try{await sa.adminUpdateUserRole($t.id,{role:t}),await bn(),ne(String($t.id)),Kr.success("Role updated")}catch(e){Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to update role")}finally{ct(!1)}}}(e.target.value),disabled:ot,children:st.map(e=>(0,oa.jsx)("option",{value:e.value,children:e.label},e.value))})]}),0===Object.keys(on).length?(0,oa.jsx)("div",{className:"small",children:"No permissions defined."}):Object.entries(on).map(e=>{let[t,n]=e;return(0,oa.jsxs)("div",{style:{marginBottom:12},children:[(0,oa.jsx)("div",{style:{fontWeight:600,marginBottom:4},children:t}),n.map(e=>{const t="".concat(e.resource,"|").concat(e.action),n=Boolean(Qe[t]),i=Je[t]||"country";return(0,oa.jsxs)("div",{className:"row",style:{alignItems:"center",marginBottom:4},children:[(0,oa.jsxs)("label",{className:"small",style:{flexGrow:1,display:"flex",alignItems:"center",gap:6},children:[(0,oa.jsx)("input",{type:"checkbox",checked:n,onChange:()=>function(e){Ze(t=>{const n=m({},t);return n[e]=!t[e],n}),et(t=>Qe[e]||t[e]?t:m(m({},t),{},{[e]:"country"}))}(t)}),e.label]}),(0,oa.jsxs)("select",{className:"input sm",disabled:!n,value:i,onChange:e=>function(e,t){et(n=>m(m({},n),{},{[e]:t}))}(t,e.target.value),children:[(0,oa.jsx)("option",{value:"country",children:"Country"}),at&&at.map(e=>(0,oa.jsx)("option",{value:"school:".concat(e.id),children:e.name},e.id))]})]},t)})]},t)}),(0,oa.jsx)("div",{className:"row",style:{marginTop:8},children:(0,oa.jsx)("button",{className:"btn primary",onClick:async function(){if(!$t)return void Kr.error("Select a user to edit permissions");const e=[];Object.keys(Qe||{}).forEach(t=>{if(!Qe[t])return;const[n,i]=t.split("|");let r=Je[t]||"country",a=null,l=null;if("country"===r)null!=$t.country_id&&(a=Number($t.country_id));else if(r.startsWith("school:")){const e=r.split(":")[1],t=Number(e);Number.isFinite(t)&&(l=t),null!=$t.country_id&&(a=Number($t.country_id))}e.push({resource:n,action:i,scope_country_id:a,scope_school_id:l})}),rt(!0);try{await sa.adminSetUserPermissions($t.id,{permissions:e});const t=await sa.adminGetUserPermissions($t.id),n={},i={};(t||[]).forEach(e=>{const t="".concat(e.resource,"|").concat(e.action);n[t]=!0,null!=e.scope_school_id?i[t]="school:".concat(e.scope_school_id):i[t]="country"}),Ze(n),et(i),Kr.success("Permissions saved")}catch(Ib){Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"Save permissions failed")}finally{rt(!1)}},disabled:it,children:it?"Saving...":"Save Permissions"})})]}):(0,oa.jsx)("div",{className:"small",children:"Select a user above to edit permissions."})]}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Users"}),(0,oa.jsxs)("label",{className:"small",children:[(0,oa.jsx)("input",{type:"checkbox",checked:ae,onChange:e=>le(e.target.checked)})," ","Unassigned only"]})]}),(0,oa.jsxs)("table",{className:"table",style:{marginTop:8},children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"ID"}),(0,oa.jsx)("th",{children:"Name"}),(0,oa.jsx)("th",{children:"Email"}),(0,oa.jsx)("th",{children:"Role"}),(0,oa.jsx)("th",{children:"Reset"}),(0,oa.jsx)("th",{children:"Country"}),(0,oa.jsx)("th",{children:"Region"}),(0,oa.jsx)("th",{children:"Actions"})]})}),(0,oa.jsx)("tbody",{children:0===ln.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"8",className:"small",children:"No users found."})}):ln.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:e.id}),(0,oa.jsx)("td",{children:e.full_name||"-"}),(0,oa.jsx)("td",{children:e.email}),(0,oa.jsx)("td",{className:"small",children:e.role}),(0,oa.jsx)("td",{children:e.must_reset_password?(0,oa.jsx)("span",{className:"badge",children:"Yes"}):(0,oa.jsx)("span",{className:"small",children:"No"})}),(0,oa.jsx)("td",{children:e.country_name?(0,oa.jsxs)("span",{children:[e.country_name," (",e.country_code,")"]}):(0,oa.jsx)("span",{className:"badge",children:"Unassigned"})}),(0,oa.jsx)("td",{children:e.region||"-"}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("button",{className:"btn",onClick:()=>ne(String(e.id)),children:"Edit"}),(0,oa.jsx)("button",{className:"btn",onClick:()=>async function(e){null!==e&&void 0!==e&&e.id&&R({id:e.id,email:e.email,full_name:e.full_name||null})}(e),disabled:Boolean(D),children:"Reset password"}),(0,oa.jsx)("button",{className:"btn",onClick:()=>async function(e){if(!e||!e.id)return;const t=e.email||"User #".concat(e.id);M({id:e.id,label:t})}(e),children:"Delete"})]})})]},e.id))})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:8},children:"Delete is blocked if the user has created or updated records."})]})]}),"countries"===b&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Create Country"}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("input",{className:"input",placeholder:"Country name",value:B,onChange:e=>z(e.target.value)}),(0,oa.jsx)("input",{className:"input sm",placeholder:"Code",value:U,onChange:e=>Y(e.target.value.toUpperCase())}),(0,oa.jsx)("input",{className:"input",placeholder:"Region",value:K,onChange:e=>W(e.target.value)}),(0,oa.jsx)("button",{className:"btn primary",onClick:async function(){const e={name:B.trim(),code:U.trim().toUpperCase(),region:K.trim()};if(e.name&&e.code&&e.region)try{await sa.createCountry(e),z(""),Y(""),W(""),await bn(),Kr.success("Country created")}catch(Ib){Kr.error(Ib.message||"Create country failed")}else Kr.error("Name, code, and region are required")},disabled:N,children:"Create"})]})]}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Countries"}),(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"ID"}),(0,oa.jsx)("th",{children:"Name"}),(0,oa.jsx)("th",{children:"Code"}),(0,oa.jsx)("th",{children:"Region"})]})}),(0,oa.jsx)("tbody",{children:0===k.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"4",className:"small",children:"No countries yet."})}):k.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:e.id}),(0,oa.jsx)("td",{children:e.name}),(0,oa.jsx)("td",{className:"small",children:e.code}),(0,oa.jsx)("td",{children:e.region})]},e.id))})]})]}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Country Schools"}),(0,oa.jsxs)("div",{className:"row",style:{marginBottom:10},children:[(0,oa.jsxs)("select",{className:"input",value:se,onChange:e=>oe(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Select a country"}),k.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,oa.jsx)("input",{className:"input",placeholder:"Search schools",value:he,onChange:e=>pe(e.target.value),disabled:!se})]}),(0,oa.jsxs)("div",{className:"row",style:{marginBottom:10},children:[(0,oa.jsx)("input",{className:"input",placeholder:"New school name",value:fe,onChange:e=>ye(e.target.value),disabled:!se||ve}),(0,oa.jsx)("button",{className:"btn primary",onClick:async function(){if(!se)return void Kr.error("Select a country");const e=fe.trim();if(e){ge(!0);try{await sa.adminCreateCountrySchool(se,{name:e}),ye(""),await xn(se),Kr.success("School created")}catch(Ib){Kr.error(Ib.message||"Create school failed")}finally{ge(!1)}}else Kr.error("School name is required")},disabled:!se||ve,children:ve?"Creating...":"Create"})]}),Qt?(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Name"}),(0,oa.jsx)("th",{children:"Status"}),(0,oa.jsx)("th",{children:"Created At"}),(0,oa.jsx)("th",{children:"Closed At"}),(0,oa.jsx)("th",{children:"Principals"}),(0,oa.jsx)("th",{children:"Actions"})]})}),(0,oa.jsx)("tbody",{children:de?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"6",className:"small",children:"Loading..."})}):0===gn.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"6",className:"small",children:"No schools found."})}):gn.map(e=>{var t,n;const i="closed"===e.status?{label:"Closed",className:"is-muted"}:{label:"Active",className:"is-ok"};const r=null!==(t=null!==(n=ke[e.id])&&void 0!==n?n:e.name)&&void 0!==t?t:"",a=be===e.id;return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.name}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"status-badge ".concat(i.className),children:i.label})}),(0,oa.jsx)("td",{className:"small",children:Js(e.created_at)}),(0,oa.jsx)("td",{className:"small",children:Js(e.closed_at)}),(0,oa.jsx)("td",{children:Array.isArray(ut[e.id])&&ut[e.id].length>0?(0,oa.jsx)("span",{children:ut[e.id].map(e=>e.full_name||e.email).join(", ")}):(0,oa.jsx)("span",{className:"small muted",children:"-"})}),(0,oa.jsxs)("td",{children:[(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("input",{className:"input sm",value:r,onChange:t=>je(n=>m(m({},n),{},{[e.id]:t.target.value})),disabled:a}),(0,oa.jsx)("button",{className:"btn primary",onClick:()=>async function(e){if(null===e||void 0===e||!e.id)return;const t=ke[e.id],n=String(null!=t?t:e.name||"").trim();if(n){if(n!==e.name){xe(e.id);try{await sa.adminUpdateSchool(e.id,{name:n}),await xn(se),je(t=>m(m({},t),{},{[e.id]:n})),Kr.success("School updated")}catch(Ib){Kr.error(Ib.message||"Update failed")}finally{xe(null)}}}else Kr.error("Name is required")}(e),disabled:a,children:"Save"}),(0,oa.jsx)("button",{className:"btn",onClick:()=>async function(e){if(null===e||void 0===e||!e.id)return;const t="closed"===e.status?"active":"closed";xe(e.id);try{await sa.adminUpdateSchool(e.id,{status:t}),await xn(se),Kr.success("closed"===t?"School closed":"School reopened")}catch(Ib){Kr.error(Ib.message||"Update failed")}finally{xe(null)}}(e),disabled:a,children:"closed"===e.status?"Reopen":"Close"})]}),(0,oa.jsxs)("div",{className:"row",style:{marginTop:4},children:[(0,oa.jsx)("select",{multiple:!0,className:"input sm",value:(mt[e.id]||[]).map(String),onChange:t=>{const n=Array.from(t.target.selectedOptions||[]).map(e=>e.value);!function(e,t){const n=t.map(e=>Number(e)).filter(e=>Number.isFinite(e));ht(t=>m(m({},t),{},{[e]:n}))}(e.id,n)},children:S.filter(e=>"principal"===e.role).map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.email," ",e.full_name?"(".concat(e.full_name,")"):""," #",e.id]},e.id))}),(0,oa.jsx)("button",{className:"btn",onClick:()=>async function(e){const t=mt[e]||[];ft(t=>m(m({},t),{},{[e]:!0}));try{await sa.adminSetSchoolPrincipals(e,{userIds:t});const n=S.filter(e=>"principal"===e.role&&t.includes(e.id));dt(t=>m(m({},t),{},{[e]:n})),Kr.success("Principals updated")}catch(Ib){Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"Failed to update principals")}finally{ft(t=>m(m({},t),{},{[e]:!1}))}}(e.id),disabled:Boolean(pt[e.id]),children:pt[e.id]?"Saving...":"Save"})]})]})]},e.id)})})]}):(0,oa.jsx)("div",{className:"small",children:"Select a country to manage its schools."})]})]}),"progress"===b&&(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{className:"card",children:(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Progress Tracking"}),(0,oa.jsx)("div",{className:"small",children:"Configure per-field requirements by country."})]}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsxs)("select",{className:"input sm",value:we,onChange:e=>Ne(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Select country"}),k.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,oa.jsx)("input",{className:"input sm",placeholder:"Search fields",value:Le,onChange:e=>Re(e.target.value)}),(0,oa.jsx)("button",{className:"btn primary",onClick:async()=>{if(we){Me(!0);try{const e=await sa.adminSaveProgressRequirements(we,en);Te(to((null===e||void 0===e?void 0:e.config)||e)),Kr.success("Progress requirements saved")}catch(Ib){Kr.error(Ib.message||"Failed to save progress requirements")}finally{Me(!1)}}else Kr.error("Select a country")},disabled:!we||Pe||Ae,children:Pe?"Saving...":"Save"})]})]})}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Apply to multiple countries"}),(0,oa.jsxs)("div",{className:"row",style:{alignItems:"center",flexWrap:"wrap",marginBottom:10},children:[(0,oa.jsx)("input",{className:"input sm",placeholder:"Search countries",value:De,onChange:e=>Ie(e.target.value)}),(0,oa.jsx)("button",{className:"btn",onClick:()=>{Fe(e=>{const t=new Set(e);return fn.forEach(e=>{const n=Number(e.id);Number.isFinite(n)&&t.add(n)}),t})},disabled:0===fn.length||Be,children:"Select all"}),(0,oa.jsx)("button",{className:"btn",onClick:()=>{Fe(new Set)},disabled:0===yn||Be,children:"Clear"}),(0,oa.jsx)("button",{className:"btn primary",onClick:async()=>{const e=Array.from(Oe).map(e=>Number(e)).filter(e=>Number.isFinite(e)),t=Array.from(new Set(e));if(!t.length)return void Kr.error("Select at least one country");if(!we)return void Kr.error("Select a country to edit rules first");if(window.confirm("Apply this configuration to ".concat(t.length," countries? This will overwrite their current rules."))){ze(!0);try{const e=await sa.adminBulkSaveProgressRequirements(t,en),n=Number.isFinite(Number(null===e||void 0===e?void 0:e.updatedCount))?Number(e.updatedCount):t.length;Kr.success("Applied to ".concat(n," countries")),t.some(e=>String(e)===String(we))&&await kn(we)}catch(Ib){Kr.error(Ib.message||"Failed to apply progress requirements")}finally{ze(!1)}}},disabled:vn,children:Be?"Applying...":"Apply to Selected (".concat(yn,")")})]}),(0,oa.jsx)("div",{style:{border:"1px solid #e5e7eb",borderRadius:10,padding:10,background:"#fff",maxHeight:240,overflowY:"auto"},children:0===fn.length?(0,oa.jsx)("div",{className:"small",children:"No countries found."}):fn.map(e=>{const t=Number(e.id),n=Oe.has(t);return(0,oa.jsxs)("label",{style:{display:"flex",gap:8,alignItems:"center",padding:"6px 0"},children:[(0,oa.jsx)("input",{type:"checkbox",checked:n,onChange:()=>(e=>{const t=Number(e);Number.isFinite(t)&&Fe(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})})(t)}),(0,oa.jsx)("span",{children:e.name||"-"})]},e.id)})})]}),we?(0,oa.jsx)("div",{className:"card",style:{marginTop:12},children:Ae?(0,oa.jsx)("div",{className:"small",children:"Loading..."}):(0,oa.jsx)("div",{style:{display:"grid",gap:12},children:Jt.tabs.map(e=>{const t=Jt.sections.filter(t=>t.tabKey===e.key),n=t.filter(e=>{if(!pn)return!0;const t=String(e.label||"").toLowerCase().includes(pn),n=(e.fields||[]).map(e=>Jt.fieldsById[e]).filter(Boolean),i=n.some(e=>{const t=String(e.label||"").toLowerCase(),n=String(e.id||"").toLowerCase();return t.includes(pn)||n.includes(pn)});return t||i});if(!n.length)return null;const i=Ke.has(e.key)||Boolean(pn);return(0,oa.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>{return t=e.key,void We(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},children:i?"-":"+"}),(0,oa.jsx)("div",{style:{fontWeight:700},children:e.label})]}),(0,oa.jsxs)("div",{className:"small",children:[t.length," sections"]})]}),i?(0,oa.jsx)("div",{style:{display:"grid",gap:10,marginTop:10},children:n.map(e=>{var t;const n=(null===(t=en.sections)||void 0===t?void 0:t[e.id])||{},i=!1!==n.enabled,r=String(n.mode||e.modeDefault||"ALL").toUpperCase(),a=Number.isFinite(Number(n.min))&&Number(n.min)>0?Number(n.min):e.minDefault||1,l=(e.fields||[]).map(e=>Jt.fieldsById[e]).filter(Boolean),s=pn?l.filter(e=>{const t=String(e.label||"").toLowerCase(),n=String(e.id||"").toLowerCase();return t.includes(pn)||n.includes(pn)}):l;if(!s.length&&pn)return null;const o=He.has(e.id)||Boolean(pn),c=(pn?s:l).map(e=>e.id),u=l.filter(e=>{var t;return!1!==(null===(t=n.selectedFields)||void 0===t?void 0:t[e.id])}).length,d=l.length,h=Boolean(Ue[e.id]),p=h?s.filter(e=>{var t;return!1!==(null===(t=n.selectedFields)||void 0===t?void 0:t[e.id])}):s,f="MIN"===r?a:null,y="MIN"===r&&f>u,v="ALL"===r?"\u2705 Rule: Must complete ALL selected fields (".concat(u," selected)"):y?"\u26a0\ufe0f MIN (".concat(f,") is greater than selected (").concat(u,"). It will behave like ALL."):"\u2705 Rule: Must complete AT LEAST ".concat(f," of ").concat(u," selected fields"),g="MIN"===r?f:u;return(0,oa.jsxs)("div",{style:{borderTop:"1px solid #eef2f7",paddingTop:10},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>{return t=e.id,void Ve(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},children:o?"-":"+"}),(0,oa.jsx)("div",{style:{fontWeight:700},children:e.label}),(0,oa.jsx)("span",{className:"status-badge ".concat(i?"is-ok":"is-muted"),children:i?"Enabled":"Disabled"}),(0,oa.jsxs)("span",{className:"small",children:[u,"/",l.length||0," selected"]})]}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsxs)("label",{className:"small",children:[(0,oa.jsx)("input",{type:"checkbox",checked:h,onChange:()=>Ye(t=>m(m({},t),{},{[e.id]:!(null!==t&&void 0!==t&&t[e.id])}))})," ","Show only selected"]}),(0,oa.jsxs)("label",{className:"small",children:[(0,oa.jsx)("input",{type:"checkbox",checked:i,onChange:t=>{return n=e.id,i=t.target.checked,void Nn(n,e=>{e.enabled=!!i});var n,i}})," ","Enabled"]}),(0,oa.jsxs)("select",{className:"input xs",value:r,onChange:t=>{return n=e.id,i=t.target.value,void Nn(n,e=>{e.mode=i});var n,i},children:[(0,oa.jsx)("option",{value:"ALL",children:"ALL"}),(0,oa.jsx)("option",{value:"MIN",children:"MIN"})]}),"MIN"===r?(0,oa.jsx)("input",{className:"input xs",type:"number",min:"1",value:a,onChange:t=>((e,t)=>{const n=Number(t);Nn(e,e=>{e.min=Number.isFinite(n)?Math.max(1,n):1})})(e.id,t.target.value)}):null,(0,oa.jsx)("button",{className:"btn",onClick:()=>{return t=e.id,n=c,void Nn(t,e=>{e.selectedFields||(e.selectedFields={}),n.forEach(t=>{e.selectedFields&&delete e.selectedFields[t]})});var t,n},disabled:!c.length,children:"Select all"}),(0,oa.jsx)("button",{className:"btn",onClick:()=>{return t=e.id,n=c,void Nn(t,e=>{e.selectedFields||(e.selectedFields={}),n.forEach(t=>{e.selectedFields&&(e.selectedFields[t]=!1)})});var t,n},disabled:!c.length,children:"Unselect all"})]})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:v}),(0,oa.jsxs)("div",{className:"small",style:{marginTop:4,color:"#6b7280"},children:["Selected: ",u,"/",d," \xb7 Mode: ",r," \xb7 Required: ",g]}),o?(0,oa.jsx)("div",{style:{marginTop:8},children:p.length?(0,oa.jsx)("div",{className:"grid2",style:{gap:8},children:p.map(t=>{var r;const a=!1!==(null===(r=n.selectedFields)||void 0===r?void 0:r[t.id]),l=((e,t)=>{if(!t)return null;const n=String(t.id||""),i=String(t.label||"");return"gradesPlan.plan"===e&&(n.startsWith("gradesPlan.")||i.includes("Plan "))?"grade":"ik.localStaff"===e&&n.startsWith("ik.headcount.")||"gelirler.unitFee"===e&&n.startsWith("gelirler.tuition.")?"type":null})(e.id,t);return(0,oa.jsxs)("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,oa.jsxs)("span",{style:{display:"inline-flex",gap:8,alignItems:"center"},children:[(0,oa.jsx)("input",{type:"checkbox",checked:a,onChange:n=>((e,t,n)=>{Nn(e,e=>{e.selectedFields||(e.selectedFields={}),n?delete e.selectedFields[t]:e.selectedFields[t]=!1})})(e.id,t.id,n.target.checked),disabled:!i}),(0,oa.jsx)("span",{children:t.label||t.id})]}),l?(0,oa.jsxs)("span",{style:{padding:"2px 8px",borderRadius:999,background:"#eef2f7",color:"#374151",fontSize:11,lineHeight:1.4,whiteSpace:"nowrap"},children:["Dynamic: ",l]}):null]},t.id)})}):(0,oa.jsx)("div",{className:"small",children:"No fields available for this section."})}):null]},e.id)})}):null]},e.key)})})}):(0,oa.jsx)("div",{className:"card",style:{marginTop:12},children:(0,oa.jsx)("div",{className:"small",children:"Select a country to edit progress rules."})})]}),"approvals"===b&&(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"flex-end"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"\xc7al\u0131\u015fma Listeleri"}),(0,oa.jsx)("div",{className:"small",children:"Review submitted scenarios and approve for rollups."})]}),(0,oa.jsxs)("div",{className:"row admin-filter-row",children:[(0,oa.jsxs)("select",{className:"input sm",value:gt.status,onChange:e=>bt(t=>m(m({},t),{},{status:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"All"}),(0,oa.jsx)("option",{value:"sent_for_approval",children:"Sent for approval"}),(0,oa.jsx)("option",{value:"approved",children:"Approved"}),(0,oa.jsx)("option",{value:"revision_requested",children:"Revision requested"}),(0,oa.jsx)("option",{value:"draft",children:"Draft"})]}),(0,oa.jsx)("input",{className:"input sm",placeholder:"Academic year",value:gt.academicYear,onChange:e=>bt(t=>m(m({},t),{},{academicYear:e.target.value}))}),(0,oa.jsxs)("select",{className:"input sm",value:gt.region,onChange:e=>bt(t=>m(m({},t),{},{region:e.target.value,countryId:""})),children:[(0,oa.jsx)("option",{value:"",children:"All regions"}),sn.map(e=>(0,oa.jsx)("option",{value:e,children:e},e))]}),(0,oa.jsxs)("select",{className:"input sm",value:gt.countryId,onChange:e=>bt(t=>m(m({},t),{},{countryId:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"All countries"}),cn.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,oa.jsx)("button",{className:"btn",onClick:()=>jn(gt),disabled:yt,children:"Apply"})]})]}),(0,oa.jsxs)("table",{className:"table admin-approvals-table",style:{marginTop:12},children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{"aria-sort":mn("country_name"),children:(0,oa.jsxs)("button",{type:"button",onClick:()=>un("country_name"),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",padding:0,cursor:"pointer",font:"inherit"},title:"Sort",children:["\xdclke ",(0,oa.jsx)("span",{"aria-hidden":!0,children:dn("country_name")})]})}),(0,oa.jsx)("th",{"aria-sort":mn("school_name"),children:(0,oa.jsxs)("button",{type:"button",onClick:()=>un("school_name"),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",padding:0,cursor:"pointer",font:"inherit"},title:"Sort",children:["School ",(0,oa.jsx)("span",{"aria-hidden":!0,children:dn("school_name")})]})}),(0,oa.jsx)("th",{"aria-sort":mn("scenario_name"),children:(0,oa.jsxs)("button",{type:"button",onClick:()=>un("scenario_name"),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",padding:0,cursor:"pointer",font:"inherit"},title:"Sort",children:["Scenario ",(0,oa.jsx)("span",{"aria-hidden":!0,children:dn("scenario_name")})]})}),(0,oa.jsx)("th",{"aria-sort":mn("academic_year"),children:(0,oa.jsxs)("button",{type:"button",onClick:()=>un("academic_year"),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",padding:0,cursor:"pointer",font:"inherit"},title:"Sort",children:["Academic Year ",(0,oa.jsx)("span",{"aria-hidden":!0,children:dn("academic_year")})]})}),(0,oa.jsx)("th",{"aria-sort":mn("submitted_at"),children:(0,oa.jsxs)("button",{type:"button",onClick:()=>un("submitted_at"),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",padding:0,cursor:"pointer",font:"inherit"},title:"Sort",children:["Submitted ",(0,oa.jsx)("span",{"aria-hidden":!0,children:dn("submitted_at")})]})}),(0,oa.jsx)("th",{"aria-sort":mn("status"),children:(0,oa.jsxs)("button",{type:"button",onClick:()=>un("status"),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",padding:0,cursor:"pointer",font:"inherit"},title:"Sort",children:["Status ",(0,oa.jsx)("span",{"aria-hidden":!0,children:dn("status")})]})}),(0,oa.jsx)("th",{children:"Progress"}),(0,oa.jsx)("th",{children:"Y1 KPIs"}),(0,oa.jsx)("th",{children:"Y2 KPIs"}),(0,oa.jsx)("th",{children:"Y3 KPIs"}),(0,oa.jsx)("th",{children:"Actions"})]})}),(0,oa.jsx)("tbody",{children:yt?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"11",className:"small",children:"Loading..."})}):0===hn.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"11",className:"small",children:"No scenarios found."})}):hn.map(e=>{var t,n,i,r,a,l,s,o,c,u,d,m,h,p,f,y,v,g,b,x,k;const j=(e=>{const t=e&&"object"===typeof e?e:{status:e},n=t.status,i=t.sent_at;switch(n){case"revision_requested":return{label:"Revize istendi",className:"is-bad"};case"sent_for_approval":return{label:"Merkeze iletildi",className:"is-warn"};case"approved":return i?{label:"Onayland\u0131",className:"is-ok"}:{label:"Kontrol edildi",className:"is-ok"};case"in_review":return{label:"\u0130ncelemede",className:"is-warn"};case"submitted":return{label:"Onayda",className:"is-warn"};default:return{label:"Taslak",className:"is-muted"}}})(e.scenario),S="sent_for_approval"===(null===(t=e.scenario)||void 0===t?void 0:t.status)||"submitted"===(null===(n=e.scenario)||void 0===n?void 0:n.status),w=["sent_for_approval","approved","submitted"].includes(null===(i=e.scenario)||void 0===i?void 0:i.status),N=(null===(r=e.missingKpis)||void 0===r?void 0:r.y1)||(null===(a=e.missingKpis)||void 0===a?void 0:a.y2)||(null===(l=e.missingKpis)||void 0===l?void 0:l.y3),C=Number.isFinite(Number(null===(s=e.scenario)||void 0===s?void 0:s.progress_pct))?Math.round(Number(e.scenario.progress_pct)):null,T=null===(o=e.scenario)||void 0===o||null===(c=o.progress_json)||void 0===c?void 0:c.missingDetailsLines,E=null==C?[]:Array.isArray(T)&&T.length?["Eksik:",...T]:["Tum tablar tamamlandi"];return(0,oa.jsxs)("tr",{children:[(0,oa.jsxs)("td",{children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:(null===(h=e.country)||void 0===h?void 0:h.name)||"-"}),null!==(p=e.country)&&void 0!==p&&p.region?(0,oa.jsx)("div",{className:"small",children:e.country.region}):null]}),(0,oa.jsx)("td",{children:(0,oa.jsx)("div",{style:{fontWeight:700},children:(null===(f=e.school)||void 0===f?void 0:f.name)||"-"})}),(0,oa.jsxs)("td",{children:[(0,oa.jsx)("div",{children:(null===(y=e.scenario)||void 0===y?void 0:y.name)||"-"}),N?(0,oa.jsx)("span",{className:"status-badge is-bad",children:"Missing KPIs"}):null]}),(0,oa.jsx)("td",{className:"small",children:(null===(v=e.scenario)||void 0===v?void 0:v.academic_year)||"-"}),(0,oa.jsx)("td",{className:"small",children:Js(null===(g=e.scenario)||void 0===g?void 0:g.submitted_at)}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"status-badge ".concat(j.className),children:j.label})}),(0,oa.jsx)("td",{children:null==C?(0,oa.jsx)("span",{className:"small",children:"-"}):(0,oa.jsx)(Ja,{lines:E,children:(0,oa.jsxs)("span",{className:"badge",children:[C,"%"]})})}),(0,oa.jsx)("td",{children:En(null===(b=e.kpis)||void 0===b?void 0:b.y1)}),(0,oa.jsx)("td",{children:En(null===(x=e.kpis)||void 0===x?void 0:x.y2)}),(0,oa.jsx)("td",{children:En(null===(k=e.kpis)||void 0===k?void 0:k.y3)}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("button",{className:"btn primary",onClick:()=>Cn(e,"approve"),disabled:!S||Mt,children:"Onayla"}),(0,oa.jsx)("button",{className:"btn",onClick:()=>Cn(e,"revise"),disabled:!w||Mt,children:"Revizyon \u0130ste"})]})})]},(null===(u=e.scenario)||void 0===u?void 0:u.id)||"".concat(null===(d=e.school)||void 0===d?void 0:d.id,"-").concat(null===(m=e.scenario)||void 0===m?void 0:m.name))})})]})]}),"reports"===b&&(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{className:"card",children:(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Rollup Reports"}),(0,oa.jsx)("div",{className:"small",children:"Approved scenarios only. Select an academic year."})]}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsx)("input",{className:"input sm",placeholder:"Academic year",value:Ot,onChange:e=>Ft(e.target.value)}),(0,oa.jsx)("button",{className:"btn",onClick:()=>Sn(Ot),disabled:Bt,children:Bt?"Loading...":"Load"}),(0,oa.jsxs)("div",{className:"action-menu",ref:Kt,children:[(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>{Pn||Yt(e=>!e)},disabled:Pn,"aria-haspopup":"menu","aria-expanded":Ut,children:"Export"}),Ut?(0,oa.jsxs)("div",{className:"action-menu-panel",role:"menu",children:[(0,oa.jsxs)("button",{type:"button",className:"action-menu-item",onClick:()=>{Yt(!1)},disabled:!0,title:"Excel export coming soon",role:"menuitem",children:["Excel (.xlsx)"," (coming soon)"]}),(0,oa.jsx)("button",{type:"button",className:"action-menu-item",disabled:!0,role:"menuitem",children:"PDF (coming soon)"})]}):null]})]})]})}),Dt?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Consolidated KPIs"}),(0,oa.jsx)("div",{className:"admin-kpi-strip",style:{marginTop:10},children:Hs.map(e=>{var t,n,i,r,a,l,s,o,c,u,d,m;return(0,oa.jsxs)("div",{className:"admin-kpi-year",children:[(0,oa.jsx)("div",{className:"admin-kpi-year-title",children:e.toUpperCase()}),(0,oa.jsxs)("div",{className:"admin-kpi-grid",children:[(0,oa.jsxs)("div",{className:"admin-kpi",children:[(0,oa.jsx)("div",{className:"admin-kpi-label",children:"Net ciro"}),(0,oa.jsx)("div",{className:"admin-kpi-value",children:Qs(null===(t=Dt.totals)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.net_ciro)})]}),(0,oa.jsxs)("div",{className:"admin-kpi",children:[(0,oa.jsx)("div",{className:"admin-kpi-label",children:"Net income"}),(0,oa.jsx)("div",{className:"admin-kpi-value",children:Qs(null===(i=Dt.totals)||void 0===i||null===(r=i[e])||void 0===r?void 0:r.net_income)})]}),(0,oa.jsxs)("div",{className:"admin-kpi",children:[(0,oa.jsx)("div",{className:"admin-kpi-label",children:"Expenses"}),(0,oa.jsx)("div",{className:"admin-kpi-value",children:Qs(null===(a=Dt.totals)||void 0===a||null===(l=a[e])||void 0===l?void 0:l.total_expenses)})]}),(0,oa.jsxs)("div",{className:"admin-kpi",children:[(0,oa.jsx)("div",{className:"admin-kpi-label",children:"Net result"}),(0,oa.jsx)("div",{className:"admin-kpi-value",children:Qs(null===(s=Dt.totals)||void 0===s||null===(o=s[e])||void 0===o?void 0:o.net_result)})]}),(0,oa.jsxs)("div",{className:"admin-kpi",children:[(0,oa.jsx)("div",{className:"admin-kpi-label",children:"Margin"}),(0,oa.jsx)("div",{className:"admin-kpi-value",children:Zs(null===(c=Dt.totals)||void 0===c||null===(u=c[e])||void 0===u?void 0:u.profitMargin)})]}),(0,oa.jsxs)("div",{className:"admin-kpi",children:[(0,oa.jsx)("div",{className:"admin-kpi-label",children:"Students"}),(0,oa.jsx)("div",{className:"admin-kpi-value",children:Qs(null===(d=Dt.totals)||void 0===d||null===(m=d[e])||void 0===m?void 0:m.students_total)})]})]})]},e)})})]}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Rollup Tree"}),(0,oa.jsx)("div",{className:"small",style:{marginTop:4},children:"Only approved scenarios are consolidated. Excluded years show as blank."}),(0,oa.jsx)("div",{className:"rollup-table-wrap",style:{marginTop:10},children:(0,oa.jsxs)("table",{className:"table rollup-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{style:{minWidth:220},children:"Unit"}),(0,oa.jsx)("th",{style:{minWidth:220},children:"Y1"}),(0,oa.jsx)("th",{style:{minWidth:220},children:"Y2"}),(0,oa.jsx)("th",{style:{minWidth:220},children:"Y3"})]})}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{className:"rollup-row rollup-total",children:[(0,oa.jsx)("td",{className:"rollup-name",children:"Totals"}),(0,oa.jsx)("td",{children:An(null===(s=Dt.totals)||void 0===s?void 0:s.y1)}),(0,oa.jsx)("td",{children:An(null===(o=Dt.totals)||void 0===o?void 0:o.y2)}),(0,oa.jsx)("td",{children:An(null===(c=Dt.totals)||void 0===c?void 0:c.y3)})]}),null===(u=Dt.regions)||void 0===u?void 0:u.map(e=>{var t,n,i,a;const l=e.region||"Unknown",s=Wt.has(l);return(0,oa.jsxs)(r.Fragment,{children:[(0,oa.jsxs)("tr",{className:"rollup-row rollup-region",children:[(0,oa.jsxs)("td",{className:"rollup-name",children:[(0,oa.jsx)("button",{type:"button",className:"tree-toggle",onClick:()=>(e=>{Ht(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})})(l),"aria-label":"Toggle region",children:s?"-":"+"}),(0,oa.jsx)("span",{className:"rollup-title",children:e.region||"Unknown region"})]}),(0,oa.jsx)("td",{children:An(null===(t=e.years)||void 0===t?void 0:t.y1)}),(0,oa.jsx)("td",{children:An(null===(n=e.years)||void 0===n?void 0:n.y2)}),(0,oa.jsx)("td",{children:An(null===(i=e.years)||void 0===i?void 0:i.y3)})]}),s?null===(a=e.countries)||void 0===a?void 0:a.map(e=>{var t,n,i,a;const s="".concat(l,"::").concat(e.id),o=Vt.has(s);return(0,oa.jsxs)(r.Fragment,{children:[(0,oa.jsxs)("tr",{className:"rollup-row rollup-country",children:[(0,oa.jsxs)("td",{className:"rollup-name level-1",children:[(0,oa.jsx)("button",{type:"button",className:"tree-toggle",onClick:()=>((e,t)=>{const n="".concat(e,"::").concat(t);Gt(e=>{const t=new Set(e);return t.has(n)?t.delete(n):t.add(n),t})})(l,e.id),"aria-label":"Toggle country",children:o?"-":"+"}),(0,oa.jsx)("span",{className:"rollup-title",children:e.name})]}),(0,oa.jsx)("td",{children:An(null===(t=e.years)||void 0===t?void 0:t.y1)}),(0,oa.jsx)("td",{children:An(null===(n=e.years)||void 0===n?void 0:n.y2)}),(0,oa.jsx)("td",{children:An(null===(i=e.years)||void 0===i?void 0:i.y3)})]}),o?null===(a=e.schools)||void 0===a?void 0:a.map(e=>{var t,n,i,r;return(0,oa.jsxs)("tr",{className:"rollup-row rollup-school",children:[(0,oa.jsxs)("td",{className:"rollup-name level-2",children:[e.name,null!==(t=e.included_years)&&void 0!==t&&t.length?(0,oa.jsxs)("span",{className:"rollup-sub",children:["(",e.included_years.join(", "),")"]}):null]}),(0,oa.jsx)("td",{children:An(null===(n=e.years)||void 0===n?void 0:n.y1)}),(0,oa.jsx)("td",{children:An(null===(i=e.years)||void 0===i?void 0:i.y2)}),(0,oa.jsx)("td",{children:An(null===(r=e.years)||void 0===r?void 0:r.y3)})]},"school-".concat(e.id))}):null]},s)}):null]},"region-".concat(l))})]})]})})]}),null!==(d=Dt.missingNoApproved)&&void 0!==d&&d.length?(0,oa.jsxs)("div",{className:"card admin-alert",style:{marginTop:12},children:[(0,oa.jsx)("div",{className:"admin-alert-title",children:"Schools without an approved scenario"}),(0,oa.jsx)("ul",{children:Dt.missingNoApproved.map(e=>(0,oa.jsxs)("li",{children:[e.name," (",e.country_name,")"]},"missing-".concat(e.id)))})]}):null,null!==(h=Dt.missingKpis)&&void 0!==h&&h.length?(0,oa.jsxs)("div",{className:"card admin-alert",style:{marginTop:12},children:[(0,oa.jsx)("div",{className:"admin-alert-title",children:"Approved scenarios missing KPI snapshots"}),(0,oa.jsx)("ul",{children:Dt.missingKpis.map(e=>(0,oa.jsxs)("li",{children:["Scenario #",e.scenario_id," (School #",e.school_id,") - missing ",e.missingYears.join(", ")]},"missing-kpi-".concat(e.scenario_id)))})]}):null]}):(0,oa.jsx)("div",{className:"card",style:{marginTop:12},children:(0,oa.jsx)("div",{className:"small",children:"Select an academic year to view the rollup report."})})]})]})]})}function io(){return(0,oa.jsx)(no,{forcedTab:"users"})}function ro(){return(0,oa.jsx)(no,{forcedTab:"countries"})}function ao(){return(0,oa.jsx)(no,{forcedTab:"progress"})}function lo(){return(0,oa.jsx)(no,{forcedTab:"approvals"})}function so(){return(0,oa.jsx)(no,{forcedTab:"reports"})}const oo=["Temel Bilgiler","Kapasite","Norm","\u0130K (HR)","Gelirler","Giderler"],co={"Norm \u0130K (HR)":["Norm","\u0130K (HR)"]},uo={principal:"Principal",hr:"HR",accountant:"Accountant"},mo=[{value:"principal",label:"Principal"},{value:"hr",label:"HR"}],ho=e=>{if(!Array.isArray(e))return[];const t=[];return e.forEach(e=>{const n=String(e||"").trim();if(!n)return;const i=co[n];i?t.push(...i):t.push(n)}),Array.from(new Set(t))},po=e=>Array.isArray(e)?e.map(e=>{var t;return{userId:Number(null!==(t=null===e||void 0===e?void 0:e.userId)&&void 0!==t?t:null===e||void 0===e?void 0:e.user_id),role:String((null===e||void 0===e?void 0:e.role)||"").trim().toLowerCase(),modules:ho(null===e||void 0===e?void 0:e.modules)}}).filter(e=>Number.isFinite(e.userId)&&e.userId>0&&("principal"===e.role||"hr"===e.role||"accountant"===e.role)):[];function fo(){const e=Ee(),t=(0,r.useRef)({}),[n,i]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[s,o]=(0,r.useState)({}),c=(0,r.useRef)({}),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!1),[v,g]=(0,r.useState)({}),[b,x]=(0,r.useState)(null),[k,j]=(0,r.useState)("assignments"),[S,w]=(0,r.useState)(""),[N,C]=(0,r.useState)("principal"),[T,E]=(0,r.useState)(""),[A,_]=(0,r.useState)(""),[P,M]=(0,r.useState)(""),[L,R]=(0,r.useState)("principal"),[O,F]=(0,r.useState)(""),[D,I]=(0,r.useState)(!1),[B,z]=(0,r.useState)(""),[U,Y]=(0,r.useState)(!1),[K,W]=(0,r.useState)({}),[H,V]=(0,r.useState)({}),[G,q]=(0,r.useState)({}),[$,X]=(0,r.useState)({}),[Q,Z]=(0,r.useState)({});(0,r.useEffect)(()=>{var t;return null===e||void 0===e||null===(t=e.setHeaderMeta)||void 0===t||t.call(e,{title:"Manage Permissions",subtitle:"Assign users to schools and create new users",centered:!0}),()=>{var t;null===e||void 0===e||null===(t=e.clearHeaderMeta)||void 0===t||t.call(e)}},[e]);const J=(0,r.useCallback)(e=>Array.isArray(e)?e:e&&Array.isArray(e.items)?e.items:[],[]),ee=(0,r.useCallback)(async()=>{d(!0);try{const e=await sa.managerListUsers();i(Array.isArray(e)?e:[])}catch(e){console.error(e),Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to load users")}finally{d(!1)}},[]),te=(0,r.useCallback)(async()=>{p(!0);try{const e=await sa.listSchools();l(J(e))}catch(e){console.error(e),Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to load schools"),l([])}finally{p(!1)}},[J]),ne=(0,r.useCallback)(async e=>{if(Array.isArray(e)&&0!==e.length){y(!0);try{const t=await Promise.allSettled(e.map(e=>sa.managerGetSchoolAssignments(e.id))),n={};let i=!1;t.forEach((t,r)=>{var a;const l=null===(a=e[r])||void 0===a?void 0:a.id;null!=l&&("fulfilled"===t.status?n[String(l)]=po(t.value):(i=!0,n[String(l)]=[]))}),i&&Kr.error("Failed to load some school assignments"),o(n)}catch(t){console.error(t),Kr.error((null===t||void 0===t?void 0:t.message)||"Failed to load school assignments"),o({})}finally{y(!1)}}else o({})},[]);(0,r.useEffect)(()=>{ee(),te()},[ee,te]),(0,r.useEffect)(()=>{c.current=s},[s]),(0,r.useEffect)(()=>{0!==a.length?ne(a):o({})},[a,ne]),(0,r.useEffect)(()=>{b&&(a.some(e=>String(e.id)===String(b))||x(null))},[a,b]),(0,r.useEffect)(()=>{w("")},[b]);const ie=(0,r.useMemo)(()=>a.find(e=>String(e.id)===String(b))||null,[a,b]),re=(0,r.useMemo)(()=>ie&&s[String(ie.id)]||[],[s,ie]),ae=!!ie&&Boolean(v[String(ie.id)]),le=e=>n.find(t=>Number(t.id)===Number(e))||null,se=e=>(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)||(null!=(null===e||void 0===e?void 0:e.id)?"User ".concat(e.id):"Unknown"),oe=e=>{const t=new Set;return(e||[]).forEach(e=>{(e.modules||[]).forEach(e=>t.add(e))}),oo.filter(e=>!t.has(e))},ce=(0,r.useCallback)(async(e,n,i)=>{if(!e)return;const r=String(e),a=(t.current[r]||0)+1;t.current[r]=a,g(e=>m(m({},e),{},{[r]:!0}));try{const i=(l=n,(Array.isArray(l)?l:[]).map(e=>({userId:e.userId,role:e.role,modules:ho(e.modules)}))),s=await sa.managerSetSchoolAssignments(e,{assignments:i});if(t.current[r]!==a)return;const c=Array.isArray(s)?s:(null===s||void 0===s?void 0:s.assignments)||i,u=po(c);o(e=>m(m({},e),{},{[r]:u}))}catch(s){if(console.error(s),t.current[r]!==a)return;o(e=>m(m({},e),{},{[r]:i})),Kr.error((null===s||void 0===s?void 0:s.message)||"Failed to save assignments")}finally{t.current[r]===a&&g(e=>{const t=m({},e);return delete t[r],t})}var l},[]),ue=(0,r.useCallback)((e,t)=>{if(!e)return;const n=String(e),i=Array.isArray(c.current[n])?c.current[n]:[],r=t(i);r!==i&&(o(e=>m(m({},e),{},{[n]:r})),ce(e,r,i))},[ce]),de=(0,r.useMemo)(()=>{if(!ie)return[];const e=new Set(re.map(e=>e.userId));return n.filter(t=>!e.has(t.id))},[re,ie,n]),me=(0,r.useMemo)(()=>S&&n.find(e=>String(e.id)===String(S))||null,[S,n]),he="accountant"===(null===me||void 0===me?void 0:me.role);(0,r.useEffect)(()=>{me&&("accountant"===me.role&&"accountant"!==N?C("accountant"):"accountant"!==me.role&&"accountant"===N&&C("principal"))},[me,N]);const pe=(0,r.useMemo)(()=>["user","principal","hr"],[]);return(0,oa.jsx)("div",{className:"permissions-page",children:(0,oa.jsxs)("div",{className:"container permissions-page-content",style:{padding:"1rem"},children:[(0,oa.jsx)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:(0,oa.jsxs)("div",{className:"access-hub-tabs",children:[(0,oa.jsx)("div",{className:"access-hub-tab ".concat("assignments"===k?"is-active":""),onClick:()=>{j("assignments"),x(null)},children:"School assignments"}),(0,oa.jsx)("div",{className:"access-hub-tab ".concat("createUser"===k?"is-active":""),onClick:()=>{j("createUser"),x(null)},children:"Create user"}),(0,oa.jsx)("div",{className:"access-hub-tab ".concat("createSchool"===k?"is-active":""),onClick:()=>{j("createSchool"),x(null)},children:"Create school"})]})}),"assignments"===k&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{className:"school-assignments-page",style:{paddingTop:24},children:[(0,oa.jsx)("div",{className:"school-assignments-header",children:(0,oa.jsxs)("div",{children:[(0,oa.jsx)("h2",{children:"School assignments"}),(0,oa.jsx)("p",{children:"Assign principals, HR users, and module responsibility by school."})]})}),(0,oa.jsx)("div",{className:"school-assignments-table-wrap",children:(0,oa.jsxs)("table",{className:"table school-assignments-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"School"}),(0,oa.jsx)("th",{children:"Principals"}),(0,oa.jsx)("th",{children:"HR Users"}),(0,oa.jsx)("th",{children:"Accountants"}),(0,oa.jsx)("th",{children:"Missing Modules"})]})}),(0,oa.jsx)("tbody",{children:h?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:5,children:"Loading schools..."})}):0===a.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:5,children:"No schools found."})}):a.map(e=>{const t=String(e.id),n=s[t],i=Array.isArray(n),r=i?n.filter(e=>"principal"===e.role).map(e=>se(le(e.userId))):[],a=i?n.filter(e=>"hr"===e.role).map(e=>se(le(e.userId))):[],l=i?n.filter(e=>"accountant"===e.role).map(e=>se(le(e.userId))):[],o=i?oe(n):[];return(0,oa.jsxs)("tr",{className:"school-assignments-row",onClick:()=>x(e.id),children:[(0,oa.jsx)("td",{children:(0,oa.jsx)("div",{className:"school-assignments-name",children:e.name})}),(0,oa.jsx)("td",{children:i?r.length>0?r.join(", "):"None":f?"Loading...":"None"}),(0,oa.jsx)("td",{children:i?a.length>0?a.join(", "):"None":f?"Loading...":"None"}),(0,oa.jsx)("td",{children:i?l.length>0?l.join(", "):"None":f?"Loading...":"None"}),(0,oa.jsx)("td",{className:"school-assignments-missing",children:i?o.length>0?o.join(", "):"None":f?"Loading...":"None"})]},e.id)})})]})})]}),(0,oa.jsx)("div",{className:"school-assignments-overlay ".concat(ie?"is-open":""),onClick:()=>x(null),role:"button","aria-label":"Close school assignments",tabIndex:-1}),(0,oa.jsxs)("aside",{className:"school-assignments-drawer ".concat(ie?"is-open":""),children:[(0,oa.jsxs)("div",{className:"school-assignments-drawer-header",children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"school-assignments-drawer-title",children:"School assignments"}),(0,oa.jsx)("div",{className:"school-assignments-drawer-subtitle",children:ie?ie.name:"Select a school"})]}),(0,oa.jsx)("button",{className:"btn school-assignments-close",onClick:()=>x(null),"aria-label":"Close drawer",type:"button",children:"\xd7"})]}),(0,oa.jsx)("div",{className:"school-assignments-drawer-body",children:ie?Array.isArray(s[String(ie.id)])?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"school-assignments-section-title",children:"Assigned users"}),0===re.length?(0,oa.jsx)("div",{className:"school-assignments-empty",children:"No users assigned yet."}):re.map(e=>{const t=le(e.userId),n=oo.length>0&&oo.every(t=>(e.modules||[]).includes(t));return(0,oa.jsxs)("div",{className:"school-assignments-card",children:[(0,oa.jsxs)("div",{className:"school-assignments-card-header",children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"school-assignments-card-name",children:se(t)}),(0,oa.jsx)("div",{className:"school-assignments-card-role",children:uo[e.role]||e.role})]}),(0,oa.jsx)("button",{className:"btn btn-sm danger",onClick:()=>{return t=ie.id,n=e.userId,void ue(t,e=>e.filter(e=>e.userId!==n));var t,n},type:"button",disabled:ae,children:"Remove"})]}),(0,oa.jsxs)("div",{className:"school-assignments-modules",children:[(0,oa.jsxs)("label",{className:"school-assignments-module-item",children:[(0,oa.jsx)("input",{type:"checkbox",checked:n,onChange:t=>{return n=ie.id,i=e.userId,r=e.role,a=t.target.checked,void ue(n,e=>e.map(e=>e.userId!==i||e.role!==r?e:m(m({},e),{},{modules:a?[...oo]:[]})));var n,i,r,a},disabled:ae}),(0,oa.jsx)("span",{children:"Select all"})]}),oo.map(t=>(0,oa.jsxs)("label",{className:"school-assignments-module-item",children:[(0,oa.jsx)("input",{type:"checkbox",checked:(e.modules||[]).includes(t),onChange:()=>((e,t,n,i)=>{ue(e,e=>e.map(e=>{if(e.userId!==t||e.role!==n)return e;const r=Array.isArray(e.modules)?e.modules:[],a=r.includes(i)?r.filter(e=>e!==i):[...r,i];return m(m({},e),{},{modules:a})}))})(ie.id,e.userId,e.role,t),disabled:ae}),(0,oa.jsx)("span",{children:t})]},t))]})]},e.userId)}),(0,oa.jsx)("div",{className:"school-assignments-section-title",children:"Add user"}),(0,oa.jsxs)("div",{className:"school-assignments-add-card",children:[(0,oa.jsxs)("div",{className:"school-assignments-add-row",children:[(0,oa.jsxs)("select",{className:"input",value:S,onChange:e=>w(e.target.value),disabled:0===de.length||ae||u,children:[(0,oa.jsx)("option",{value:"",children:"Select user"}),de.map(e=>(0,oa.jsx)("option",{value:e.id,children:se(e)},e.id))]}),(0,oa.jsx)("select",{className:"input",value:N,onChange:e=>C(e.target.value),disabled:ae||he,children:(he?[{value:"accountant",label:"Accountant"}]:mo).map(e=>(0,oa.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,oa.jsx)("button",{className:"btn primary",onClick:()=>{if(!ie||!S)return;const e=Number(S);if(!Number.isFinite(e))return;const t="accountant"===(null===me||void 0===me?void 0:me.role)?"accountant":N;ue(ie.id,n=>n.some(t=>t.userId===e)?n:[...n,{userId:e,role:t,modules:[]}]),w("")},disabled:!S||ae,type:"button",children:"Add"})]}),!u&&0===de.length&&(0,oa.jsx)("div",{className:"small",children:"All users are already assigned."}),u&&(0,oa.jsx)("div",{className:"small",children:"Loading users..."})]}),(0,oa.jsxs)("div",{className:"school-assignments-missing-line",children:[(0,oa.jsx)("span",{className:"school-assignments-missing-label",children:"Missing modules:"})," ",oe(re).length>0?oe(re).join(", "):"None",ae&&(0,oa.jsx)("span",{className:"small",children:"Saving..."})]})]}):(0,oa.jsx)("div",{className:"school-assignments-empty",children:"Loading assignments..."}):(0,oa.jsx)("div",{className:"school-assignments-empty",children:"Select a school to start editing."})})]})]}),"createUser"===k&&(0,oa.jsxs)("div",{className:"access-hub-grid",style:{marginTop:16},children:[(0,oa.jsxs)("div",{className:"left-pane",children:[(0,oa.jsx)("div",{style:{marginBottom:12,fontWeight:700},children:"Create a new user"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"Fill out the form to create a new Principal or HR user. You can optionally assign the user to a school in your country."})]}),(0,oa.jsxs)("div",{className:"right-pane",children:[(0,oa.jsxs)("form",{onSubmit:async e=>{var t;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e);const n=A.trim();if(n&&P)if(P.length<8)Kr.error("Password must be at least 8 characters");else if(["principal","hr"].includes(L)){I(!0);try{const e={full_name:T?T.trim():null,email:n,password:P,role:L},t=await sa.managerCreateUser(e);Kr.success("User created"),await ee();const i=O;if(i){const e=null===t||void 0===t?void 0:t.id;if(e){const t=String(i),n=Array.isArray(c.current[t])?c.current[t]:[],r=[...n,{userId:e,role:L,modules:[]}];ce(i,r,n)}}E(""),_(""),M(""),R("principal"),F("")}catch(i){console.error(i),Kr.error((null===i||void 0===i?void 0:i.message)||"Failed to create user")}finally{I(!1)}}else Kr.error("Role must be Principal or HR");else Kr.error("Email and password are required")},className:"create-user-form",children:[(0,oa.jsxs)("div",{className:"row",style:{flexDirection:"column",gap:8,marginBottom:12},children:[(0,oa.jsx)("input",{className:"input full",placeholder:"Full name",value:T,onChange:e=>E(e.target.value)}),(0,oa.jsx)("input",{className:"input full",placeholder:"Email",type:"email",value:A,onChange:e=>_(e.target.value)}),(0,oa.jsx)("input",{className:"input full",placeholder:"Temporary password",type:"password",value:P,onChange:e=>M(e.target.value)}),(0,oa.jsxs)("select",{className:"input full",value:L,onChange:e=>R(e.target.value),children:[(0,oa.jsx)("option",{value:"principal",children:"Principal"}),(0,oa.jsx)("option",{value:"hr",children:"HR"})]}),(0,oa.jsxs)("select",{className:"input full",value:O,onChange:e=>F(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Unassigned to school"}),a.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,oa.jsx)("div",{className:"row",style:{justifyContent:"flex-end",gap:8},children:(0,oa.jsx)("button",{type:"submit",className:"btn primary",disabled:D,children:D?"Creating...":"Create user"})})]}),(0,oa.jsxs)("div",{className:"user-management-section",children:[(0,oa.jsx)("div",{className:"user-management-title",children:"Users in your country"}),u?(0,oa.jsx)("div",{className:"small",children:"Loading users..."}):0===n.length?(0,oa.jsx)("div",{className:"small",children:"No users found."}):(0,oa.jsxs)("div",{className:"user-management-list",children:[(0,oa.jsxs)("div",{className:"user-management-header",children:[(0,oa.jsx)("div",{children:"User"}),(0,oa.jsx)("div",{children:"Email"}),(0,oa.jsx)("div",{children:"Role"}),(0,oa.jsx)("div",{children:"Actions"})]}),n.map(e=>{var t,n,i,r;const a=e.id,l=null!==(t=null!==(n=H[a])&&void 0!==n?n:e.email)&&void 0!==t?t:"",s=null!==(i=null!==(r=K[a])&&void 0!==r?r:e.role)&&void 0!==i?i:"user",o=pe.includes(e.role),c=Boolean(G[a]),u=Boolean($[a]);return(0,oa.jsxs)("div",{className:"user-management-row",children:[(0,oa.jsxs)("div",{className:"user-management-name",children:[(0,oa.jsx)("div",{children:se(e)}),(0,oa.jsx)("div",{className:"small",children:e.email})]}),(0,oa.jsx)("div",{children:(0,oa.jsx)("input",{className:"input full",value:l,onChange:e=>((e,t)=>{V(n=>m(m({},n),{},{[e]:t}))})(a,e.target.value),disabled:c})}),(0,oa.jsx)("div",{children:o?(0,oa.jsxs)("select",{className:"input full",value:s,onChange:e=>((e,t)=>{W(n=>m(m({},n),{},{[e]:t}))})(a,e.target.value),disabled:c,children:[(0,oa.jsx)("option",{value:"user",children:"User"}),(0,oa.jsx)("option",{value:"principal",children:"Principal"}),(0,oa.jsx)("option",{value:"hr",children:"HR"})]}):(0,oa.jsx)("div",{className:"user-management-role",children:e.role})}),(0,oa.jsxs)("div",{className:"user-management-actions",children:[(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>(async e=>{var t,n,i,r;if(!e)return;const a=e.id,l=String(null!==(t=null!==(n=H[a])&&void 0!==n?n:e.email)&&void 0!==t?t:"").trim(),s=String(null!==(i=null!==(r=K[a])&&void 0!==r?r:e.role)&&void 0!==i?i:"").trim().toLowerCase(),o=pe.includes(e.role)||pe.includes(s),c=[];if(l&&l!==e.email&&c.push(()=>sa.managerUpdateUserEmail(a,{email:l})),o&&s&&s!==e.role&&c.push(()=>sa.managerUpdateUserRole(a,{role:s})),0!==c.length){q(e=>m(m({},e),{},{[a]:!0}));try{for(const e of c)await e();Kr.success("User updated"),await ee(),W(e=>{const t=m({},e);return delete t[a],t}),V(e=>{const t=m({},e);return delete t[a],t})}catch(u){console.error(u),Kr.error((null===u||void 0===u?void 0:u.message)||"Failed to update user")}finally{q(e=>{const t=m({},e);return delete t[a],t})}}else Kr.info("No changes to save")})(e),disabled:c,children:c?"Saving...":"Save"}),(0,oa.jsx)("button",{type:"button",className:"btn",onClick:()=>(async e=>{if(!e)return;const t=e.id;X(e=>m(m({},e),{},{[t]:!0}));try{const e=await sa.managerResetUserPassword(t),n=null===e||void 0===e?void 0:e.temporary_password;n&&Z(e=>m(m({},e),{},{[t]:n})),Kr.success("Temporary password generated")}catch(n){console.error(n),Kr.error((null===n||void 0===n?void 0:n.message)||"Failed to reset password")}finally{X(e=>{const n=m({},e);return delete n[t],n})}})(e),disabled:u,children:u?"Resetting...":"Reset password"})]}),Q[a]&&(0,oa.jsxs)("div",{className:"user-management-temp",children:["Temporary password:"," ",(0,oa.jsx)("span",{className:"user-management-temp-value",children:Q[a]})]})]},a)})]})]})]})]}),"createSchool"===k&&(0,oa.jsxs)("div",{className:"access-hub-grid",style:{marginTop:16},children:[(0,oa.jsxs)("div",{className:"left-pane",children:[(0,oa.jsx)("div",{style:{marginBottom:12,fontWeight:700},children:"Create a new school"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"Add a school in your country to start assigning users and modules."})]}),(0,oa.jsx)("div",{className:"right-pane",children:(0,oa.jsxs)("form",{onSubmit:async e=>{var t;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e);const n=B.trim();if(n){Y(!0);try{await sa.createSchool({name:n}),Kr.success("School created"),z(""),await te()}catch(i){console.error(i),Kr.error((null===i||void 0===i?void 0:i.message)||"Failed to create school")}finally{Y(!1)}}else Kr.error("School name is required")},className:"create-school-form",children:[(0,oa.jsx)("div",{className:"row",style:{flexDirection:"column",gap:8,marginBottom:12},children:(0,oa.jsx)("input",{className:"input full",placeholder:"School name",value:B,onChange:e=>z(e.target.value)})}),(0,oa.jsx)("div",{className:"row",style:{justifyContent:"flex-end",gap:8},children:(0,oa.jsx)("button",{type:"submit",className:"btn primary",disabled:U,children:U?"Creating...":"Create school"})})]})})]})]})})}const yo=e=>(0,oa.jsx)("span",{className:"perm-mark ".concat(e?"is-yes":"is-no"),children:e?(0,oa.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"perm-mark-icon",children:(0,oa.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,oa.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"perm-mark-icon",children:(0,oa.jsx)("path",{d:"M6 6l12 12M18 6l-12 12"})})});function vo(e){let{permissionsGrouped:t={},permissionSelections:n={},permissionScopes:i={},userSchools:a=[],isAdmin:l=!1,onTogglePermission:s,onToggleGroup:o,onScopeChange:c,defaultCollapsed:u=!1}=e;const[d,h]=(0,r.useState)(""),[p,f]=(0,r.useState)(()=>{if(!u)return{};const e=Object.keys(t||{});return 0===e.length?{}:e.reduce((e,t)=>(e[t]=!0,e),{})});(0,r.useEffect)(()=>{if(!u)return;const e=Object.keys(t||{});0!==e.length&&f(t=>{let n=!1;const i=m({},t);return e.forEach(e=>{null==i[e]&&(i[e]=!0,n=!0)}),n?i:t})},[u,t]);const y=(0,r.useMemo)(()=>{const e={};return Object.entries(t||{}).forEach(t=>{let[n,i]=t;const r=new Map;i.forEach(e=>{if(!l&&"page.manage_permissions"===e.resource)return;const t=String(e.resource||"");var n;t&&(r.has(t)||r.set(t,{resource:t,label:(n=e.label||t,String(n||"").replace(/\s*(?:-|\u2013)\s*(View|Edit)\s*$/i,"")),readKey:"".concat(t,"|read"),writeKey:"".concat(t,"|write")}))});const a=Array.from(r.values());a.sort((e,t)=>e.label.localeCompare(t.label,"en",{sensitivity:"base"})),e[n]=a}),e},[t,l]);if(!t||0===Object.keys(t).length)return(0,oa.jsx)("div",{children:"No permissions defined."});return(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{style:{marginBottom:12},children:(0,oa.jsx)("input",{className:"input sm",placeholder:"Search permissions\u2026",value:d,onChange:e=>{h(e.target.value)}})}),Object.entries(t).map(e=>{let[t,r]=e;const u=y[t]||[];if(0===u.length)return null;const h=r.filter(e=>!!l||"page.manage_permissions"!==e.resource).map(e=>"".concat(e.resource,"|").concat(e.action)),v=h.filter(e=>n[e]).length,g=h.length>0&&v===h.length,b=v>0&&!g,x=u.filter(e=>{if(!d)return!0;const t=d.trim().toLowerCase();return(e.label||"").toLowerCase().includes(t)||(e.resource||"").toLowerCase().includes(t)}),k=p[t];return(0,oa.jsxs)("div",{style:{marginBottom:12},children:[(0,oa.jsxs)("div",{className:"row",style:{alignItems:"center",marginBottom:6},children:[(0,oa.jsx)("input",{type:"checkbox",checked:g,ref:e=>{e&&(e.indeterminate=b)},onChange:()=>null===o||void 0===o?void 0:o(h,!g)}),(0,oa.jsxs)("div",{style:{fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:6},onClick:()=>(e=>{f(t=>m(m({},t),{},{[e]:!t[e]}))})(t),children:[t,(0,oa.jsxs)("span",{style:{fontWeight:400,fontSize:12,color:"#6b7280"},children:["(",v,"/",h.length," enabled)"]}),(0,oa.jsx)("span",{style:{fontSize:10},children:k?"\u25b6":"\u25bc"})]})]}),!k&&x.length>0&&(0,oa.jsxs)("table",{className:"table permissions-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Permission"}),(0,oa.jsx)("th",{style:{textAlign:"center"},children:"Read"}),(0,oa.jsx)("th",{style:{textAlign:"center"},children:"Write"}),(0,oa.jsx)("th",{children:"Scope"})]})}),(0,oa.jsx)("tbody",{children:x.map(e=>{const t=Boolean(n[e.readKey]),r=Boolean(n[e.writeKey]),o=i[e.writeKey]||i[e.readKey]||"country",u=!t&&!r;return(0,oa.jsxs)("tr",{children:[(0,oa.jsxs)("td",{children:[(0,oa.jsx)("div",{style:{fontWeight:600},children:e.label}),(0,oa.jsx)("div",{className:"small",style:{color:"#6b7280"},children:e.resource})]}),(0,oa.jsx)("td",{style:{textAlign:"center"},children:(0,oa.jsx)("button",{type:"button",className:"perm-toggle ".concat(t?"is-yes":"is-no"),onClick:()=>null===s||void 0===s?void 0:s(e.readKey,o),"aria-pressed":t,title:"Read",children:yo(t)})}),(0,oa.jsx)("td",{style:{textAlign:"center"},children:(0,oa.jsx)("button",{type:"button",className:"perm-toggle ".concat(r?"is-yes":"is-no"),onClick:()=>null===s||void 0===s?void 0:s(e.writeKey,o),"aria-pressed":r,title:"Write",children:yo(r)})}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("select",{className:"input sm",disabled:u,value:o,onChange:t=>null===c||void 0===c?void 0:c(e.resource,t.target.value),children:[(0,oa.jsx)("option",{value:"country",children:l?"User Country":"Country"}),a&&a.map(e=>(0,oa.jsx)("option",{value:"school:".concat(e.id),children:e.name},e.id))]})})]},e.resource)})})]}),!k&&0===x.length&&(0,oa.jsx)("div",{className:"small",style:{marginLeft:32},children:"No permissions match your search."})]},t)})]})}function go(e){let{show:t,onClose:n,onCreated:i,countries:a=[]}=e;const[l,s]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)("user"),[p,f]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1);if(!t)return null;return(0,oa.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,oa.jsxs)("div",{className:"modal",onClick:e=>{e.stopPropagation()},children:[(0,oa.jsx)("h2",{style:{marginTop:0,marginBottom:8},children:"Create User"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"Enter details for the new user. A temporary password must be at least 8 characters."}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=o.trim();if(!t||!u)return void Kr.error("Email and password are required");if(u.length<8)return void Kr.error("Password must be at least 8 characters");if(["user","hr","principal","manager","accountant","admin"].includes(m)){v(!0);try{const e={full_name:l?l.trim():null,email:t,password:u,role:m};p&&"unassigned"!==p&&(e.country_id=Number(p)),await sa.createUser(e),Kr.success("User created"),s(""),c(""),d(""),h("user"),f(""),null===i||void 0===i||i(),null===n||void 0===n||n()}catch(r){console.error(r),Kr.error((null===r||void 0===r?void 0:r.message)||"Failed to create user")}finally{v(!1)}}else Kr.error("Invalid role")},children:[(0,oa.jsxs)("div",{className:"row",style:{gap:8,flexWrap:"wrap",marginBottom:12},children:[(0,oa.jsx)("input",{className:"input full",placeholder:"Full name",value:l,onChange:e=>s(e.target.value)}),(0,oa.jsx)("input",{className:"input full",placeholder:"Email",type:"email",value:o,onChange:e=>c(e.target.value)}),(0,oa.jsx)("input",{className:"input full",placeholder:"Temporary password",type:"password",value:u,onChange:e=>d(e.target.value)}),(0,oa.jsxs)("select",{className:"input full",value:m,onChange:e=>h(e.target.value),children:[(0,oa.jsx)("option",{value:"user",children:"User"}),(0,oa.jsx)("option",{value:"hr",children:"HR"}),(0,oa.jsx)("option",{value:"principal",children:"Principal"}),(0,oa.jsx)("option",{value:"manager",children:"Manager"}),(0,oa.jsx)("option",{value:"accountant",children:"Accountant"}),(0,oa.jsx)("option",{value:"admin",children:"Admin"})]}),(0,oa.jsxs)("select",{className:"input full",value:p,onChange:e=>f(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Unassigned"}),a.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end",gap:8},children:[(0,oa.jsx)("button",{type:"button",className:"btn",onClick:n,disabled:y,children:"Cancel"}),(0,oa.jsx)("button",{type:"submit",className:"btn primary",disabled:y,children:y?"Creating...":"Create User"})]})]})]})})}function bo(e){let{show:t,onClose:n,onCreated:i,countries:a=[]}=e;const[l,s]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1);if(!t)return null;return(0,oa.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,oa.jsxs)("div",{className:"modal",onClick:e=>{e.stopPropagation()},children:[(0,oa.jsx)("h2",{style:{marginTop:0,marginBottom:8},children:"Create School"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"Choose a country and enter the name of the new school."}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=o.trim();if(l)if(t){d(!0);try{await sa.adminCreateCountrySchool(l,{name:t}),Kr.success("School created"),s(""),c(""),null===i||void 0===i||i(l),null===n||void 0===n||n()}catch(r){console.error(r),Kr.error((null===r||void 0===r?void 0:r.message)||"Failed to create school")}finally{d(!1)}}else Kr.error("School name is required");else Kr.error("Country is required")},children:[(0,oa.jsxs)("div",{className:"row",style:{gap:8,flexWrap:"wrap",marginBottom:12},children:[(0,oa.jsxs)("select",{className:"input full",value:l,onChange:e=>s(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Select country\u2026"}),a.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,oa.jsx)("input",{className:"input full",placeholder:"School name",value:o,onChange:e=>c(e.target.value)})]}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end",gap:8},children:[(0,oa.jsx)("button",{type:"button",className:"btn",onClick:n,disabled:u,children:"Cancel"}),(0,oa.jsx)("button",{type:"submit",className:"btn primary",disabled:u,children:u?"Creating...":"Create School"})]})]})]})})}function xo(e){let{show:t,school:n,users:i=[],countryId:a,onClose:l,onSaved:s}=e;const[o,c]=(0,r.useState)([]),[u,d]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),g=(0,r.useMemo)(()=>i.filter(e=>"principal"===e.role&&String(e.country_id)===String(a)),[i,a]);(0,r.useEffect)(()=>{!async function(){if(t&&n){h(!0);try{const e=await sa.adminGetSchoolPrincipals(n.id),t=Array.isArray(e)?e.map(e=>e.id):[];c(t),d(t)}catch(e){console.error(e),c([]),d([])}finally{h(!1)}}}()},[t,n]);const b=(0,r.useMemo)(()=>{const e=y.trim().toLowerCase();return g.filter(e=>!o.includes(e.id)).filter(t=>{if(!e)return!0;const n=(t.full_name||"").toLowerCase(),i=(t.email||"").toLowerCase();return n.includes(e)||i.includes(e)})},[g,o,y]),x=(0,r.useMemo)(()=>{if(o.length!==u.length)return!0;for(const e of o)if(!u.includes(e))return!0;return!1},[o,u]);if(!t||!n)return null;const k=()=>{c(u.slice()),null===l||void 0===l||l()};return(0,oa.jsx)("div",{className:"drawer-backdrop",onClick:k,children:(0,oa.jsxs)("div",{className:"drawer",onClick:e=>{e.stopPropagation()},children:[(0,oa.jsxs)("div",{className:"drawer-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,oa.jsxs)("div",{style:{fontWeight:700},children:["School: ",n.name]}),(0,oa.jsx)("button",{className:"btn",style:{border:"none",background:"transparent",padding:0},onClick:k,children:"\xd7"})]}),m?(0,oa.jsx)("div",{children:"Loading principals..."}):0===g.length?(0,oa.jsx)("div",{children:"No principals found in this country. Create a principal user first, then assign them to schools."}):(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{style:{marginBottom:12},children:[(0,oa.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Assigned principals"}),0===o.length?(0,oa.jsx)("div",{className:"small",children:"No principals assigned to this school yet."}):(0,oa.jsx)("div",{className:"row",style:{gap:6,flexWrap:"wrap"},children:o.map(e=>{const t=i.find(t=>String(t.id)===String(e)),n=t?t.full_name||t.email||t.id:e;return(0,oa.jsxs)("div",{className:"chip",children:[(0,oa.jsx)("span",{children:n}),(0,oa.jsx)("button",{type:"button",className:"chip-remove",onClick:()=>{return t=e,void c(e=>e.filter(e=>e!==t));var t},"aria-label":"Remove principal",children:"\xd7"})]},e)})})]}),(0,oa.jsxs)("div",{style:{marginBottom:12},children:[(0,oa.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Add principal"}),(0,oa.jsx)("input",{className:"input full",placeholder:"Find a principal\u2026",value:y,onChange:e=>v(e.target.value),style:{marginBottom:6}}),(0,oa.jsx)("div",{style:{maxHeight:200,overflowY:"auto"},children:0===b.length?(0,oa.jsx)("div",{className:"small",children:"No principals available"}):b.map(e=>{const t=e.full_name||e.email||e.id;return(0,oa.jsx)("div",{className:"access-list-item",style:{cursor:"pointer"},onClick:()=>{return t=e.id,void c(e=>e.includes(t)?e:[...e,t]);var t},children:(0,oa.jsx)("div",{children:t})},e.id)})})]}),(0,oa.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[(0,oa.jsx)("button",{className:"btn",onClick:k,disabled:p,children:"Cancel"}),(0,oa.jsx)("button",{className:"btn primary",onClick:async()=>{if(n){f(!0);try{await sa.adminSetSchoolPrincipals(n.id,{userIds:o}),Kr.success("Saved"),d(o.slice()),null===s||void 0===s||s(n.id,o),null===l||void 0===l||l()}catch(e){console.error(e),Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to save principals")}finally{f(!1)}}},disabled:p||!x,children:p?"Saving...":"Save"})]})]})]})})}const ko=[{key:"managePermissions",label:"Manage Permissions",resources:["page.manage_permissions"]},{key:"createUser",label:"Create User",resources:["user.create"]},{key:"createSchool",label:"Create School",resources:["school.create"]},{key:"scenarioActions",label:"Scenario Actions",resources:["scenario.create","scenario.plan_edit","scenario.copy","scenario.submit","scenario.delete"]}],jo=ko.flatMap(e=>e.resources),So=new Set(jo);function wo(e,t){const n={};return ko.forEach(i=>{n[i.key]=i.resources.every(n=>function(e,t,n){return!!Array.isArray(e)&&e.some(e=>e.resource===t&&"write"===e.action&&null==e.scope_school_id&&(null==e.scope_country_id||Number(e.scope_country_id)===Number(n)))}(e,n,t))}),n}function No(){const e=Ee(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)([]),[l,s]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)("all"),[h,p]=(0,r.useState)("all"),[f,y]=(0,r.useState)(!1),[v,g]=(0,r.useState)(null),[b,x]=(0,r.useState)(null),[k,j]=(0,r.useState)(""),[S,w]=(0,r.useState)(null),[N,C]=(0,r.useState)(""),[T,E]=(0,r.useState)({}),[A,_]=(0,r.useState)({}),[P,M]=(0,r.useState)({}),[L,R]=(0,r.useState)({}),[O,F]=(0,r.useState)(null),[D,I]=(0,r.useState)(!1),[B,z]=(0,r.useState)([]),[U,Y]=(0,r.useState)(!1),[K,W]=(0,r.useState)("countries"),[H,V]=(0,r.useState)(null),[G,q]=(0,r.useState)(""),[$,X]=(0,r.useState)(""),[Q,Z]=(0,r.useState)({}),[J,ee]=(0,r.useState)({}),te=(0,r.useRef)({}),ne=(0,r.useRef)({}),[ie,re]=(0,r.useState)(null),[ae,le]=(0,r.useState)(null),[se,oe]=(0,r.useState)(!1),[ce,ue]=(0,r.useState)(!1),[de,me]=(0,r.useState)(!1),[he,pe]=(0,r.useState)(""),[fe,ye]=(0,r.useState)([]),[ve,ge]=(0,r.useState)(""),[be,xe]=(0,r.useState)(null);(0,r.useEffect)(()=>{var t;return null===e||void 0===e||null===(t=e.setHeaderMeta)||void 0===t||t.call(e,{title:"Access Management",subtitle:"Manage users, permissions, and principal assignments",centered:!0}),()=>{var t;null===e||void 0===e||null===(t=e.clearHeaderMeta)||void 0===t||t.call(e)}},[e]);const ke=(0,r.useCallback)(async()=>{try{const e=await sa.listCountries();n(Array.isArray(e)?e:[])}catch(e){console.error(e),Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to load countries")}},[]),je=(0,r.useCallback)(async()=>{s(!0);try{const e=await sa.listUsers();a(Array.isArray(e)?e:[])}catch(e){console.error(e),Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to load users")}finally{s(!1)}},[]),Se=(0,r.useCallback)(async e=>{const t=Number(e);if(Number.isFinite(t))try{const e=await sa.adminListCountrySchools(t);Array.isArray(e)?ye(e):e&&Array.isArray(e.items)?ye(e.items):ye([])}catch(n){console.error(n),Kr.error((null===n||void 0===n?void 0:n.message)||"Failed to load schools"),ye([])}else ye([])},[]),we=(0,r.useCallback)(async e=>{if(!e)return F(null),E({}),_({}),z([]),x(null),j(""),w(null),C(""),M({}),void R({});I(!0);try{const t=null!=e.country_id?sa.adminListCountrySchools(e.country_id):Promise.resolve([]),[n,i,r]=await Promise.all([sa.adminGetPermissionsCatalog(),sa.adminGetUserPermissions(e.id),t]);F(n||null);let a=[];Array.isArray(r)?a=r:r&&Array.isArray(r.items)&&(a=r.items),z(a);const l={},s={};(i||[]).forEach(e=>{const t="".concat(e.resource,"|").concat(e.action);l[t]=!0,null!=e.scope_school_id?s[t]="school:".concat(e.scope_school_id):s[t]="country"}),E(l),_(s),x(e.role||null),j(null!=e.country_id?String(e.country_id):""),w(e.role||null),C(null!=e.country_id?String(e.country_id):""),M(l),R(s)}catch(t){console.error(t),Kr.error((null===t||void 0===t?void 0:t.message)||"Failed to load permissions")}finally{I(!1)}},[]);(0,r.useEffect)(()=>{ke(),je()},[ke,je]),(0,r.useEffect)(()=>{te.current=Q},[Q]),(0,r.useEffect)(()=>{ne.current=J},[J]),(0,r.useEffect)(()=>{const e=i.find(e=>String(e.id)===String(v));we(e)},[v,i,we]),(0,r.useEffect)(()=>{"schools"===K&&Se(he)},[K,he,Se]);const Ne=(0,r.useMemo)(()=>i.filter(e=>"accountant"===String(e.role)),[i]),Ce=(0,r.useMemo)(()=>{const e={};return Ne.forEach(t=>{const n=null!=t.country_id?String(t.country_id):"";e[n]||(e[n]=[]),e[n].push(t)}),Object.values(e).forEach(e=>{e.sort((e,t)=>{const n=(e.full_name||e.email||"").toLowerCase(),i=(t.full_name||t.email||"").toLowerCase();return n.localeCompare(i)})}),e},[Ne]),Te=(0,r.useCallback)(async e=>{if(!e)return[];const t=te.current[e];if(t)return t;ee(t=>m(m({},t),{},{[e]:!0}));try{const t=await sa.adminGetUserPermissions(e),n=Array.isArray(t)?t:[];return Z(t=>m(m({},t),{},{[e]:n})),n}catch(n){return console.error(n),Kr.error((null===n||void 0===n?void 0:n.message)||"Failed to load accountant permissions"),[]}finally{ee(t=>{const n=m({},t);return delete n[e],n})}},[]);(0,r.useEffect)(()=>{if("countries"!==K)return;if(0===Ne.length)return;const e=Ne.filter(e=>!te.current[e.id]&&!ne.current[e.id]);0!==e.length&&(ee(t=>{const n=m({},t);return e.forEach(e=>{n[e.id]=!0}),n}),Promise.allSettled(e.map(e=>sa.adminGetUserPermissions(e.id))).then(t=>{let n=!1;Z(i=>{const r=m({},i);return t.forEach((t,i)=>{var a;const l=null===(a=e[i])||void 0===a?void 0:a.id;l&&("fulfilled"===t.status?r[l]=Array.isArray(t.value)?t.value:[]:n=!0)}),r}),n&&Kr.error("Failed to load some accountant permissions")}).finally(()=>{ee(t=>{const n=m({},t);return e.forEach(e=>{delete n[e.id]}),n})}))},[K,Ne]);const Ae=(0,r.useMemo)(()=>t.find(e=>String(e.id)===String(H))||null,[t,H]),_e=(0,r.useMemo)(()=>Ae&&Ce[String(Ae.id)]||[],[Ce,Ae]),Pe=(0,r.useMemo)(()=>Ae?i.filter(e=>"admin"!==String(e.role)&&(null==e.country_id||Number(e.country_id)===Number(Ae.id))):[],[Ae,i]);(0,r.useEffect)(()=>{if(!Ae)return q(""),X(""),re(null),void le(null);if(0===_e.length)return q(""),re(null),void le(null);_e.some(e=>String(e.id)===String(G))||q(String(_e[0].id))},[_e,G,Ae]),(0,r.useEffect)(()=>{let e=!0;return(async()=>{if(!Ae||!G)return re(null),void le(null);const t=Number(G);if(!Number.isFinite(t))return;const n=await Te(t);if(!e)return;const i=wo(n,Ae.id);re(i),le(i)})(),()=>{e=!1}},[Te,G,Ae]);const Me=(0,r.useMemo)(()=>O?"object"!==typeof O||Array.isArray(O)?Array.isArray(O)?O.reduce((e,t)=>{const n=t.group||"Other";return e[n]||(e[n]=[]),e[n].push(t),e},{}):{}:O:{},[O]),Le=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country";if(!e)return;const[n,i]=e.split("|"),r="".concat(n,"|read"),a="".concat(n,"|write"),l=m({},T),s=m({},A),o=!!!T[e];"write"===i?o?(l[a]=!0,l[r]=!0,s[a]||(s[a]=t||"country"),s[r]||(s[r]=t||"country")):(l[a]=!1,delete s[a]):o?(l[r]=!0,s[r]||(s[r]=t||"country")):(l[r]=!1,l[a]=!1,delete s[r],delete s[a]),E(l),_(s)},[T,A]),Re=(0,r.useCallback)((e,t)=>{Array.isArray(e)&&0!==e.length&&e.forEach(e=>{!!T[e]!==t&&Le(e,"country")})},[T,Le]);const Oe=(0,r.useMemo)(()=>{if(null==v)return!1;if(b!==S)return!0;if((k||"")!==(N||""))return!0;const e=new Set([...Object.keys(P||{}),...Object.keys(T||{})]);for(const t of e){if(!!T[t]!==!!P[t])return!0;if((A[t]||null)!==(L[t]||null))return!0}return!1},[v,b,k,S,N,T,A,P,L]);const Fe=(0,r.useMemo)(()=>{let e=i;u&&"all"!==u&&(e=e.filter(e=>e.role===u)),f&&(e=e.filter(e=>null==e.country_id)),h&&"all"!==h&&(e="unassigned"===h?e.filter(e=>null==e.country_id):e.filter(e=>String(e.country_id)===String(h)));const t=o.trim().toLowerCase();return t&&(e=e.filter(e=>{const n=(e.full_name||"").toLowerCase(),i=(e.email||"").toLowerCase();return n.includes(t)||i.includes(t)})),e},[i,u,h,o,f]),De=(0,r.useMemo)(()=>{if(!Array.isArray(fe))return[];const e=ve.trim().toLowerCase();return e?fe.filter(t=>(t.name||"").toLowerCase().includes(e)):fe},[fe,ve]),Ie=(0,r.useMemo)(()=>!(!ie||!ae)&&ko.some(e=>ie[e.key]!==ae[e.key]),[ie,ae]),Be=(0,r.useCallback)(e=>(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e?void 0:e.id)||"Unknown",[]);return(0,oa.jsxs)("div",{className:"permissions-page",children:[(0,oa.jsxs)("div",{className:"container permissions-page-content",style:{padding:"1rem"},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,oa.jsxs)("div",{className:"access-hub-tabs",children:[(0,oa.jsx)("div",{className:"access-hub-tab ".concat("countries"===K?"is-active":""),onClick:()=>{W("countries"),g(null),xe(null)},children:"Countries & Accountants"}),(0,oa.jsx)("div",{className:"access-hub-tab ".concat("users"===K?"is-active":""),onClick:()=>{W("users"),xe(null),V(null)},children:"Users & Permissions"}),(0,oa.jsx)("div",{className:"access-hub-tab ".concat("schools"===K?"is-active":""),onClick:()=>{W("schools"),g(null),V(null)},children:"Schools & Principals"})]}),(0,oa.jsxs)("div",{className:"row",style:{gap:8},children:[(0,oa.jsx)("button",{className:"btn primary",onClick:()=>ue(!0),children:"Create user"}),(0,oa.jsx)("button",{className:"btn primary",onClick:()=>me(!0),children:"Create school"})]})]}),"countries"===K&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"school-assignments-overlay ".concat(Ae?"is-open":""),onClick:()=>V(null),role:"button","aria-label":"Close country drawer",tabIndex:-1}),(0,oa.jsxs)("aside",{className:"school-assignments-drawer ".concat(Ae?"is-open":""),children:[(0,oa.jsxs)("div",{className:"school-assignments-drawer-header",children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"school-assignments-drawer-title",children:"Country accountants"}),(0,oa.jsx)("div",{className:"school-assignments-drawer-subtitle",children:Ae?"".concat(Ae.name," ").concat(Ae.code?"(".concat(Ae.code,")"):""):"Select a country"})]}),(0,oa.jsx)("button",{className:"btn school-assignments-close",onClick:()=>V(null),"aria-label":"Close drawer",type:"button",children:"x"})]}),(0,oa.jsx)("div",{className:"school-assignments-drawer-body",children:Ae?(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"school-assignments-section-title",children:"Assigned accountant"}),0===_e.length?(0,oa.jsx)("div",{className:"school-assignments-add-card",children:(0,oa.jsxs)("div",{className:"row",style:{flexDirection:"column",gap:8},children:[(0,oa.jsxs)("select",{className:"input full",value:$,onChange:e=>X(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Select user..."}),Pe.map(e=>(0,oa.jsx)("option",{value:e.id,children:Be(e)},e.id))]}),(0,oa.jsx)("button",{className:"btn primary",onClick:async()=>{if(!Ae||!$)return;const e=Number($);if(Number.isFinite(e)){oe(!0);try{const t=i.find(t=>String(t.id)===String(e));if(!t)return void Kr.error("User not found");null!=t.country_id&&Number(t.country_id)===Number(Ae.id)||await sa.assignUserCountry(e,{country_id:Ae.id}),await sa.adminUpdateUserRole(e,{role:"accountant"}),Kr.success("Accountant assigned"),Z(t=>{const n=m({},t);return delete n[e],n}),await je(),X(""),q(String(e))}catch(t){console.error(t),Kr.error((null===t||void 0===t?void 0:t.message)||"Failed to assign accountant")}finally{oe(!1)}}},disabled:!$||se,children:se?"Assigning...":"Set as Accountant"}),0===Pe.length&&(0,oa.jsx)("div",{className:"small",children:"No eligible users available."})]})}):(0,oa.jsxs)("div",{className:"school-assignments-add-card",children:[_e.length>1?(0,oa.jsx)("select",{className:"input full",value:G,onChange:e=>q(e.target.value),children:_e.map(e=>(0,oa.jsx)("option",{value:e.id,children:Be(e)},e.id))}):(0,oa.jsx)("div",{style:{fontWeight:600},children:Be(_e[0])}),_e.length>1&&(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"Multiple accountants assigned. Select one to edit."})]}),(0,oa.jsx)("div",{className:"school-assignments-section-title",children:"Accountant capabilities"}),G?(0,oa.jsxs)("div",{className:"school-assignments-card",children:[ko.map(e=>(0,oa.jsxs)("label",{className:"school-assignments-module-item",children:[(0,oa.jsx)("input",{type:"checkbox",checked:Boolean(null===ie||void 0===ie?void 0:ie[e.key]),onChange:()=>{return t=e.key,void re(e=>m(m({},e),{},{[t]:!(null!==e&&void 0!==e&&e[t])}));var t},disabled:se}),(0,oa.jsx)("span",{children:e.label})]},e.key)),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end",gap:8,marginTop:12},children:[(0,oa.jsx)("button",{className:"btn",onClick:()=>{re(ae)},disabled:!Ie||se,children:"Discard"}),(0,oa.jsx)("button",{className:"btn primary",onClick:async()=>{if(!Ae||!G)return;const e=Number(G);if(Number.isFinite(e)){oe(!0);try{const t=te.current[e]||await Te(e);let n=(Array.isArray(t)?t:[]).filter(e=>!So.has(e.resource));ko.forEach(e=>{null!==ie&&void 0!==ie&&ie[e.key]&&e.resources.forEach(e=>{n.push({resource:e,action:"read",scope_country_id:Number(Ae.id),scope_school_id:null}),n.push({resource:e,action:"write",scope_country_id:Number(Ae.id),scope_school_id:null})})}),n=function(e){const t=new Map;return(Array.isArray(e)?e:[]).forEach(e=>{var n,i;const r=[e.resource,e.action,null!==(n=e.scope_country_id)&&void 0!==n?n:"",null!==(i=e.scope_school_id)&&void 0!==i?i:""].join("|");t.set(r,e)}),Array.from(t.values())}(n),await sa.adminSetUserPermissions(e,{permissions:n}),Z(t=>m(m({},t),{},{[e]:n})),le(ie),Kr.success("Accountant permissions updated")}catch(t){console.error(t),Kr.error((null===t||void 0===t?void 0:t.message)||"Failed to update permissions")}finally{oe(!1)}}},disabled:!Ie||se,children:se?"Saving...":"Save"})]})]}):(0,oa.jsx)("div",{className:"school-assignments-empty",children:"Assign an accountant to edit capabilities."}),G&&(0,oa.jsx)("button",{className:"btn",onClick:()=>{G&&(W("users"),g(String(G)),V(null))},style:{marginTop:12},children:"Open full permission editor"})]}):(0,oa.jsx)("div",{className:"school-assignments-empty",children:"Select a country to manage accountants."})})]})]}),"countries"===K&&(0,oa.jsxs)("div",{style:{marginTop:16},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:12},children:"Countries"}),(0,oa.jsxs)("div",{className:"row",style:{gap:6,marginBottom:12,flexWrap:"wrap"},children:[(0,oa.jsx)("span",{className:"role-tag is-ok",children:"Enabled"}),(0,oa.jsx)("span",{className:"role-tag is-warn",children:"Disabled / No accountant"}),(0,oa.jsx)("span",{className:"role-tag is-muted",children:"Loading / Unknown"})]}),(0,oa.jsx)("div",{className:"school-assignments-table-wrap",children:(0,oa.jsxs)("table",{className:"table school-assignments-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Country"}),(0,oa.jsx)("th",{children:"Accountant status"}),(0,oa.jsx)("th",{children:"Capabilities"})]})}),(0,oa.jsx)("tbody",{children:0===t.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:3,children:"No countries available."})}):t.map(e=>{const t=Ce[String(e.id)]||[],n=t[0]||null,i=t.length>1,r=0===t.length?"No accountant":1===t.length?"1 accountant: ".concat(Be(n)):"Multiple accountants: ".concat(t.length),a=n?Q[n.id]:null,l=a?wo(a,e.id):null,s=n&&Boolean(J[n.id]);return(0,oa.jsxs)("tr",{style:{cursor:"pointer"},onClick:()=>V(String(e.id)),children:[(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{style:{fontWeight:600},children:[e.name,e.code?" (".concat(e.code,")"):""]})}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,oa.jsx)("span",{className:"role-tag ".concat(1===t.length?"is-ok":"is-warn"),children:r}),i&&(0,oa.jsx)("span",{className:"role-tag is-warn",children:"Needs review"})]})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("div",{className:"row",style:{gap:6},children:ko.map(e=>{const n=null===l||void 0===l?void 0:l[e.key],i=e.label;let r="Unknown",a="role-tag is-muted";return 0===t.length?(r="No accountant",a="role-tag is-warn"):s?(r="Loading",a="role-tag is-muted"):l?n?(r="Enabled",a="role-tag is-ok"):(r="Disabled",a="role-tag is-warn"):(r="Unknown",a="role-tag is-muted"),(0,oa.jsxs)("span",{className:a,children:[i,": ",r]},e.key)})})})]},e.id)})})]})})]}),"users"===K&&(0,oa.jsxs)("div",{className:"access-hub-grid",style:{marginTop:16},children:[(0,oa.jsxs)("div",{className:"left-pane",children:[(0,oa.jsx)("div",{style:{marginBottom:12,fontWeight:700},children:"Users"}),(0,oa.jsxs)("div",{className:"row",style:{flexDirection:"column",gap:8},children:[(0,oa.jsx)("input",{className:"input full",placeholder:"Search users by name or email\u2026",value:o,onChange:e=>c(e.target.value)}),(0,oa.jsxs)("select",{className:"input full",value:u,onChange:e=>d(e.target.value),children:[(0,oa.jsx)("option",{value:"all",children:"All roles"}),(0,oa.jsx)("option",{value:"user",children:"User"}),(0,oa.jsx)("option",{value:"hr",children:"HR"}),(0,oa.jsx)("option",{value:"principal",children:"Principal"}),(0,oa.jsx)("option",{value:"manager",children:"Manager"}),(0,oa.jsx)("option",{value:"accountant",children:"Accountant"}),(0,oa.jsx)("option",{value:"admin",children:"Admin"})]}),(0,oa.jsxs)("select",{className:"input full",value:h,onChange:e=>p(e.target.value),children:[(0,oa.jsx)("option",{value:"all",children:"All countries"}),t.map(e=>(0,oa.jsx)("option",{value:String(e.id),children:e.name},e.id)),(0,oa.jsx)("option",{value:"unassigned",children:"Unassigned"})]}),(0,oa.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,oa.jsx)("input",{type:"checkbox",checked:f,onChange:e=>y(e.target.checked)}),(0,oa.jsx)("span",{className:"small",children:"Show unassigned only"})]})]}),(0,oa.jsx)("div",{style:{marginTop:12},children:l?(0,oa.jsx)("div",{children:"Loading users\u2026"}):0===Fe.length?(0,oa.jsx)("div",{children:"No users yet. Create a user to start assigning permissions."}):Fe.map(e=>{var t,n;const i=String(e.id)===String(v),r=e.full_name||e.email||e.id,a=e.email||"",l=(null===(t=e.role)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=e.role)||void 0===n?void 0:n.slice(1))||"",s=e.country_name||"Unassigned";return(0,oa.jsxs)("div",{className:"access-list-item ".concat(i?"is-selected":""),onClick:()=>g(String(e.id)),children:[(0,oa.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,oa.jsx)("div",{style:{fontWeight:600},children:r}),(0,oa.jsx)("div",{className:"small",style:{color:"#6b7280"},children:a})]}),(0,oa.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,oa.jsx)("span",{className:"role-tag",children:l}),(0,oa.jsx)("span",{className:"role-tag",children:s})]})]},e.id)})})]}),(0,oa.jsx)("div",{className:"right-pane",children:v?D?(0,oa.jsx)("div",{children:"Loading permissions\u2026"}):(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{className:"card",style:{marginBottom:16},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"User details"}),(()=>{const e=i.find(e=>String(e.id)===String(v));if(!e)return null;const n=e.full_name||e.email||e.id;return(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{style:{marginBottom:8},children:[(0,oa.jsx)("div",{style:{fontWeight:600},children:n}),(0,oa.jsx)("div",{className:"small",style:{color:"#6b7280"},children:e.email})]}),(0,oa.jsxs)("div",{className:"row",style:{gap:8,marginBottom:8},children:[(0,oa.jsxs)("div",{style:{flex:1},children:[(0,oa.jsx)("label",{className:"small",style:{display:"block",marginBottom:4},children:"Role"}),(0,oa.jsxs)("select",{className:"input full",value:b||"user",onChange:e=>x(e.target.value),children:[(0,oa.jsx)("option",{value:"user",children:"User"}),(0,oa.jsx)("option",{value:"hr",children:"HR"}),(0,oa.jsx)("option",{value:"principal",children:"Principal"}),(0,oa.jsx)("option",{value:"manager",children:"Manager"}),(0,oa.jsx)("option",{value:"accountant",children:"Accountant"}),(0,oa.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,oa.jsxs)("div",{style:{flex:1},children:[(0,oa.jsx)("label",{className:"small",style:{display:"block",marginBottom:4},children:"Country"}),(0,oa.jsxs)("select",{className:"input full",value:k,onChange:e=>j(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Unassigned"}),t.map(e=>(0,oa.jsx)("option",{value:String(e.id),children:e.name},e.id))]}),""===k&&(0,oa.jsx)("div",{className:"small",style:{color:"#ef4444",marginTop:4},children:"Assign a country to edit scoped permissions."})]})]})]})})()]}),(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Permissions"}),k?(0,oa.jsx)(vo,{permissionsGrouped:Me,permissionSelections:T,permissionScopes:A,userSchools:B,isAdmin:!0,onTogglePermission:Le,onToggleGroup:Re,onScopeChange:function(e,t){const n="".concat(e,"|read"),i="".concat(e,"|write");_(e=>{const r=m({},e);return T[n]&&(r[n]=t),T[i]&&(r[i]=t),r})}}):(0,oa.jsx)("div",{children:"Assign a country to edit scoped permissions."})]})]}):(0,oa.jsx)("div",{style:{padding:16},children:"Select a user from the list to edit role and permissions."})})]}),"schools"===K&&(0,oa.jsxs)("div",{className:"access-hub-grid",style:{marginTop:16},children:[(0,oa.jsxs)("div",{className:"left-pane",children:[(0,oa.jsx)("div",{style:{marginBottom:12,fontWeight:700},children:"Schools"}),(0,oa.jsxs)("div",{className:"row",style:{flexDirection:"column",gap:8},children:[(0,oa.jsxs)("select",{className:"input full",value:he,onChange:e=>pe(e.target.value),children:[(0,oa.jsx)("option",{value:"",children:"Select country\u2026"}),t.map(e=>(0,oa.jsx)("option",{value:String(e.id),children:e.name},e.id))]}),(0,oa.jsx)("input",{className:"input full",placeholder:"Search schools\u2026",value:ve,onChange:e=>ge(e.target.value),disabled:!he})]}),(0,oa.jsx)("div",{style:{marginTop:12},children:he?0===fe.length?(0,oa.jsx)("div",{children:"No schools in this country yet. Create a school to assign principals."}):0===De.length?(0,oa.jsx)("div",{children:"No schools match your search."}):De.map(e=>{const t=String(e.id)===String(be);return(0,oa.jsx)("div",{className:"access-list-item ".concat(t?"is-selected":""),onClick:()=>xe(String(e.id)),children:(0,oa.jsx)("div",{children:e.name})},e.id)}):(0,oa.jsx)("div",{children:"Select a country to view schools and assign principals."})})]}),(0,oa.jsx)("div",{className:"right-pane",children:!be&&(0,oa.jsx)("div",{style:{padding:16},children:"Select a school to manage principal assignments."})}),be&&(0,oa.jsx)(xo,{show:!!be,school:fe.find(e=>String(e.id)===String(be)),users:i,countryId:he,onClose:()=>xe(null),onSaved:async(e,t)=>{}})]})]}),"users"===K&&v&&Oe&&(0,oa.jsx)("div",{className:"permissions-sticky-footer",children:(0,oa.jsx)("div",{className:"permissions-sticky-footer-inner",children:(0,oa.jsxs)("div",{className:"permissions-footer-actions",children:[(0,oa.jsx)("button",{className:"btn",onClick:function(){E(m({},P)),_(m({},L)),x(S),j(N||"")},disabled:U||D,children:"Discard"}),(0,oa.jsx)("button",{className:"btn primary",onClick:async function(){const e=i.find(e=>String(e.id)===String(v));if(!e)return void Kr.error("Select a user");const t=(k||"")!==(N||""),n=b!==S;let r=!1;const a=new Set([...Object.keys(P||{}),...Object.keys(T||{})]);for(const i of a){if(!!T[i]!==!!P[i]){r=!0;break}if((A[i]||null)!==(L[i]||null)){r=!0;break}}let l=[];if(r){const e=k&&""!==k?Number(k):null;l=[],Object.keys(T||{}).forEach(t=>{if(!T[t])return;const[n,i]=t.split("|");let r=A[t]||"country",a=null,s=null;if("country"===r)a=e;else if(r.startsWith("school:")){const t=r.split(":")[1],n=Number(t);Number.isFinite(n)&&(s=n),a=e}l.push({resource:n,action:i,scope_country_id:a,scope_school_id:s})})}Y(!0);try{if(t){const t=k?Number(k):null;await sa.assignUserCountry(e.id,{country_id:t})}n&&await sa.adminUpdateUserRole(e.id,{role:b}),r&&await sa.adminSetUserPermissions(e.id,{permissions:l}),Kr.success("Saved"),await je(),await we({id:e.id,role:b,country_id:k?Number(k):null}),w(b),C(k||""),M(m({},T)),R(m({},A))}catch(s){console.error(s),Kr.error((null===s||void 0===s?void 0:s.message)||"Save failed")}finally{Y(!1)}},disabled:U||D,children:U?"Saving\u2026":"Save changes"})]})})}),ce&&(0,oa.jsx)(go,{show:ce,onClose:()=>ue(!1),onCreated:()=>{je(),ke()},countries:t}),de&&(0,oa.jsx)(bo,{show:de,onClose:()=>me(!1),onCreated:e=>{String(e)===String(he)&&Se(e),ke()},countries:t})]})}const Co=(0,r.createContext)({});function To(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Eo="undefined"!==typeof window,Ao=Eo?r.useLayoutEffect:r.useEffect,_o=(0,r.createContext)(null);function Po(e){return"object"===typeof e&&null!==e}function Mo(e){return Po(e)&&"offsetHeight"in e}const Lo=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ro(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Oo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const i=t.map(t=>{const i=Ro(t,e);return n||"function"!==typeof i||(n=!0),i});if(n)return()=>{for(let e=0;e<i.length;e++){const n=i[e];"function"===typeof n?n():Ro(t[e],null)}}}}(...t),t)}class Fo extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=Mo(e)&&e.offsetWidth||0,i=Mo(e)&&e.offsetHeight||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left,r.bottom=i-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Do(e){var t,n;let{children:i,isPresent:a,anchorX:l,anchorY:s,root:o}=e;const c=(0,r.useId)(),u=(0,r.useRef)(null),d=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=(0,r.useContext)(Lo),h=null!==(t=null===(n=i.props)||void 0===n?void 0:n.ref)&&void 0!==t?t:null===i||void 0===i?void 0:i.ref,p=Oo(u,h);return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:i,right:r,bottom:h}=d.current;if(a||!u.current||!e||!t)return;const p="left"===l?"left: ".concat(i):"right: ".concat(r),f="bottom"===s?"bottom: ".concat(h):"top: ".concat(n);u.current.dataset.motionPopId=c;const y=document.createElement("style");m&&(y.nonce=m);const v=null!==o&&void 0!==o?o:document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule('\n          [data-motion-pop-id="'.concat(c,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(p,"px !important;\n            ").concat(f,"px !important;\n          }\n        ")),()=>{v.contains(y)&&v.removeChild(y)}},[a]),(0,oa.jsx)(Fo,{isPresent:a,childRef:u,sizeRef:d,children:r.cloneElement(i,{ref:p})})}const Io=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:a,custom:l,presenceAffectsLayout:s,mode:o,anchorX:c,anchorY:u,root:d}=e;const h=To(Bo),p=(0,r.useId)();let f=!0,y=(0,r.useMemo)(()=>(f=!1,{id:p,initial:n,isPresent:i,custom:l,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;a&&a()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[i,h,a]);return s&&f&&(y=m({},y)),(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),r.useEffect(()=>{!i&&!h.size&&a&&a()},[i]),"popLayout"===o&&(t=(0,oa.jsx)(Do,{isPresent:i,anchorX:c,anchorY:u,root:d,children:t})),(0,oa.jsx)(_o.Provider,{value:y,children:t})};function Bo(){return new Map}function zo(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(_o);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,l=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return a(l)},[e]);const s=(0,r.useCallback)(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,s]:[!0]}const Uo=e=>e.key||"";function Yo(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}const Ko=e=>{let{children:t,custom:n,initial:i=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:s="sync",propagate:o=!1,anchorX:c="left",anchorY:u="top",root:d}=e;const[m,h]=zo(o),p=(0,r.useMemo)(()=>Yo(t),[t]),f=o&&!m?[]:p.map(Uo),y=(0,r.useRef)(!0),v=(0,r.useRef)(p),g=To(()=>new Map),b=(0,r.useRef)(new Set),[x,k]=(0,r.useState)(p),[j,S]=(0,r.useState)(p);Ao(()=>{y.current=!1,v.current=p;for(let e=0;e<j.length;e++){const t=Uo(j[e]);f.includes(t)?(g.delete(t),b.current.delete(t)):!0!==g.get(t)&&g.set(t,!1)}},[j,f.length,f.join("-")]);const w=[];if(p!==x){let e=[...p];for(let t=0;t<j.length;t++){const n=j[t],i=Uo(n);f.includes(i)||(e.splice(t,0,n),w.push(n))}return"wait"===s&&w.length&&(e=w),S(Yo(e)),k(p),null}const{forceRender:N}=(0,r.useContext)(Co);return(0,oa.jsx)(oa.Fragment,{children:j.map(e=>{const t=Uo(e),r=!(o&&!m)&&(p===j||f.includes(t));return(0,oa.jsx)(Io,{isPresent:r,initial:!(y.current&&!i)&&void 0,custom:n,presenceAffectsLayout:l,mode:s,root:d,onExitComplete:r?void 0:()=>{if(b.current.has(t))return;if(b.current.add(t),!g.has(t))return;g.set(t,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null===N||void 0===N||N(),S(v.current),o&&(null===h||void 0===h||h()),a&&a())},anchorX:c,anchorY:u,children:e},t)})})},Wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ho=(()=>new Set(Wo))(),Vo=(e,t,n)=>n>t?t:n<e?e:n,Go={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},qo=m(m({},Go),{},{transform:e=>Vo(0,1,e)}),$o=m(m({},Go),{},{default:1}),Xo=e=>Math.round(1e5*e)/1e5,Qo=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Zo=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Jo=(e,t)=>n=>Boolean("string"===typeof n&&Zo.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ec=(e,t,n)=>i=>{if("string"!==typeof i)return i;const[r,a,l,s]=i.match(Qo);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(l),alpha:void 0!==s?parseFloat(s):1}},tc=m(m({},Go),{},{transform:e=>Math.round((e=>Vo(0,255,e))(e))}),nc={test:Jo("rgb","red"),parse:ec("red","green","blue"),transform:e=>{let{red:t,green:n,blue:i,alpha:r=1}=e;return"rgba("+tc.transform(t)+", "+tc.transform(n)+", "+tc.transform(i)+", "+Xo(qo.transform(r))+")"}};const ic={test:Jo("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:nc.transform},rc=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ac=rc("deg"),lc=rc("%"),sc=rc("px"),oc=rc("vh"),cc=rc("vw"),uc=(()=>m(m({},lc),{},{parse:e=>lc.parse(e)/100,transform:e=>lc.transform(100*e)}))(),dc={test:Jo("hsl","hue"),parse:ec("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:i,alpha:r=1}=e;return"hsla("+Math.round(t)+", "+lc.transform(Xo(n))+", "+lc.transform(Xo(i))+", "+Xo(qo.transform(r))+")"}},mc={test:e=>nc.test(e)||ic.test(e)||dc.test(e),parse:e=>nc.test(e)?nc.parse(e):dc.test(e)?dc.parse(e):ic.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?nc.transform(e):dc.transform(e),getAnimatableNone:e=>{const t=mc.parse(e);return t.alpha=0,mc.transform(t)}},hc=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const pc="number",fc="color",yc=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function vc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(yc,e=>(mc.test(e)?(i.color.push(a),r.push(fc),n.push(mc.parse(e))):e.startsWith("var(")?(i.var.push(a),r.push("var"),n.push(e)):(i.number.push(a),r.push(pc),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:l,indexes:i,types:r}}function gc(e){return vc(e).values}function bc(e){const{split:t,types:n}=vc(e),i=t.length;return e=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],void 0!==e[a]){const t=n[a];r+=t===pc?Xo(e[a]):t===fc?mc.transform(e[a]):e[a]}return r}}const xc=e=>"number"===typeof e?0:mc.test(e)?mc.getAnimatableNone(e):e;const kc={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Qo))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(hc))||void 0===n?void 0:n.length)||0)>0},parse:gc,createTransformer:bc,getAnimatableNone:function(e){const t=gc(e);return bc(e)(t.map(xc))}},jc=new Set(["brightness","contrast","saturate","opacity"]);function Sc(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(Qo)||[];if(!i)return e;const r=n.replace(i,"");let a=jc.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+r+")"}const wc=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Nc=m(m({},kc),{},{getAnimatableNone:e=>{const t=e.match(wc);return t?t.map(Sc).join(" "):e}}),Cc=m(m({},Go),{},{transform:Math.round}),Tc=m(m({borderWidth:sc,borderTopWidth:sc,borderRightWidth:sc,borderBottomWidth:sc,borderLeftWidth:sc,borderRadius:sc,borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomRightRadius:sc,borderBottomLeftRadius:sc,width:sc,maxWidth:sc,height:sc,maxHeight:sc,top:sc,right:sc,bottom:sc,left:sc,inset:sc,insetBlock:sc,insetBlockStart:sc,insetBlockEnd:sc,insetInline:sc,insetInlineStart:sc,insetInlineEnd:sc,padding:sc,paddingTop:sc,paddingRight:sc,paddingBottom:sc,paddingLeft:sc,paddingBlock:sc,paddingBlockStart:sc,paddingBlockEnd:sc,paddingInline:sc,paddingInlineStart:sc,paddingInlineEnd:sc,margin:sc,marginTop:sc,marginRight:sc,marginBottom:sc,marginLeft:sc,marginBlock:sc,marginBlockStart:sc,marginBlockEnd:sc,marginInline:sc,marginInlineStart:sc,marginInlineEnd:sc,fontSize:sc,backgroundPositionX:sc,backgroundPositionY:sc},{rotate:ac,rotateX:ac,rotateY:ac,rotateZ:ac,scale:$o,scaleX:$o,scaleY:$o,scaleZ:$o,skew:ac,skewX:ac,skewY:ac,distance:sc,translateX:sc,translateY:sc,translateZ:sc,x:sc,y:sc,z:sc,perspective:sc,transformPerspective:sc,opacity:qo,originX:uc,originY:uc,originZ:sc}),{},{zIndex:Cc,fillOpacity:qo,strokeOpacity:qo,numOctaves:Cc}),Ec=m(m({},Tc),{},{color:mc,backgroundColor:mc,outlineColor:mc,fill:mc,stroke:mc,borderColor:mc,borderTopColor:mc,borderRightColor:mc,borderBottomColor:mc,borderLeftColor:mc,filter:Nc,WebkitFilter:Nc}),Ac=e=>Ec[e],_c=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Pc=e=>Boolean(e&&e.getVelocity),Mc=new Set(["width","height","top","left","right","bottom",...Wo]),Lc=e=>t=>t.test(e),Rc=[Go,sc,lc,ac,cc,oc,{test:e=>"auto"===e,parse:e=>e}],Oc=e=>Rc.find(Lc(e));function Fc(e,t){return t?"".concat(e,". For more information and steps for solving, visit https://motion.dev/troubleshooting/").concat(t):e}var Dc;let Ic=()=>{},Bc=()=>{};"undefined"!==typeof process&&"production"!==(null===(Dc={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===Dc?void 0:Dc.NODE_ENV)&&(Ic=(e,t,n)=>{e||"undefined"===typeof console||console.warn(Fc(t,n))},Bc=(e,t,n)=>{if(!e)throw new Error(Fc(t,n))});const zc=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Uc=e=>t=>"string"===typeof t&&t.startsWith(e),Yc=Uc("--"),Kc=Uc("var(--"),Wc=e=>!!Kc(e)&&Hc.test(e.split("/*")[0].trim()),Hc=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Vc(e){return"string"===typeof e&&e.split("/*")[0].includes("var(--")}const Gc=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function qc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Bc(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'),"max-css-var-depth");const[i,r]=function(e){const t=Gc.exec(e);if(!t)return[,];const[,n,i,r]=t;return["--".concat(null!==n&&void 0!==n?n:i),r]}(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const e=a.trim();return zc(e)?parseFloat(e):e}return Wc(r)?qc(r,t,n+1):r}const $c=e=>180*e/Math.PI,Xc=e=>{const t=$c(Math.atan2(e[1],e[0]));return Zc(t)},Qc={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xc,rotateZ:Xc,skewX:e=>$c(Math.atan(e[1])),skewY:e=>$c(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zc=e=>((e%=360)<0&&(e+=360),e),Jc=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eu=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),tu={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Jc,scaleY:eu,scale:e=>(Jc(e)+eu(e))/2,rotateX:e=>Zc($c(Math.atan2(e[6],e[5]))),rotateY:e=>Zc($c(Math.atan2(-e[2],e[0]))),rotateZ:Xc,rotate:Xc,skewX:e=>$c(Math.atan(e[4])),skewY:e=>$c(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nu(e){return e.includes("scale")?1:0}function iu(e,t){if(!e||"none"===e)return nu(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let i,r;if(n)i=tu,r=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);i=Qc,r=t}if(!r)return nu(t);const a=i[t],l=r[1].split(",").map(ru);return"function"===typeof a?a(l):l[a]}function ru(e){return parseFloat(e.trim())}const au=e=>e===Go||e===sc,lu=new Set(["x","y","z"]),su=Wo.filter(e=>!lu.has(e));const ou={width:(e,t)=>{let{x:n}=e,{paddingLeft:i="0",paddingRight:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(e,t)=>{let{y:n}=e,{paddingTop:i="0",paddingBottom:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:i}=t;return parseFloat(i)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:i}=t;return parseFloat(i)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return iu(n,"x")},y:(e,t)=>{let{transform:n}=t;return iu(n,"y")}};ou.translateX=ou.x,ou.translateY=ou.y;const cu=e=>e,uu={},du=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],mu={value:null,addProjectionMetrics:null};function hu(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=du.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,r=!1,a=!1;const l=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},o=0;function c(t){l.has(t)&&(u.schedule(t),e()),o++,t(s)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?n:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&l.add(e),t.has(e)||t.add(e),e},cancel:e=>{i.delete(e),l.delete(e)},process:e=>{s=e,r?a=!0:(r=!0,[n,i]=[i,n],n.forEach(c),t&&mu.value&&mu.value.frameloop[t].push(o),o=0,n.clear(),r=!1,a&&(a=!1,u.process(e)))}};return u}(a,t?n:void 0),e),{}),{setup:s,read:o,resolveKeyframes:c,preUpdate:u,update:d,preRender:m,render:h,postRender:p}=l,f=()=>{const a=uu.useManualTiming?r.timestamp:performance.now();n=!1,uu.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(a-r.timestamp,40),1)),r.timestamp=a,r.isProcessing=!0,s.process(r),o.process(r),c.process(r),u.process(r),d.process(r),m.process(r),h.process(r),p.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(f))},y=du.reduce((t,a)=>{const s=l[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,r.isProcessing||e(f)),s.schedule(t,a,l)},t},{});return{schedule:y,cancel:e=>{for(let t=0;t<du.length;t++)l[du[t]].cancel(e)},state:r,steps:l}}const{schedule:pu,cancel:fu,state:yu,steps:vu}=hu("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:cu,!0),gu=new Set;let bu=!1,xu=!1,ku=!1;function ju(){if(xu){const e=Array.from(gu).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return su.forEach(n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[i,r]=t;null===(n=e.getValue(i))||void 0===n||n.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}xu=!1,bu=!1,gu.forEach(e=>e.complete(ku)),gu.clear()}function Su(){gu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xu=!0)})}class wu{constructor(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(gu.add(this),bu||(bu=!0,pu.read(Su),pu.resolveKeyframes(ju))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){const r=null===i||void 0===i?void 0:i.get(),a=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const i=n.readValue(t,a);void 0!==i&&null!==i&&(e[0]=i)}void 0===e[0]&&(e[0]=a),i&&void 0===r&&i.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gu.delete(this)}cancel(){"scheduled"===this.state&&(gu.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Nu=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Cu(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Nu(e))}function Tu(e,t){let n=Ac(e);return n!==Nc&&(n=kc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Eu=new Set(["auto","none","0"]);class Au extends wu{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),Wc(n))){const i=qc(n,t.current);void 0!==i&&(e[s]=i),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Mc.has(n)||2!==e.length)return;const[i,r]=e,a=Oc(i),l=Oc(r);if(Vc(i)!==Vc(r)&&ou[n])this.needsMeasurement=!0;else if(a!==l)if(au(a)&&au(l))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else ou[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(null===e[i]||Cu(e[i]))&&n.push(i);n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){const t=e[r];"string"===typeof t&&!Eu.has(t)&&vc(t).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=Tu(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ou[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=ou[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==l&&void 0===this.finalKeyframe&&(this.finalKeyframe=l),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,i]=e;t.getValue(n).set(i)}),this.resolveNoneKeyframes()}}function _u(e,t){-1===e.indexOf(t)&&e.push(t)}function Pu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Mu{constructor(){this.subscriptions=[]}add(e){return _u(this.subscriptions,e),()=>Pu(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const{schedule:Lu,cancel:Ru}=hu(queueMicrotask,!1);let Ou;function Fu(){Ou=void 0}const Du={now:()=>(void 0===Ou&&Du.set(yu.isProcessing||uu.useManualTiming?yu.timestamp:performance.now()),Ou),set:e=>{Ou=e,queueMicrotask(Fu)}};function Iu(e,t){return t?e*(1e3/t):0}const Bu={current:void 0};class zu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Du.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Du.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Mu);const n=this.events[e].add(t);return"change"===e?()=>{n(),pu.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Bu.current&&Bu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Du.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Iu(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(e,t){return new zu(e,t)}const Yu=[...Rc,mc,kc],Ku={current:null},Wu={current:!1},Hu="undefined"!==typeof window;const Vu=new WeakMap;function Gu(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function qu(e){return"string"===typeof e||Array.isArray(e)}const $u=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xu=["initial",...$u];function Qu(e){return Gu(e.animate)||Xu.some(t=>qu(e[t]))}function Zu(e){return Boolean(Qu(e)||e.variants)}function Ju(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function ed(e,t,n,i){if("function"===typeof t){const[r,a]=Ju(i);t=t(void 0!==n?n:e.custom,r,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[r,a]=Ju(i);t=t(void 0!==n?n:e.custom,r,a)}return t}const td=["willChange"],nd=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let id={};function rd(e){id=e}class ad{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Du.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,pu.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=l;this.latestValues=c,this.baseTarget=m({},c),this.initialValues=n.initial?m({},c):{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Qu(n),this.isVariantNode=Zu(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=d,p=s(d,td);for(const s in p){const e=p[s];void 0!==c[s]&&Pc(e)&&e.set(c[s])}}mount(e){var t;this.current=e,Vu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(Wu.current||function(){if(Wu.current=!0,Hu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ku.current=e.matches;e.addEventListener("change",t),t()}else Ku.current=!1}(),this.shouldReduceMotion=Ku.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),fu(this.notifyUpdate),fu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ho.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&pu.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;"undefined"!==typeof window&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in id){const t=id[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<nd.length;n++){const t=nd[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const r=t[i],a=n[i];if(Pc(r))e.addValue(i,r);else if(Pc(a))e.addValue(i,Uu(r,{owner:e}));else if(a!==r)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(i);e.addValue(i,Uu(void 0!==t?t:r,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Uu(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==i&&null!==i&&("string"===typeof i&&(zc(i)||Nu(i))?i=parseFloat(i):(r=i,!Yu.find(Lc(r))&&kc.test(t)&&(i=Tu(e,t))),this.setBaseTarget(e,Pc(i)?i.get():i)),Pc(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var i;const r=ed(this.props,t,null===(i=this.presenceContext)||void 0===i?void 0:i.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Pc(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Mu),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Lu.render(this.render)}}class ld extends ad{constructor(){super(...arguments),this.KeyframeResolver=Au}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){const n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:i}=t;delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pc(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}function sd(e){return e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase()))}const od=(e,t)=>t&&"number"===typeof e?t.transform(e):e,cd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ud=Wo.length;function dd(e,t,n){const{style:i,vars:r,transformOrigin:a}=e;let l=!1,s=!1;for(const o in t){const e=t[o];if(Ho.has(o))l=!0;else if(Yc(o))r[o]=e;else{const t=od(e,Tc[o]);o.startsWith("origin")?(s=!0,a[o]=t):i[o]=t}}if(t.transform||(l||n?i.transform=function(e,t,n){let i="",r=!0;for(let a=0;a<ud;a++){const l=Wo[a],s=e[l];if(void 0===s)continue;let o=!0;if("number"===typeof s)o=s===(l.startsWith("scale")?1:0);else{const e=parseFloat(s);o=l.startsWith("scale")?1===e:0===e}if(!o||n){const e=od(s,Tc[l]);o||(r=!1,i+="".concat(cd[l]||l,"(").concat(e,") ")),n&&(t[l]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const md={offset:"stroke-dashoffset",array:"stroke-dasharray"},hd={offset:"strokeDashoffset",array:"strokeDasharray"};const pd=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"],fd=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yd(e,t,n,i,r){let{attrX:a,attrY:l,attrScale:o,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(dd(e,s(t,pd),i),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:m,style:h}=e;var p,f;(m.transform&&(h.transform=m.transform,delete m.transform),h.transform||m.transformOrigin)&&(h.transformOrigin=null!==(p=m.transformOrigin)&&void 0!==p?p:"50% 50%",delete m.transformOrigin);h.transform&&(h.transformBox=null!==(f=null===r||void 0===r?void 0:r.transformBox)&&void 0!==f?f:"fill-box",delete m.transformBox);for(const s of fd)void 0!==m[s]&&(h[s]=m[s],delete m[s]);void 0!==a&&(m.x=a),void 0!==l&&(m.y=l),void 0!==o&&(m.scale=o),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=r?md:hd;e[a.offset]="".concat(-i),e[a.array]="".concat(t," ").concat(n)}(m,c,u,d,!1)}const vd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),gd=e=>"string"===typeof e&&"svg"===e.toLowerCase();function bd(e,t,n,i){let{style:r,vars:a}=t;const l=e.style;let s;for(s in r)l[s]=r[s];for(s in null===i||void 0===i||i.applyProjectionStyles(l,n),a)l.setProperty(s,a[s])}function xd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kd={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!sc.test(e))return e;e=parseFloat(e)}const n=xd(e,t.target.x),i=xd(e,t.target.y);return"".concat(n,"% ").concat(i,"%")}},jd=(e,t,n)=>e+(t-e)*n,Sd={correct:(e,t)=>{let{treeScale:n,projectionDelta:i}=t;const r=e,a=kc.parse(e);if(a.length>5)return r;const l=kc.createTransformer(e),s="number"!==typeof a[0]?1:0,o=i.x.scale*n.x,c=i.y.scale*n.y;a[0+s]/=o,a[1+s]/=c;const u=jd(o,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=u),"number"===typeof a[3+s]&&(a[3+s]/=u),l(a)}},wd={borderRadius:m(m({},kd),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:kd,borderTopRightRadius:kd,borderBottomLeftRadius:kd,borderBottomRightRadius:kd,boxShadow:Sd};function Nd(e,t){let{layout:n,layoutId:i}=t;return Ho.has(e)||e.startsWith("origin")||(n||void 0!==i)&&(!!wd[e]||"opacity"===e)}function Cd(e,t,n){const i=e.style,r=null===t||void 0===t?void 0:t.style,a={};if(!i)return a;for(const s in i){var l;(Pc(i[s])||r&&Pc(r[s])||Nd(s,e)||void 0!==(null===n||void 0===n||null===(l=n.getValue(s))||void 0===l?void 0:l.liveStyle))&&(a[s]=i[s])}return a}function Td(e,t,n){const i=Cd(e,t,n);for(const r in e)if(Pc(e[r])||Pc(t[r])){i[-1!==Wo.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return i}class Ed extends ld{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_c}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ho.has(t)){const e=Ac(t);return e&&e.default||0}return t=vd.has(t)?t:sd(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Td(e,t,n)}build(e,t,n){yd(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){!function(e,t,n,i){bd(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(vd.has(r)?r:sd(r),t.attrs[r])}(e,t,0,i)}mount(e){this.isSVGTag=gd(e.tagName),super.mount(e)}}function Ad(e){let{top:t,left:n,right:i,bottom:r}=e;return{x:{min:n,max:i},y:{min:t,max:r}}}function _d(e){return void 0===e||1===e}function Pd(e){let{scale:t,scaleX:n,scaleY:i}=e;return!_d(t)||!_d(n)||!_d(i)}function Md(e){return Pd(e)||Ld(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ld(e){return Rd(e.x)||Rd(e.y)}function Rd(e){return e&&"0%"!==e}function Od(e,t,n){return n+t*(e-n)}function Fd(e,t,n,i,r){return void 0!==r&&(e=Od(e,r,i)),Od(e,n,i)+t}function Dd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.min=Fd(e.min,t,n,i,r),e.max=Fd(e.max,t,n,i,r)}function Id(e,t){let{x:n,y:i}=t;Dd(e.x,n.translate,n.scale,n.originPoint),Dd(e.y,i.translate,i.scale,i.originPoint)}const Bd=.999999999999,zd=1.0000000000001;function Ud(e,t){e.min=e.min+t,e.max=e.max+t}function Yd(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Dd(e,t,n,jd(e.min,e.max,r),i)}function Kd(e,t){Yd(e.x,t.x,t.scaleX,t.scale,t.originX),Yd(e.y,t.y,t.scaleY,t.scale,t.originY)}function Wd(e,t){return Ad(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}class Hd extends ld{constructor(){super(...arguments),this.type="html",this.renderInstance=bd}readValueFromInstance(e,t){var n,i;if(Ho.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?nu(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return iu(n,t)})(e,t);{const n=(i=e,window.getComputedStyle(i)),r=(Yc(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof r?r.trim():r}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Wd(e,n)}build(e,t,n){dd(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Cd(e,t,n)}}const Vd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gd(e){return"string"===typeof e&&!e.includes("-")&&!!(Vd.indexOf(e)>-1||/[A-Z]/.test(e))}const qd=(e,t)=>{var n;return(null!==(n=t.isSVG)&&void 0!==n?n:Gd(e))?new Ed(t):new Hd(t,{allowProjection:e!==r.Fragment})},$d=(0,r.createContext)({strict:!1}),Xd=(0,r.createContext)({});function Qd(e){const{initial:t,animate:n}=function(e,t){if(Qu(e)){const{initial:t,animate:n}=e;return{initial:!1===t||qu(t)?t:void 0,animate:qu(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Xd));return(0,r.useMemo)(()=>({initial:t,animate:n}),[Zd(t),Zd(n)])}function Zd(e){return Array.isArray(e)?e.join(" "):e}const Jd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function em(e,t,n){for(const i in t)Pc(t[i])||Nd(i,n)||(e[i]=t[i])}function tm(e,t){const n={};return em(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return dd(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function nm(e,t){const n={},i=tm(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const im=()=>m(m({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function rm(e,t,n,i){const a=(0,r.useMemo)(()=>{const n=im();return yd(n,t,gd(i),e.transformTemplate,e.style),m(m({},n.attrs),{},{style:m({},n.style)})},[t]);if(e.style){const t={};em(t,e.style,e),a.style=m(m({},t),a.style)}return a}const am=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lm(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||am.has(e)}let sm=e=>!lm(e);try{"function"===typeof(om=require("@emotion/is-prop-valid").default)&&(sm=e=>e.startsWith("on")?!lm(e):om(e))}catch(Bb){}var om;function cm(e,t,n,i,a){let{latestValues:l}=i,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6?arguments[6]:void 0;const c=((null!==o&&void 0!==o?o:Gd(e))?rm:nm)(t,l,a,e),u=function(e,t,n){const i={};for(const r in e)"values"===r&&"object"===typeof e.values||(sm(r)||!0===n&&lm(r)||!t&&!lm(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"===typeof e,s),d=e!==r.Fragment?m(m(m({},u),c),{},{ref:n}):{},{children:h}=t,p=(0,r.useMemo)(()=>Pc(h)?h.get():h,[h]);return(0,r.createElement)(e,m(m({},d),{},{children:p}))}function um(e){return Pc(e)?e.get():e}const dm=["transitionEnd","transition"];function mm(e,t,n,i){const r={},a=i(e,{});for(const s in a)r[s]=um(a[s]);let{initial:l,animate:o}=e;const c=Qu(e),u=Zu(e);t&&u&&!c&&!1!==e.inherit&&(void 0===l&&(l=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===l;const m=d?o:l;if(m&&"boolean"!==typeof m&&!Gu(m)){const t=Array.isArray(m)?m:[m];for(let n=0;n<t.length;n++){const i=ed(e,t[n]);if(i){const{transitionEnd:e,transition:t}=i,n=s(i,dm);for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}const hm=e=>(t,n)=>{const i=(0,r.useContext)(Xd),a=(0,r.useContext)(_o),l=()=>function(e,t,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:a}=e;return{latestValues:mm(t,n,i,r),renderState:a()}}(e,t,i,a);return n?l():To(l)},pm=hm({scrapeMotionValuesFromProps:Cd,createRenderState:Jd}),fm=hm({scrapeMotionValuesFromProps:Td,createRenderState:im}),ym={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let vm=!1;function gm(){return function(){if(vm)return;const e={};for(const t in ym)e[t]={isEnabled:e=>ym[t].some(t=>!!e[t])};rd(e),vm=!0}(),id}const bm=Symbol.for("motionComponentSymbol");function xm(e,t,n){const i=(0,r.useRef)(n);(0,r.useInsertionEffect)(()=>{i.current=n});const a=(0,r.useRef)(null);return(0,r.useCallback)(n=>{var r;n&&(null===(r=e.onMount)||void 0===r||r.call(e,n));t&&(n?t.mount(n):t.unmount());const l=i.current;if("function"===typeof l)if(n){const e=l(n);"function"===typeof e&&(a.current=e)}else a.current?(a.current(),a.current=null):l(n);else l&&(l.current=n)},[t])}const km="data-"+sd("framerAppearId"),jm=(0,r.createContext)({});function Sm(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function wm(e,t,n,i,a,l){var s,o,c,u;const{visualElement:d}=(0,r.useContext)(Xd),m=(0,r.useContext)($d),h=(0,r.useContext)(_o),p=(0,r.useContext)(Lo).reducedMotion,f=(0,r.useRef)(null),y=(0,r.useRef)(!1);i=i||m.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:d,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p,isSVG:l}),y.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const v=f.current,g=(0,r.useContext)(jm);!v||v.projection||!a||"html"!==v.type&&"svg"!==v.type||function(e,t,n,i){const{layoutId:r,layout:a,drag:l,dragConstraints:s,layoutScroll:o,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Nm(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:Boolean(l)||s&&Sm(s),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:o,layoutRoot:c})}(f.current,n,a,g);const b=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{v&&b.current&&v.update(n,h)});const x=n[km],k=(0,r.useRef)(Boolean(x)&&!(null!==(s=(o=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(o,x))&&(null===(c=(u=window).MotionHasOptimisedAnimation)||void 0===c?void 0:c.call(u,x)));return Ao(()=>{y.current=!0,v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),(0,r.useEffect)(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,x)}),k.current=!1),v.enteringChildren=void 0)}),v}function Nm(e){if(e)return!1!==e.options.allowProjection?e.projection:Nm(e.parent)}function Cm(e){var t,n;let{forwardMotionProps:i=!1,type:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;l&&function(e){const t=gm();for(const n in e)t[n]=m(m({},t[n]),e[n]);rd(t)}(l);const o=a?"svg"===a:Gd(e),c=o?fm:pm;function u(t,n){let a;const l=m(m(m({},(0,r.useContext)(Lo)),t),{},{layoutId:Tm(t)}),{isStatic:u}=l,d=Qd(t),h=c(t,u);if(!u&&Eo){!function(){(0,r.useContext)($d).strict;0}();const t=function(e){const t=gm(),{drag:n,layout:i}=t;if(!n&&!i)return{};const r=m(m({},n),i);return{MeasureLayout:null!==n&&void 0!==n&&n.isEnabled(e)||null!==i&&void 0!==i&&i.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=t.MeasureLayout,d.visualElement=wm(e,h,l,s,t.ProjectionNode,o)}return(0,oa.jsxs)(Xd.Provider,{value:d,children:[a&&d.visualElement?(0,oa.jsx)(a,m({visualElement:d.visualElement},l)):null,cm(e,t,xm(h,d.visualElement,n),h,u,i,o)]})}u.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const d=(0,r.forwardRef)(u);return d[bm]=e,d}function Tm(e){let{layoutId:t}=e;const n=(0,r.useContext)(Co).id;return n&&void 0!==t?n+"-"+t:t}function Em(e,t){if("undefined"===typeof Proxy)return Cm;const n=new Map,i=(n,i)=>Cm(n,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,a)=>"create"===a?i:(n.has(a)||n.set(a,Cm(a,void 0,e,t)),n.get(a))})}class Am{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _m(e,t,n){const i=e.getProps();return ed(i,t,void 0!==n?n:i.custom,e)}function Pm(e,t){var n,i;return null!==(n=null!==(i=null===e||void 0===e?void 0:e[t])&&void 0!==i?i:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const Mm=e=>Array.isArray(e),Lm=["transitionEnd","transition"];function Rm(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Uu(n))}function Om(e){return Mm(e)?e[e.length-1]||0:e}function Fm(e,t){const n=e.getValue("willChange");if(i=n,Boolean(Pc(i)&&i.add))return n.add(t);if(!n&&uu.WillChange){const n=new uu.WillChange("auto");e.addValue("willChange",n),n.add(t)}var i}function Dm(e){return e.props[km]}const Im=e=>1e3*e,Bm=e=>e/1e3,zm=(e,t)=>n=>t(e(n)),Um=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(zm)},Ym={layout:0,mainThread:0,waapi:0};function Km(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Wm(e,t){return n=>n>0?t:e}const Hm=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},Vm=[ic,nc,dc];function Gm(e){const t=(n=e,Vm.find(e=>e.test(n)));var n;if(Ic(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),"color-not-animatable"),!Boolean(t))return!1;let i=t.parse(e);return t===dc&&(i=function(e){let{hue:t,saturation:n,lightness:i,alpha:r}=e;t/=360,n/=100,i/=100;let a=0,l=0,s=0;if(n){const e=i<.5?i*(1+n):i+n-i*n,r=2*i-e;a=Km(r,e,t+1/3),l=Km(r,e,t),s=Km(r,e,t-1/3)}else a=l=s=i;return{red:Math.round(255*a),green:Math.round(255*l),blue:Math.round(255*s),alpha:r}}(i)),i}const qm=(e,t)=>{const n=Gm(e),i=Gm(t);if(!n||!i)return Wm(e,t);const r=m({},n);return e=>(r.red=Hm(n.red,i.red,e),r.green=Hm(n.green,i.green,e),r.blue=Hm(n.blue,i.blue,e),r.alpha=jd(n.alpha,i.alpha,e),nc.transform(r))},$m=new Set(["none","hidden"]);function Xm(e,t){return n=>jd(e,t,n)}function Qm(e){return"number"===typeof e?Xm:"string"===typeof e?Wc(e)?Wm:mc.test(e)?qm:eh:Array.isArray(e)?Zm:"object"===typeof e?mc.test(e)?qm:Jm:Wm}function Zm(e,t){const n=[...e],i=n.length,r=e.map((e,n)=>Qm(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function Jm(e,t){const n=m(m({},e),t),i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=Qm(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const eh=(e,t)=>{const n=kc.createTransformer(t),i=vc(e),r=vc(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?$m.has(e)&&!r.values.length||$m.has(t)&&!i.values.length?function(e,t){return $m.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Um(Zm(function(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var r;const l=t.types[a],s=e.indexes[l][i[l]],o=null!==(r=e.values[s])&&void 0!==r?r:0;n[a]=o,i[l]++}return n}(i,r),r.values),n):(Ic(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),"complex-values-different"),Wm(e,t))};function th(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return jd(e,t,n);return Qm(e)(e,t)}const nh=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return pu.update(t,e)},stop:()=>fu(t),now:()=>yu.isProcessing?yu.timestamp:Du.now()}},ih=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)i+=Math.round(1e4*e(a/(r-1)))/1e4+", ";return"linear(".concat(i.substring(0,i.length-2),")")},rh=2e4;function ah(e){let t=0;let n=e.next(t);for(;!n.done&&t<rh;)t+=50,n=e.next(t);return t>=rh?1/0:t}function lh(e,t,n){const i=Math.max(t-5,0);return Iu(n-e(i),t-i)}const sh={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oh=.001;function ch(e){let t,n,{duration:i=sh.duration,bounce:r=sh.bounce,velocity:a=sh.velocity,mass:l=sh.mass}=e;Ic(i<=Im(sh.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-r;s=Vo(sh.minDamping,sh.maxDamping,s),i=Vo(sh.minDuration,sh.maxDuration,Bm(i)),s<1?(t=e=>{const t=e*s,n=t*i,r=t-a,l=dh(e,s),o=Math.exp(-n);return oh-r/l*o},n=e=>{const n=e*s*i,r=n*a+a,l=Math.pow(s,2)*Math.pow(e,2)*i,o=Math.exp(-n),c=dh(Math.pow(e,2),s);return(-t(e)+oh>0?-1:1)*((r-l)*o)/c}):(t=e=>Math.exp(-e*i)*((e-a)*i+1)-.001,n=e=>Math.exp(-e*i)*(i*i*(a-e)));const o=function(e,t,n){let i=n;for(let r=1;r<uh;r++)i-=e(i)/t(i);return i}(t,n,5/i);if(i=Im(i),isNaN(o))return{stiffness:sh.stiffness,damping:sh.damping,duration:i};{const e=Math.pow(o,2)*l;return{stiffness:e,damping:2*s*Math.sqrt(l*e),duration:i}}}const uh=12;function dh(e,t){return e*Math.sqrt(1-t*t)}const mh=["duration","bounce"],hh=["stiffness","damping","mass"];function ph(e,t){return t.some(t=>void 0!==e[t])}function fh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sh.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sh.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:o,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(e){let t=m({velocity:sh.velocity,stiffness:sh.stiffness,damping:sh.damping,mass:sh.mass,isResolvedFromDuration:!1},e);if(!ph(e,hh)&&ph(e,mh))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,a=2*Vo(.05,1,1-(e.bounce||0))*Math.sqrt(r);t=m(m({},t),{},{mass:sh.mass,stiffness:r,damping:a})}else{const n=ch(e);t=m(m(m({},t),n),{},{mass:sh.mass}),t.isResolvedFromDuration=!0}return t}(m(m({},n),{},{velocity:-Bm(n.velocity||0)})),f=h||0,y=c/(2*Math.sqrt(o*u)),v=l-a,g=Bm(Math.sqrt(o/u)),b=Math.abs(v)<5;let x;if(i||(i=b?sh.restSpeed.granular:sh.restSpeed.default),r||(r=b?sh.restDelta.granular:sh.restDelta.default),y<1){const e=dh(g,y);x=t=>{const n=Math.exp(-y*g*t);return l-n*((f+y*g*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===y)x=e=>l-Math.exp(-g*e)*(v+(f+g*v)*e);else{const e=g*Math.sqrt(y*y-1);x=t=>{const n=Math.exp(-y*g*t),i=Math.min(e*t,300);return l-n*((f+y*g*v)*Math.sinh(i)+e*v*Math.cosh(i))/e}}const k={calculatedDuration:p&&d||null,next:e=>{const t=x(e);if(p)s.done=e>=d;else{let n=0===e?f:0;y<1&&(n=0===e?Im(f):lh(x,e,t));const a=Math.abs(n)<=i,o=Math.abs(l-t)<=r;s.done=a&&o}return s.value=s.done?l:t,s},toString:()=>{const e=Math.min(ah(k),rh),t=ih(t=>k.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return k}function yh(e){let{keyframes:t,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:s,min:o,max:c,restDelta:u=.5,restSpeed:d}=e;const m=t[0],h={done:!1,value:m},p=e=>void 0===o?c:void 0===c||Math.abs(o-e)<Math.abs(c-e)?o:c;let f=i*n;const y=m+f,v=void 0===s?y:s(y);v!==y&&(f=v-m);const g=e=>-f*Math.exp(-e/r),b=e=>v+g(e),x=e=>{const t=g(e),n=b(e);h.done=Math.abs(t)<=u,h.value=h.done?v:n};let k,j;const S=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==c&&t>c)&&(k=e,j=fh({keyframes:[h.value,p(h.value)],velocity:lh(b,e,h.value),damping:a,stiffness:l,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==k||(t=!0,x(e),S(e)),void 0!==k&&e>=k?j.next(e-k):(!t&&x(e),h)}}}fh.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(m(m({},e),{},{keyframes:[0,t]})),i=Math.min(ah(n),rh);return{type:"keyframes",ease:e=>n.next(i*e).value/t,duration:Bm(i)}}(e,100,fh);return e.ease=t.ease,e.duration=Im(t.duration),e.type="keyframes",e};const vh=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function gh(e,t,n,i){if(e===t&&n===i)return cu;const r=t=>function(e,t,n,i,r){let a,l,s=0;do{l=t+(n-t)/2,a=vh(l,i,r)-e,a>0?n=l:t=l}while(Math.abs(a)>1e-7&&++s<12);return l}(t,0,1,e,n);return e=>0===e||1===e?e:vh(r(e),t,i)}const bh=gh(.42,0,1,1),xh=gh(0,0,.58,1),kh=gh(.42,0,.58,1),jh=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sh=e=>t=>1-e(1-t),wh=gh(.33,1.53,.69,.99),Nh=Sh(wh),Ch=jh(Nh),Th=e=>(e*=2)<1?.5*Nh(e):.5*(2-Math.pow(2,-10*(e-1))),Eh=e=>1-Math.sin(Math.acos(e)),Ah=Sh(Eh),_h=jh(Eh),Ph=e=>Array.isArray(e)&&"number"===typeof e[0],Mh={linear:cu,easeIn:bh,easeInOut:kh,easeOut:xh,circIn:Eh,circInOut:_h,circOut:Ah,backIn:Nh,backInOut:Ch,backOut:wh,anticipate:Th},Lh=e=>{if(Ph(e)){Bc(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,i,r]=e;return gh(t,n,i,r)}return"string"===typeof e?(Bc(void 0!==Mh[e],"Invalid easing type '".concat(e,"'"),"invalid-easing-type"),Mh[e]):e},Rh=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i};function Oh(e,t){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(Bc(a===t.length,"Both input and output ranges must be the same length","range-length"),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const i=[],r=n||uu.mix||th,a=e.length-1;for(let l=0;l<a;l++){let n=r(e[l],e[l+1]);if(t){const e=Array.isArray(t)?t[l]||cu:t;n=Um(e,n)}i.push(n)}return i}(t,i,r),o=s.length,c=n=>{if(l&&n<e[0])return t[0];let i=0;if(o>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const r=Rh(e[i],e[i+1],n);return s[i](r)};return n?t=>c(Vo(e[0],e[a-1],t)):c}function Fh(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Rh(0,t,i);e.push(jd(n,1,r))}}(t,e.length-1),t}function Dh(e){let{duration:t=300,keyframes:n,times:i,ease:r="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(r)?r.map(Lh):Lh(r),l={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(i&&i.length===n.length?i:Fh(n),t),o=Oh(s,n,{ease:Array.isArray(a)?a:(c=n,u=a,c.map(()=>u||kh).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(l.value=o(e),l.done=e>=t,l)}}const Ih=e=>null!==e;function Bh(e,t,n){let{repeat:i,repeatType:r="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const l=e.filter(Ih),s=a<0||i&&"loop"!==r&&i%2===1?0:l.length-1;return s&&void 0!==n?n:l[s]}const zh={decay:yh,inertia:yh,tween:Dh,keyframes:Dh,spring:fh};function Uh(e){"string"===typeof e.type&&(e.type=zh[e.type])}class Yh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Kh=e=>e/100;class Wh extends Yh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Du.now()&&this.tick(Du.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Ym.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Uh(e);const{type:t=Dh,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=e;let{keyframes:l}=e;const s=t||Dh;s!==Dh&&"number"!==typeof l[0]&&(this.mixKeyframes=Um(Kh,th(l[0],l[1])),l=[0,100]);const o=s(m(m({},e),{},{keyframes:l}));"mirror"===r&&(this.mirroredGenerator=s(m(m({},e),{},{keyframes:[...l].reverse(),velocity:-a}))),null===o.calculatedDuration&&(o.calculatedDuration=ah(o));const{calculatedDuration:c}=o;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=o}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:o=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:m,type:h,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const y=this.currentTime-o*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let g=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,i)/l;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,m&&(n-=m/l)):"mirror"===d&&(b=a)),g=Vo(0,1,n)*l}const x=v?{done:!1,value:c[0]}:b.next(g);r&&(x.value=r(x.value));let{done:k}=x;v||null===s||(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&k);return j&&h!==yh&&(x.value=Bh(c,this.options,f,this.speed)),p&&p(x.value),j&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return Bm(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bm(e)}get time(){return Bm(this.currentTime)}set time(e){var t;e=Im(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Du.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Bm(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=nh,startTime:i}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=null!==i&&void 0!==i?i:r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Du.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Ym.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function Hh(e){let t;return()=>(void 0===t&&(t=e()),t)}const Vh=Hh(()=>void 0!==window.ScrollTimeline),Gh={};function qh(e,t){const n=Hh(e);return()=>{var e;return null!==(e=Gh[t])&&void 0!==e?e:n()}}const $h=qh(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Ib){return!1}return!0},"linearEasing"),Xh=e=>{let[t,n,i,r]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(i,", ").concat(r,")")},Qh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xh([0,.65,.55,1]),circOut:Xh([.55,0,1,.45]),backIn:Xh([.31,.01,.66,-.59]),backOut:Xh([.33,1.53,.69,.99])};function Zh(e,t){return e?"function"===typeof e?$h()?ih(e,t):"ease-out":Ph(e)?Xh(e):Array.isArray(e)?e.map(e=>Zh(e,t)||Qh.easeOut):Qh[e]:void 0}function Jh(e,t,n){let{delay:i=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:s="easeOut",times:o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};o&&(u.offset=o);const d=Zh(s,r);Array.isArray(d)&&(u.easing=d),mu.value&&Ym.waapi++;const m={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===l?"alternate":"normal"};c&&(m.pseudoElement=c);const h=e.animate(u,m);return mu.value&&h.finished.finally(()=>{Ym.waapi--}),h}function ep(e){return"function"===typeof e&&"applyToOptions"in e}const tp=["type"];class np extends Yh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:l,onComplete:o}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=a,this.options=e,Bc("string"!==typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const c=function(e){let{type:t}=e,n=s(e,tp);return ep(t)&&$h()?t.applyToOptions(n):(null!==(i=n.duration)&&void 0!==i||(n.duration=300),null!==(r=n.ease)&&void 0!==r||(n.ease="easeOut"),n);var i,r}(e);this.animation=Jh(t,n,i,c,r),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=Bh(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===o||void 0===o||o(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(Ib){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Bm(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bm(e)}get time(){return Bm(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Im(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){var e;return null!==(e=this.manualStartTime)&&void 0!==e?e:Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var i;this.allowFlatten&&(null===(i=this.animation.effect)||void 0===i||i.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&Vh()?(this.animation.timeline=t,cu):n(this)}}const ip={anticipate:Th,backInOut:Ch,circInOut:_h};function rp(e){"string"===typeof e.ease&&e.ease in ip&&(e.ease=ip[e.ease])}const ap=["motionValue","onUpdate","onComplete","element"];class lp extends np{constructor(e){rp(e),Uh(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const t=this.options,{motionValue:n,onUpdate:i,onComplete:r,element:a}=t,l=s(t,ap);if(!n)return;if(void 0!==e)return void n.set(e);const o=new Wh(m(m({},l),{},{autoplay:!1})),c=Math.max(10,Du.now()-this.startTime),u=Vo(0,10,c-10);n.setWithVelocity(o.sample(Math.max(0,c-u)).value,o.sample(c).value,u),o.stop()}}const sp=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!kc.test(e)&&"0"!==e||e.startsWith("url(")));function op(e){e.duration=0,e.type="keyframes"}const cp=new Set(["opacity","clipPath","filter","transform"]),up=Hh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const dp=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class mp extends Yh{constructor(e){var t;let{autoplay:n=!0,delay:i=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:o="loop",keyframes:c,name:u,motionValue:d,element:h}=e,p=s(e,dp);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Du.now();const f=m({autoplay:n,delay:i,type:r,repeat:a,repeatDelay:l,repeatType:o,name:u,motionValue:d,element:h},p),y=(null===h||void 0===h?void 0:h.KeyframeResolver)||wu;this.keyframeResolver=new y(c,(e,t,n)=>this.onKeyframesResolved(e,t,f,!n),u,d,h),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,i){var r;this.keyframeResolver=void 0;const{name:a,type:l,velocity:s,delay:o,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Du.now(),function(e,t,n,i){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],l=sp(r,t),s=sp(a,t);return Ic(l===s,"You are trying to animate ".concat(t,' from "').concat(r,'" to "').concat(a,'". "').concat(l?a:r,'" is not an animatable value.'),"value-not-animatable"),!(!l||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ep(n))&&i)}(e,a,l,s)||(!uu.instantAnimations&&o||null===u||void 0===u||u(Bh(e,n,t)),e[0]=e[e.length-1],op(n),n.repeat=0);const d=m(m({startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!c&&function(e){var t;const{motionValue:n,name:i,repeatDelay:r,repeatType:a,damping:l,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=n.owner.getProps();return up()&&i&&cp.has(i)&&("transform"!==i||!c)&&!o&&!r&&"mirror"!==a&&0!==l&&"inertia"!==s}(d),p=null===(r=d.motionValue)||void 0===r||null===(r=r.owner)||void 0===r?void 0:r.current,f=h?new lp(m(m({},d),{},{element:p})):new Wh(d);f.finished.then(()=>{this.notifyFinished()}).catch(cu),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),ku=!0,Su(),ju(),ku=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const hp={type:"spring",stiffness:500,damping:25,restSpeed:10},pp={type:"keyframes",duration:.8},fp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yp=(e,t)=>{let{keyframes:n}=t;return n.length>2?pp:Ho.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:hp:fp},vp=e=>null!==e;const gp=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const bp=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return l=>{const o=Pm(i,e)||{},c=o.delay||i.delay||0;let{elapsed:u=0}=i;u-=Im(c);const d=m(m({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},o),{},{delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:r});(function(e){let{when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:o,repeatDelay:c,from:u,elapsed:d}=e,m=s(e,gp);return!!Object.keys(m).length})(o)||Object.assign(d,yp(e,d)),d.duration&&(d.duration=Im(d.duration)),d.repeatDelay&&(d.repeatDelay=Im(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(op(d),0===d.delay&&(h=!0)),(uu.instantAnimations||uu.skipAnimations)&&(h=!0,op(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:i,repeatType:r="loop"}=t;const a=e.filter(vp),l=i&&"loop"!==r&&i%2===1?0:a.length-1;return l&&void 0!==n?n:a[l]}(d.keyframes,o);if(void 0!==e)return void pu.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new Wh(d):new mp(d)}},xp=["transition","transitionEnd"];function kp(e,t){let{protectedKeys:n,needsAnimating:i}=e;const r=n.hasOwnProperty(t)&&!0!==i[t];return i[t]=!1,r}function jp(e,t){var n;let{delay:i=0,transitionOverride:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:l=e.getDefaultTransition(),transitionEnd:o}=t,c=s(t,xp);const u=null===(n=l)||void 0===n?void 0:n.reduceMotion;r&&(l=r);const d=[],h=a&&e.animationState&&e.animationState.getState()[a];for(const s in c){var p;const t=e.getValue(s,null!==(p=e.latestValues[s])&&void 0!==p?p:null),n=c[s];if(void 0===n||h&&kp(h,s))continue;const r=m({delay:i},Pm(l||{},s)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(n)&&n===a&&!r.velocity)continue;let o=!1;if(window.MotionHandoffAnimation){const t=Dm(e);if(t){const e=window.MotionHandoffAnimation(t,s,pu);null!==e&&(r.startTime=e,o=!0)}}Fm(e,s);const f=null!==u&&void 0!==u?u:e.shouldReduceMotion;t.start(bp(s,t,n,f&&Mc.has(s)?{type:!1}:r,e,o));const y=t.animation;y&&d.push(y)}return o&&Promise.all(d).then(()=>{pu.update(()=>{o&&function(e,t){let n=_m(e,t)||{},{transitionEnd:i={},transition:r={}}=n,a=s(n,Lm);a=m(m({},a),i);for(const l in a)Rm(e,l,Om(a[l]))}(e,o)})}),d}function Sp(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),l=e.size,s=(l-1)*i;return"function"===typeof n?n(a,l):1===r?a*i:s-a*i}function wp(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=_m(e,t,"exit"===i.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(a=i.transitionOverride);const l=r?()=>Promise.all(jp(e,r,i)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:r=0,staggerChildren:l,staggerDirection:s}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,l=arguments.length>6?arguments[6]:void 0;const s=[];for(const o of e.variantChildren)o.notify("AnimationStart",t),s.push(wp(o,t,m(m({},l),{},{delay:n+("function"===typeof i?0:i)+Sp(e.variantChildren,o,i,r,a)})).then(()=>o.notify("AnimationComplete",t)));return Promise.all(s)}(e,t,n,r,l,s,i)}:()=>Promise.resolve(),{when:o}=a;if(o){const[e,t]="beforeChildren"===o?[l,s]:[s,l];return e().then(()=>t())}return Promise.all([l(),s(i.delay)])}const Np=Xu.length;function Cp(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Cp(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Np;n++){const i=Xu[n],r=e.props[i];(qu(r)||!1===r)&&(t[i]=r)}return t}function Tp(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const Ep=["transition","transitionEnd"],Ap=[...$u].reverse(),_p=$u.length;function Pp(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:i}=t;return function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>wp(e,t,i));n=Promise.all(r)}else if("string"===typeof t)n=wp(e,t,i);else{const r="function"===typeof t?_m(e,t,i.custom):t;n=Promise.all(jp(e,r,i))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,i)}))}function Mp(e){let t=Pp(e),n=Op(),i=!0;const r=t=>(n,i)=>{var r;const a=_m(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,i=s(a,Ep);n=m(m(m({},n),i),t)}return n};function a(a){const{props:l}=e,s=Cp(e.parent)||{},o=[],c=new Set;let u={},d=1/0;for(let t=0;t<_p;t++){const h=Ap[t],p=n[h],f=void 0!==l[h]?l[h]:s[h],y=qu(f),v=h===a?p.isActive:null;!1===v&&(d=t);let g=f===s[h]&&f!==l[h]&&y;if(g&&i&&e.manuallyAnimateOnMount&&(g=!1),p.protectedKeys=m({},u),!p.isActive&&null===v||!f&&!p.prevProp||Gu(f)||"boolean"===typeof f)continue;const b=Lp(p.prevProp,f);let x=b||h===a&&p.isActive&&!g&&y||t>d&&y,k=!1;const j=Array.isArray(f)?f:[f];let S=j.reduce(r(h),{});!1===v&&(S={});const{prevResolvedValues:w={}}=p,N=m(m({},w),S),C=t=>{x=!0,c.has(t)&&(k=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=S[e],n=w[e];if(u.hasOwnProperty(e))continue;let i=!1;i=Mm(t)&&Mm(n)?!Tp(t,n):t!==n,i?void 0!==t&&null!==t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=S,p.isActive&&(u=m(m({},u),S)),i&&e.blockInitialAnimation&&(x=!1);const T=g&&b;x&&(!T||k)&&o.push(...j.map(t=>{const n={type:h};if("string"===typeof t&&i&&!T&&e.manuallyAnimateOnMount&&e.parent){const{parent:i}=e,r=_m(i,t);if(i.enteringChildren&&r){const{delayChildren:t}=r.transition||{};n.delay=Sp(i.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof l.initial){const n=_m(e,Array.isArray(l.initial)?l.initial[0]:l.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!==i&&void 0!==i?i:null}),o.push({animation:t})}let h=Boolean(o.length);return!i||!1!==l.initial&&l.initial!==l.animate||e.manuallyAnimateOnMount||(h=!1),i=!1,h?t(o):Promise.resolve()}return{animateChanges:a,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)}),n[t].isActive=i;const l=a(t);for(const e in n)n[e].protectedKeys={};return l},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Op()}}}function Lp(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Tp(t,e)}function Rp(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Op(){return{animate:Rp(!0),whileInView:Rp(),whileHover:Rp(),whileTap:Rp(),whileDrag:Rp(),whileFocus:Rp(),exit:Rp()}}let Fp=0;const Dp={animation:{Feature:class extends Am{constructor(e){super(e),e.animationState||(e.animationState=Mp(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Am{constructor(){super(...arguments),this.id=Fp++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Ip={x:!1,y:!1};function Bp(){return Ip.x||Ip.y}function zp(e){return[e("x"),e("y")]}function Up(e){return e.max-e.min}function Yp(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=i,e.originPoint=jd(t.min,t.max,e.origin),e.scale=Up(n)/Up(t),e.translate=jd(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Kp(e,t,n,i){Yp(e.x,t.x,n.x,i?i.originX:void 0),Yp(e.y,t.y,n.y,i?i.originY:void 0)}function Wp(e,t,n){e.min=n.min+t.min,e.max=e.min+Up(t)}function Hp(e,t,n){e.min=t.min-n.min,e.max=e.min+Up(t)}function Vp(e,t,n){Hp(e.x,t.x,n.x),Hp(e.y,t.y,n.y)}const Gp=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qp(e){return Gp.has(e.tagName)||!0===e.isContentEditable}function $p(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const Xp=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Qp(e){return{point:{x:e.pageX,y:e.pageY}}}function Zp(e,t,n,i){return $p(e,t,(e=>t=>Xp(t)&&e(t,Qp(t)))(n),i)}const Jp=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ef=(e,t)=>Math.abs(e-t);const tf=new Set(["auto","scroll"]);class nf{constructor(e,t){let{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3,element:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=lf(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ef(e.x,t.x),i=ef(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:i}=e,{timestamp:r}=yu;this.history.push(m(m({},i),{},{timestamp:r}));const{onStart:a,onMove:l}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rf(t,this.transformPagePoint),pu.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=lf("pointercancel"===e.type?this.lastMoveEventInfo:rf(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),i&&i(e,a)},!Xp(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const s=rf(Qp(e),this.transformPagePoint),{point:o}=s,{timestamp:c}=yu;this.history=[m(m({},o),{},{timestamp:c})];const{onSessionStart:u}=t;u&&u(e,lf(s,this.history)),this.removeListeners=Um(Zp(this.contextWindow,"pointermove",this.handlePointerMove),Zp(this.contextWindow,"pointerup",this.handlePointerUp),Zp(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let t=e.parentElement;for(;t;){const e=getComputedStyle(t);(tf.has(e.overflowX)||tf.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},r=i.x-t.x,a=i.y-t.y;0===r&&0===a||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r,this.lastMoveEventInfo.point.y+=a):this.history.length>0&&(this.history[0].x-=r,this.history[0].y-=a),this.scrollPositions.set(e,i),pu.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),fu(this.updatePoint)}}function rf(e,t){return t?{point:t(e.point)}:e}function af(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lf(e,t){let{point:n}=e;return{point:n,delta:af(n,of(t)),offset:af(n,sf(t)),velocity:cf(t,.1)}}function sf(e){return e[0]}function of(e){return e[e.length-1]}function cf(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=of(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Im(t)));)n--;if(!i)return{x:0,y:0};const a=Bm(r.timestamp-i.timestamp);if(0===a)return{x:0,y:0};const l={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function uf(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function df(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const mf=.35;function hf(e,t,n){return{min:pf(e,t),max:pf(e,n)}}function pf(e,t){return"number"===typeof e?e:e[t]||0}const ff=new WeakMap;class yf{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new nf(e,{onSessionStart:e=>{t?(this.stopAnimation(),this.snapToCursor(Qp(e).point)):this.pauseAnimation()},onStart:(e,t)=>{this.stopAnimation();const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?Ip[a]?null:(Ip[a]=!0,()=>{Ip[a]=!1}):Ip.x||Ip.y?null:(Ip.x=Ip.y=!0,()=>{Ip.x=Ip.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zp(e=>{let t=this.getAxisMotionValue(e).get()||0;if(lc.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=Up(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),r&&pu.postRender(()=>r(e,t)),Fm(this.visualElement,"transform");const{animationState:l}=this.visualElement;l&&l.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:l}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(l),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,l),this.updateAxis("y",t.point,l),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>zp(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,distanceThreshold:n,contextWindow:Jp(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&pu.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!vf(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:i,max:r}=t;return void 0!==i&&e<i?e=n?jd(i,e,n.min):Math.max(e,i):void 0!==r&&e>r&&(e=n?jd(r,e,n.max):Math.min(e,r)),e}(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&Sm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,t){let{top:n,left:i,bottom:r,right:a}=t;return{x:uf(e.x,i,a),y:uf(e.y,n,r)}}(i.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mf;return!1===e?e=0:!0===e&&(e=mf),{x:hf(e,"left","right"),y:hf(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zp(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sm(e))return!1;const n=e.current;Bc(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(e,t,n){const i=Wd(e,n),{scroll:r}=t;return r&&(Ud(i.x,r.offset.x),Ud(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:df(e.x,t.x),y:df(e.y,t.y)}}(i.layout.layoutBox,r);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Ad(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),s=this.constraints||{},o=zp(l=>{if(!vf(l,t,this.currentDirection))return;let o=s&&s[l]||{};a&&(o={min:0,max:0});const c=i?200:1e6,u=i?40:1e7,d=m(m({type:"inertia",velocity:n?e[l]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},r),o);return this.startAxisValueAnimation(l,d)});return Promise.all(o).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Fm(this.visualElement,e),n.start(bp(e,n,0,t,this.visualElement,!1))}stopAnimation(){zp(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zp(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){zp(t=>{const{drag:n}=this.getProps();if(!vf(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:a}=i.layout.layoutBox[t],l=r.get()||0;r.set(e[t]-jd(n,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Sm(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zp(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=Up(e),r=Up(t);return r>i?n=Rh(t.min,t.max-i,e.min):i>r&&(n=Rh(e.min,e.max-r,t.min)),Vo(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zp(t=>{if(!vf(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:a}=this.constraints[t];n.set(jd(r,a,i[t]))})}addListeners(){if(!this.visualElement.current)return;ff.set(this.visualElement,this);const e=this.visualElement.current,t=Zp(e,"pointerdown",t=>{const{drag:n,dragListener:i=!0}=this.getProps(),r=t.target,a=r!==e&&qp(r);n&&i&&!a&&this.start(t)}),n=()=>{const{dragConstraints:e}=this.getProps();Sm(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pu.read(n);const a=$p(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(zp(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=mf,dragMomentum:l=!0}=e;return m(m({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:l})}}function vf(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const gf=e=>(t,n)=>{e&&pu.postRender(()=>e(t,n))};const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xf=!1;class kf extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),xf&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions(m(m({},r.options),{},{layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()}))),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:a}=n;return a?(a.isPresent=r,e.layoutDependency!==t&&a.setOptions(m(m({},a.options),{},{layoutDependency:t})),xf=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||pu.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lu.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;xf=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jf(e){const[t,n]=zo(),i=(0,r.useContext)(Co);return(0,oa.jsx)(kf,m(m({},e),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(jm),isPresent:t,safeToRemove:n}))}function Sf(e,t){const n=Du.now(),i=r=>{let{timestamp:a}=r;const l=a-n;l>=t&&(fu(i),e(l-t))};return pu.setup(i,!0),()=>fu(i)}function wf(e){return Po(e)&&"ownerSVGElement"in e}const Nf=["TopLeft","TopRight","BottomLeft","BottomRight"],Cf=Nf.length,Tf=e=>"string"===typeof e?parseFloat(e):e,Ef=e=>"number"===typeof e||sc.test(e);function Af(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const _f=Mf(0,.5,Ah),Pf=Mf(.5,.95,cu);function Mf(e,t,n){return i=>i<e?0:i>t?1:n(Rh(e,t,i))}function Lf(e,t){e.min=t.min,e.max=t.max}function Rf(e,t){Lf(e.x,t.x),Lf(e.y,t.y)}function Of(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ff(e,t,n,i,r){return e=Od(e-=t,1/n,i),void 0!==r&&(e=Od(e,1/r,i)),e}function Df(e,t,n,i,r){let[a,l,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;lc.test(t)&&(t=parseFloat(t),t=jd(l.min,l.max,t/100)-l.min);if("number"!==typeof t)return;let s=jd(a.min,a.max,i);e===a&&(s-=t),e.min=Ff(e.min,t,n,s,r),e.max=Ff(e.max,t,n,s,r)}(e,t[a],t[l],t[s],t.scale,i,r)}const If=["x","scaleX","originX"],Bf=["y","scaleY","originY"];function zf(e,t,n,i){Df(e.x,t,If,n?n.x:void 0,i?i.x:void 0),Df(e.y,t,Bf,n?n.y:void 0,i?i.y:void 0)}function Uf(e){return 0===e.translate&&1===e.scale}function Yf(e){return Uf(e.x)&&Uf(e.y)}function Kf(e,t){return e.min===t.min&&e.max===t.max}function Wf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Hf(e,t){return Wf(e.x,t.x)&&Wf(e.y,t.y)}function Vf(e){return Up(e.x)/Up(e.y)}function Gf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class qf{constructor(){this.members=[]}add(e){_u(this.members,e),e.scheduleRender()}remove(e){if(Pu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const i=n.options.layoutDependency,r=e.options.layoutDependency;void 0!==i&&void 0!==r&&i===r||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;!1===a&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $f=(e,t)=>e.depth-t.depth;class Xf{constructor(){this.children=[],this.isDirty=!1}add(e){_u(this.children,e),this.isDirty=!0}remove(e){Pu(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($f),this.isDirty=!1,this.children.forEach(e)}}const Qf={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Zf=["","X","Y","Z"];let Jf=0;function ey(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function ty(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Dm(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",pu,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&ty(i)}function ny(e){let{attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Jf++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mu.value&&(Qf.nodes=Qf.calculatedTargetDeltas=Qf.calculatedProjections=0),this.nodes.forEach(ay),this.nodes.forEach(my),this.nodes.forEach(hy),this.nodes.forEach(ly),mu.addProjectionMetrics&&mu.addProjectionMetrics(Qf)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xf)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Mu),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t&&t.notify(...i)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=wf(e)&&!(wf(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:i,layout:r,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||i)&&(this.isLayoutDirty=!0),t){let n,i=0;const r=()=>this.root.updateBlockedByResize=!1;pu.read(()=>{i=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==i&&(i=e,this.root.updateBlockedByResize=!0,n&&n(),n=Sf(r,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(dy)))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||r)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:i,layout:r}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const l=this.options.transition||a.getDefaultTransition()||by,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=a.getProps(),c=!this.targetLayout||!Hf(this.targetLayout,r),u=!n&&i;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=m(m({},Pm(l,"layout")),{},{onPlay:s,onComplete:o});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||dy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(py),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ty(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(oy);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(cy);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uy),this.nodes.forEach(iy),this.nodes.forEach(ry)):this.nodes.forEach(cy),this.clearAllSnapshots();const e=Du.now();yu.delta=Vo(0,1e3/60,e-yu.timestamp),yu.timestamp=e,yu.isProcessing=!0,vu.update.process(yu),vu.preRender.process(yu),vu.render.process(yu),yu.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sy),this.sharedNodes.forEach(fy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pu.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pu.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Up(this.snapshot.measuredBox.x)||Up(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Yf(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||Md(this.latestValues)||r)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),jy((i=n).x),jy(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(wy))){const{scroll:e}=this.root;e&&(Ud(n.x,e.offset.x),Ud(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Rf(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:r,options:a}=t;t!==this.root&&r&&a.layoutScroll&&(r.wasRoot&&Rf(n,e),Ud(n.x,r.offset.x),Ud(n.y,r.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Rf(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Kd(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Md(e.latestValues)&&Kd(n,e.latestValues)}return Md(this.latestValues)&&Kd(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Rf(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Md(e.latestValues))continue;Pd(e.latestValues)&&e.updateSnapshot();const i=_c();Rf(i,e.measurePageBox()),zf(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return Md(this.latestValues)&&zf(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=m(m(m({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yu.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(t||i&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:a}=this.options;if(!this.layout||!r&&!a)return;this.resolvedRelativeTargetAt=yu.timestamp;const l=this.getClosestProjectingParent();var s,o,c;(l&&this.linkedParentVersion!==l.layoutVersion&&!l.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(l&&l.layout?this.createRelativeTarget(l,this.layout.layoutBox,l.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,c=this.relativeParent.target,Wp(s.x,o.x,c.x),Wp(s.y,o.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Rf(this.target,this.layout.layoutBox),Id(this.target,this.targetDelta)):Rf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,l&&Boolean(l.resumingFrom)===Boolean(this.resumingFrom)&&!l.options.layoutScroll&&l.target&&1!==this.animationProgress?this.createRelativeTarget(l,this.target,l.target):this.relativeParent=this.relativeTarget=void 0),mu.value&&Qf.calculatedTargetDeltas++)}getClosestProjectingParent(){if(this.parent&&!Pd(this.parent.latestValues)&&!Ld(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Vp(this.relativeTargetOrigin,t,n),Rf(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===yu.timestamp&&(i=!1),i)return;const{layout:r,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!a)return;Rf(this.layoutCorrected,this.layout.layoutBox);const l=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let a,l;t.x=t.y=1;for(let s=0;s<r;s++){a=n[s],l=a.projectionDelta;const{visualElement:r}=a.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Kd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Id(e,l)),i&&Md(a.latestValues)&&Kd(e,a.latestValues))}t.x<zd&&t.x>Bd&&(t.x=1),t.y<zd&&t.y>Bd&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=t;o?(this.projectionDelta&&this.prevProjectionDelta?(Of(this.prevProjectionDelta.x,this.projectionDelta.x),Of(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Kp(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===l&&this.treeScale.y===s&&Gf(this.projectionDelta.x,this.prevProjectionDelta.x)&&Gf(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),mu.value&&Qf.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},r=m({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const l={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),o=this.getStack(),c=!o||o.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(gy));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var o,m,h,p,f,y;yy(a.x,e.x,n),yy(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vp(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,p=this.relativeTargetOrigin,f=l,y=n,vy(h.x,p.x,f.x,y),vy(h.y,p.y,f.y,y),d&&(o=this.relativeTarget,m=d,Kf(o.x,m.x)&&Kf(o.y,m.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Rf(d,this.relativeTarget)),s&&(this.animationValues=r,function(e,t,n,i,r,a){var l,s;if(r)e.opacity=jd(0,null!==(l=n.opacity)&&void 0!==l?l:1,_f(i)),e.opacityExit=jd(null!==(s=t.opacity)&&void 0!==s?s:1,0,Pf(i));else if(a){var o,c;e.opacity=jd(null!==(o=t.opacity)&&void 0!==o?o:1,null!==(c=n.opacity)&&void 0!==c?c:1,i)}for(let u=0;u<Cf;u++){const r="border".concat(Nf[u],"Radius");let a=Af(t,r),l=Af(n,r);void 0===a&&void 0===l||(a||(a=0),l||(l=0),0===a||0===l||Ef(a)===Ef(l)?(e[r]=Math.max(jd(Tf(a),Tf(l),i),0),(lc.test(l)||lc.test(a))&&(e[r]+="%")):e[r]=l)}(t.rotate||n.rotate)&&(e.rotate=jd(t.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pu.update(()=>{bf.hasAnimatedSinceResize=!0,Ym.layout++,this.motionValue||(this.motionValue=Uu(0)),this.currentAnimation=function(e,t,n){const i=Pc(e)?e:Uu(e);return i.start(bp("",i,t,n)),i.animation}(this.motionValue,[0,1e3],m(m({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Ym.layout--},onComplete:()=>{Ym.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&Sy(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Up(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=Up(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}Rf(t,n),Kd(t,r),Kp(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new qf);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&ey("z",e,i,this.animationValues);for(let r=0;r<Zf.length;r++)ey("rotate".concat(Zf[r]),e,i,this.animationValues),ey("skew".concat(Zf[r]),e,i,this.animationValues);e.render();for(const r in i)e.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=um(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=um(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Md(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let i="";const r=e.x.translate/t.x,a=e.y.translate/t.y,l=(null===n||void 0===n?void 0:n.z)||0;if((r||a||l)&&(i="translate3d(".concat(r,"px, ").concat(a,"px, ").concat(l,"px) ")),1===t.x&&1===t.y||(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:a,skewX:l,skewY:s}=n;e&&(i="perspective(".concat(e,"px) ").concat(i)),t&&(i+="rotate(".concat(t,"deg) ")),r&&(i+="rotateX(".concat(r,"deg) ")),a&&(i+="rotateY(".concat(a,"deg) ")),l&&(i+="skewX(".concat(l,"deg) ")),s&&(i+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,o=e.y.scale*t.y;return 1===s&&1===o||(i+="scale(".concat(s,", ").concat(o,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);n&&(a=n(r,a)),e.transform=a;const{x:l,y:s}=this.projectionDelta;var o,c;(e.transformOrigin="".concat(100*l.origin,"% ").concat(100*s.origin,"% 0"),i.animationValues)?e.opacity=i===this?null!==(o=null!==(c=r.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const u in wd){if(void 0===r[u])continue;const{correct:t,applyTo:n,isCSSVariable:l}=wd[u],s="none"===a?r[u]:t(r[u],i);if(n){const t=n.length;for(let i=0;i<t;i++)e[n[i]]=s}else l?this.options.visualElement.renderState.vars[u]=s:e[u]=s}this.options.layoutId&&(e.pointerEvents=i===this?um(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(oy),this.root.sharedNodes.clear()}}}function iy(e){e.updateLayout()}function ry(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,a=n.source!==e.layout.source;"size"===r?zp(e=>{const i=a?n.measuredBox[e]:n.layoutBox[e],r=Up(i);i.min=t[e].min,i.max=i.min+r}):Sy(r,n.layoutBox,t)&&zp(i=>{const r=a?n.measuredBox[i]:n.layoutBox[i],l=Up(t[i]);r.max=r.min+l,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+l)});const l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Kp(l,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Kp(s,e.applyTransform(i,!0),n.measuredBox):Kp(s,t,n.layoutBox);const o=!Yf(l);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:a}=i;if(r&&a){const l={x:{min:0,max:0},y:{min:0,max:0}};Vp(l,n.layoutBox,r.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Vp(s,t,a.layoutBox),Hf(l,s)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=l,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:l,hasLayoutChanged:o,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ay(e){mu.value&&Qf.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ly(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sy(e){e.clearSnapshot()}function oy(e){e.clearMeasurements()}function cy(e){e.isLayoutDirty=!1}function uy(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function my(e){e.resolveTargetDelta()}function hy(e){e.calcProjection()}function py(e){e.resetSkewAndRotation()}function fy(e){e.removeLeadSnapshot()}function yy(e,t,n){e.translate=jd(t.translate,0,n),e.scale=jd(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function vy(e,t,n,i){e.min=jd(t.min,n.min,i),e.max=jd(t.max,n.max,i)}function gy(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const by={duration:.45,ease:[.4,0,.1,1]},xy=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ky=xy("applewebkit/")&&!xy("chrome/")?Math.round:cu;function jy(e){e.min=ky(e.min),e.max=ky(e.max)}function Sy(e,t,n){return"position"===e||"preserve-aspect"===e&&(i=Vf(t),r=Vf(n),a=.2,!(Math.abs(i-r)<=a));var i,r,a}function wy(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Ny=ny({attachResizeListener:(e,t)=>$p(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||(null===(e=document.body)||void 0===e?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Cy={current:void 0},Ty=ny({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cy.current){const e=new Ny({});e.mount(window),e.setOptions({layoutScroll:!0}),Cy.current=e}return Cy.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ey={pan:{Feature:class extends Am{constructor(){super(...arguments),this.removePointerDownListener=cu}onPointerDown(e){this.session=new nf(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jp(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:gf(e),onStart:gf(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&pu.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=Zp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Am{constructor(e){super(e),this.removeGroupControls=cu,this.removeListeners=cu,this.controls=new yf(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cu}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:Ty,MeasureLayout:jf}};function Ay(e,t){const n=function(e,t,n){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"===typeof e){var i;let r=document;t&&(r=t.current);const a=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(e=>null!=e)}(e),i=new AbortController;return[n,m(m({passive:!0},t),{},{signal:i.signal}),()=>i.abort()]}function _y(e){return!("touch"===e.pointerType||Bp())}function Py(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&pu.postRender(()=>r(t,Qp(t)))}const My=(e,t)=>!!t&&(e===t||My(e,t.parentElement)),Ly=new WeakSet;function Ry(e){return t=>{"Enter"===t.key&&e(t)}}function Oy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Fy(e){return Xp(e)&&!Bp()}function Dy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,a]=Ay(e,n),l=e=>{const i=e.currentTarget;if(!Fy(e))return;Ly.add(i);const a=t(i,e),l=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",o),Ly.has(i)&&Ly.delete(i),Fy(e)&&"function"===typeof a&&a(e,{success:t})},s=e=>{l(e,i===window||i===document||n.useGlobalTarget||My(i,e.target))},o=e=>{l(e,!1)};window.addEventListener("pointerup",s,r),window.addEventListener("pointercancel",o,r)};return i.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener("pointerdown",l,r),Mo(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=Ry(()=>{if(Ly.has(n))return;Oy(n,"down");const e=Ry(()=>{Oy(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Oy(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)})(e,r)),qp(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function Iy(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&pu.postRender(()=>r(t,Qp(t)))}const By=["root"],zy=new WeakMap,Uy=new WeakMap,Yy=e=>{const t=zy.get(e.target);t&&t(e)},Ky=e=>{e.forEach(Yy)};function Wy(e,t,n){const i=function(e){let{root:t}=e,n=s(e,By);const i=t||document;Uy.has(i)||Uy.set(i,{});const r=Uy.get(i),a=JSON.stringify(n);return r[a]||(r[a]=new IntersectionObserver(Ky,m({root:t},n))),r[a]}(t);return zy.set(e,n),i.observe(e),()=>{zy.delete(e),i.unobserve(e)}}const Hy={some:0,all:1};const Vy={inView:{Feature:class extends Am{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:Hy[i]};return Wy(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),a=t?n:i;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Am{mount(){const{current:e}=this.node;e&&(this.unmount=Dy(e,(e,t)=>(Iy(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return Iy(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Am{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Ib){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Um($p(this.node.current,"focus",()=>this.onFocus()),$p(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Am{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,a]=Ay(e,n),l=e=>{if(!_y(e))return;const{target:n}=e,i=t(n,e);if("function"!==typeof i||!n)return;const a=e=>{_y(e)&&(i(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,r)};return i.forEach(e=>{e.addEventListener("pointerenter",l,r)}),a}(e,(e,t)=>(Py(this.node,t,"Start"),e=>Py(this.node,e,"End"))))}unmount(){}}}},Gy={layout:{ProjectionNode:Ty,MeasureLayout:jf}},qy=Em(m(m(m(m({},Dp),Vy),Ey),Gy),qd);const $y=["temel_bilgiler","kapasite","norm.ders_dagilimi","ik.local_staff","gelirler.unit_fee","giderler.isletme"],Xy={temel_bilgiler:"Temel Bilgiler",kapasite:"Kapasite","norm.ders_dagilimi":"Norm","ik.local_staff":"\u0130K","gelirler.unit_fee":"Gelirler","giderler.isletme":"Giderler"},Qy={temel_bilgiler:"temel-bilgiler",kapasite:"kapasite","norm.ders_dagilimi":"norm","ik.local_staff":"ik","gelirler.unit_fee":"gelirler","giderler.isletme":"giderler"},Zy=[{key:"all",label:"T\xc3\xbcm\xc3\xbc"},{key:"ready",label:"Merkeze \xc4\xb0letmeye Haz\xc4\xb1r"},{key:"in_review",label:"\xc4\xb0ncelemede"},{key:"revision",label:"Revize \xc4\xb0stendi"},{key:"approved",label:"Kontrol Edildi"},{key:"sent",label:"Merkeze \xc4\xb0letildi"},{key:"approved_final",label:"Onayland\xc4\xb1"}];function Jy(e){const t=null===e||void 0===e?void 0:e.status,n=null===e||void 0===e?void 0:e.sent_at;switch(t){case"revision_requested":return{label:"Revize \u0130stendi",className:"is-bad"};case"sent_for_approval":return{label:"Merkeze iletildi",className:"is-warn"};case"approved":return n?{label:"Onayland\u0131",className:"is-ok"}:{label:"Kontrol edildi",className:"is-ok"};case"in_review":return{label:"\u0130ncelemede",className:"is-warn"};case"submitted":return{label:"Onayda",className:"is-warn"};default:return{label:"Taslak",className:"is-muted"}}}function ev(){var e;const t=da(),n=Ee(),i=Ce(),[a,l]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)("all"),[d,m]=(0,r.useState)(null),h=(0,r.useRef)(null),p=(0,r.useId)(),f=(0,r.useCallback)(()=>m(null),[]);!function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,r.useEffect)(()=>{if(!n)return;const i=n=>{const i=null===e||void 0===e?void 0:e.current;i&&(i.contains(n.target)||null===t||void 0===t||t(n))};return document.addEventListener("mousedown",i,!0),document.addEventListener("touchstart",i,!0),()=>{document.removeEventListener("mousedown",i,!0),document.removeEventListener("touchstart",i,!0)}},[e,t,n])}(h,f,Boolean(d)),(0,r.useEffect)(()=>{function e(e){"Escape"===e.key&&f()}return document.body.style.overflow=d&&"object"===typeof d?"hidden":"auto",window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,f]);const y=(0,r.useMemo)(()=>{var e,n;const i=null===(e=t.user)||void 0===e?void 0:e.role;if("admin"===i||"manager"===i||"accountant"===i)return!0;const r=null===(n=t.user)||void 0===n?void 0:n.permissions;return!!Array.isArray(r)&&r.some(e=>"page.manage_permissions"===e.resource&&("read"===e.action||"write"===e.action))},[t.user]);(0,r.useEffect)(()=>{var e;return null===n||void 0===n||null===(e=n.setHeaderMeta)||void 0===e||e.call(n,{title:"Review Queue",subtitle:"Mod\xfcl onay kuyru\u011fu",centered:!0}),()=>{var e;null===n||void 0===n||null===(e=n.clearHeaderMeta)||void 0===e||e.call(n)}},[n]);const v=(0,r.useCallback)(async()=>{if(y){o(!0);try{const e=await sa.managerGetReviewQueue();l(Array.isArray(e)?e:[])}catch(e){console.error(e),Kr.error((null===e||void 0===e?void 0:e.message)||"Failed to load review queue")}finally{o(!1)}}},[y]);(0,r.useEffect)(()=>{v()},[v]);const g=(0,r.useCallback)((e,t)=>{if(!e)return!1;const n=e.scenario||{},i=n.status,r=n.sent_at,a=Number(e.approvedCount||0)===$y.length,l="approved"===i&&!r,s="approved"===i&&!!r;switch(t){case"ready":return l&&a;case"in_review":return"in_review"===i||"submitted"===i;case"revision":return"revision_requested"===i;case"approved":return l;case"sent":return"sent_for_approval"===i;case"approved_final":return s;default:return!0}},[]),b=(0,r.useMemo)(()=>{const e=Object.fromEntries(Zy.map(e=>[e.key,0]));return e.all=Array.isArray(a)?a.length:0,Array.isArray(a)?(a.forEach(t=>{Zy.forEach(n=>{"all"!==n.key&&g(t,n.key)&&(e[n.key]+=1)})}),e):e},[a,g]),x=(0,r.useMemo)(()=>Array.isArray(a)?"all"===c?a:a.filter(e=>g(e,c)):[],[a,c,g]),k=(0,r.useCallback)((e,t,n)=>{const r=Qy[n];r&&(Hl(e,t),Gl(e,t,r),ql(r),i("/schools/".concat(e,"/").concat(r)))},[i]),j=async(e,t)=>{try{const n=await sa.calculateScenario(e,t);if(!n||!n.results)return void Kr.error("Hesaplama tamamlanamad\u0131");await sa.sendForApproval(e,t),Kr.success("Merkeze iletildi"),v()}catch(Ib){console.error(Ib),Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"Failed to send for approval")}},S=(0,r.useMemo)(()=>{const e={};for(const t of x){const n=String(t.school.id);e[n]||(e[n]={school:t.school,scenarios:[]}),e[n].scenarios.push(t)}return Object.values(e)},[x]);if(!y)return(0,oa.jsx)("div",{className:"container",children:(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:"Access Denied"}),(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"You do not have permission to view the review queue."})]})});const w=null===d||void 0===d?void 0:d.scenario,N=null===d||void 0===d?void 0:d.school,C=w?Jy(w):null,T=!!d&&d.approvedCount===$y.length;return(0,oa.jsxs)("div",{className:"container",children:[(0,oa.jsx)(Ko,{children:d&&"object"===typeof d?(0,oa.jsx)(qy.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"rq-overlay"},"rq-overlay"):null}),(0,oa.jsx)(Ko,{children:d&&"object"===typeof d?(0,oa.jsxs)("div",{className:"rq-modal-wrap",role:"dialog","aria-modal":"true","aria-label":"Scenario details",children:[(0,oa.jsx)(qy.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.05}},className:"rq-close-btn",type:"button",onClick:f,"aria-label":"Close",children:(0,oa.jsx)(tv,{})},"rq-close-".concat(null===w||void 0===w?void 0:w.id,"-").concat(p)),(0,oa.jsxs)(qy.div,{layoutId:"rq-card-".concat(null===w||void 0===w?void 0:w.id,"-").concat(p),ref:h,className:"card rq-modal",children:[(0,oa.jsxs)("div",{className:"rq-modal-head",children:[(0,oa.jsx)(qy.div,{layoutId:"rq-thumb-".concat(null===w||void 0===w?void 0:w.id,"-").concat(p),className:"rq-thumb rq-thumb--lg",children:nv(w)}),(0,oa.jsxs)("div",{className:"rq-modal-head-text",children:[(0,oa.jsxs)(qy.div,{layoutId:"rq-title-".concat(null===w||void 0===w?void 0:w.id,"-").concat(p),className:"rq-title rq-title--lg",children:[null===w||void 0===w?void 0:w.name," (",null===w||void 0===w?void 0:w.academic_year,")"]}),(0,oa.jsx)("div",{className:"rq-subtitle",children:null===N||void 0===N?void 0:N.name})]}),(0,oa.jsxs)("div",{className:"rq-modal-top-actions",children:[C?(0,oa.jsx)("span",{className:"status-badge ".concat(C.className),children:C.label}):null,d?(0,oa.jsxs)("span",{className:"small is-muted",children:[d.approvedCount,"/",$y.length," onayland\u0131"]}):null,(0,oa.jsx)("button",{className:"btn sm primary",type:"button",onClick:()=>j(N.id,w.id),disabled:!T||"approved"!==(null===w||void 0===w?void 0:w.status)||null!=(null===w||void 0===w?void 0:w.sent_at),title:T?"approved"!==(null===w||void 0===w?void 0:w.status)||null!==w&&void 0!==w&&w.sent_at?"Durum izin vermiyor":void 0:"T\xfcm mod\xfcller tamamlanmal\u0131",children:"Merkeze ilet"})]})]}),(0,oa.jsxs)("div",{className:"rq-modal-body",children:[(0,oa.jsxs)("div",{className:"small is-muted",style:{marginBottom:10},children:["Mod\xfclleri inceleyin. \u201cG\xf6nderildi\u201d durumundaki mod\xfcller i\xe7in ",(0,oa.jsx)("b",{children:"Onayla"})," veya"," ",(0,oa.jsx)("b",{children:"Revizyon \u0130ste"})," kullan\u0131n."]}),(0,oa.jsx)("div",{className:"review-queue-card-inner",children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Mod\xfcl"}),(0,oa.jsx)("th",{children:"Durum"}),(0,oa.jsx)("th",{children:"G\xf6nderildi"}),(0,oa.jsx)("th",{children:"Yorum"}),(0,oa.jsx)("th",{})]})}),(0,oa.jsx)("tbody",{children:null===d||void 0===d||null===(e=d.requiredItems)||void 0===e?void 0:e.map(e=>{let{workId:t,item:n}=e;const i=(null===n||void 0===n?void 0:n.state)||"not_started",r=function(e){switch(e){case"approved":return{label:"Kontrol edildi",className:"is-ok"};case"needs_revision":return{label:"Revize \u0130stendi",className:"is-bad"};case"submitted":return{label:"\u0130ncelemede",className:"is-warn"};case"in_progress":return{label:"Haz\u0131rlan\u0131yor",className:"is-warn"};default:return{label:"Ba\u015flanmad\u0131",className:"is-muted"}}}(i),a=null!==n&&void 0!==n&&n.submitted_at?new Date(n.submitted_at).toLocaleString():"-",l=(null===n||void 0===n?void 0:n.manager_comment)||"-",s="submitted"===i,o="submitted"===i,c=Boolean(Qy[t]);return(0,oa.jsxs)("tr",{className:"submitted"===i?"highlight-row":"",children:[(0,oa.jsx)("td",{children:c?(0,oa.jsx)("button",{type:"button",className:"review-queue-module-link",onClick:()=>{f(),k(N.id,w.id,t)},title:"Mod\xfcle git",children:Xy[t]||t}):Xy[t]||t}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"status-badge ".concat(r.className),children:r.label})}),(0,oa.jsx)("td",{className:"small",children:a}),(0,oa.jsx)("td",{className:"small",style:{maxWidth:260,whiteSpace:"pre-wrap"},children:l}),(0,oa.jsxs)("td",{children:[s?(0,oa.jsx)("button",{className:"btn sm primary",type:"button",onClick:()=>(async(e,t,n)=>{try{await sa.reviewWorkItem(e,t,n,{action:"approve"}),Kr.success("Onayland\u0131"),v()}catch(Ib){console.error(Ib),Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"Failed to approve work item")}})(N.id,w.id,t),children:"Onayla"}):null,o?(0,oa.jsx)("button",{className:"btn sm danger",type:"button",onClick:()=>(async(e,t,n)=>{const i=window.prompt("Revizyon notu (opsiyonel):");if(void 0!==i)try{await sa.reviewWorkItem(e,t,n,{action:"revise",comment:i&&i.trim()?i.trim():void 0}),Kr.success("Revizyon istendi"),v()}catch(Ib){console.error(Ib),Kr.error((null===Ib||void 0===Ib?void 0:Ib.message)||"Failed to request revision")}})(N.id,w.id,t),children:"Revizyon \u0130ste"}):null]})]},t)})})]})})]})]})]}):null}),(0,oa.jsx)("div",{className:"review-queue-tabs",role:"tablist","aria-label":"Senaryo filtresi",children:Zy.map(e=>{var t;return(0,oa.jsxs)("button",{type:"button",role:"tab","aria-selected":c===e.key,className:"review-queue-tab ".concat(c===e.key?"is-active":""),onClick:()=>u(e.key),children:[(0,oa.jsx)("span",{children:e.label}),(0,oa.jsx)("span",{className:"review-queue-count",children:null!==(t=b[e.key])&&void 0!==t?t:0})]},e.key)})}),s?(0,oa.jsx)("div",{className:"card",children:"Loading..."}):0===S.length?(0,oa.jsx)("div",{className:"card",children:(0,oa.jsx)("div",{children:"No scenarios to review"})}):S.map(e=>{let{school:t,scenarios:n}=e;return(0,oa.jsxs)("div",{style:{marginBottom:24},children:[(0,oa.jsx)("div",{style:{fontWeight:700,fontSize:18,marginBottom:8},children:t.name}),(0,oa.jsx)("div",{className:"review-queue-cards",children:n.map(e=>{let{scenario:n,requiredItems:i,approvedCount:r}=e;const a=Jy(n),l=r===$y.length,s={school:t,scenario:n,requiredItems:i,approvedCount:r};return(0,oa.jsx)(qy.div,{layoutId:"rq-card-".concat(n.id,"-").concat(p),className:"card rq-card-compact",onClick:()=>m(s),children:(0,oa.jsxs)("div",{className:"rq-compact-row",children:[(0,oa.jsxs)("div",{className:"rq-compact-left",children:[(0,oa.jsx)(qy.div,{layoutId:"rq-thumb-".concat(n.id,"-").concat(p),className:"rq-thumb",children:nv(n)}),(0,oa.jsxs)("div",{children:[(0,oa.jsxs)(qy.div,{layoutId:"rq-title-".concat(n.id,"-").concat(p),className:"rq-title",children:[n.name," (",n.academic_year,")"]}),(0,oa.jsxs)("div",{className:"rq-subtitle",children:[(0,oa.jsx)("span",{className:"status-badge ".concat(a.className),children:a.label}),(0,oa.jsxs)("span",{className:"small is-muted",style:{marginLeft:8},children:[r,"/",$y.length," onayland\u0131"]})]})]})]}),(0,oa.jsxs)("div",{className:"rq-actions",children:[(0,oa.jsx)("button",{type:"button",className:"rq-open-pill",onClick:e=>{e.stopPropagation(),m(s)},children:"\u0130ncele"}),(0,oa.jsx)("button",{className:"btn sm primary",type:"button",onClick:e=>{e.stopPropagation(),j(t.id,n.id)},disabled:!l||"approved"!==n.status||null!=n.sent_at,title:l?"approved"!==n.status||n.sent_at?"Durum izin vermiyor":void 0:"T\xfcm mod\xfcller tamamlanmal\u0131",children:"Merkeze ilet"})]})]})},n.id)})})]},t.id)})]})}function tv(){return(0,oa.jsxs)(qy.svg,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.05}},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"rq-close-icon",children:[(0,oa.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,oa.jsx)("path",{d:"M18 6l-12 12"}),(0,oa.jsx)("path",{d:"M6 6l12 12"})]})}function nv(e){var t,n;const i=String((null===e||void 0===e?void 0:e.name)||"").trim();if(!i)return"S";const r=i.split(/\s+/).filter(Boolean);return(((null===(t=r[0])||void 0===t?void 0:t[0])||"S")+((null===(n=r[1])||void 0===n?void 0:n[0])||"")).toUpperCase()}function iv(){var e,t,n,i,a,l,s;const o=da(),c=Se(),u=new URLSearchParams(c.search).get("schoolId"),d=Ce(),[m,h]=function(e,t){const[n,i]=r.useState(()=>{try{const n=localStorage.getItem(e);return null!=n?JSON.parse(n):t}catch(n){return t}});return r.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(n))}catch(t){}},[e,n]),[n,i]}("app.sidebarCollapsed",!1),[p,f]=r.useState(null),[y,v]=r.useState(null),g=r.useCallback(e=>{v(e)},[]),b=c.pathname.match(/^\/schools\/([^/]+)/);let x=b?b[1]:u||null;if(!x){const e=function(){try{const e=window.localStorage.getItem("lastActiveSchoolId");return null!=e?e:null}catch(e){return null}}();e&&(x=e)}const k=x?Wl(x):null,j=!o.user||"admin"!==o.user.role,S=x?"/select?schoolId=".concat(x):"/select",w=r.useCallback(()=>f(null),[f]),N=!(null!==p&&void 0!==p&&p.hideDefault),C=r.useMemo(()=>({setHeaderMeta:f,clearHeaderMeta:w,headerPortalEl:y}),[f,w,y]),[T,E]=r.useState(null),A=r.useCallback(e=>{try{if(window.__fsUnsavedChanges)return void E({path:e})}catch(t){}d(e)},[d,E]),_=r.useCallback(e=>t=>{try{window.__fsUnsavedChanges&&(t.preventDefault(),E({path:e}))}catch(n){}},[E]);r.useEffect(()=>{x&&$l(x)},[x]);const P=e=>{let{label:t,icon:n,onClick:i,disabled:r,blocked:a,active:l,rightNode:s,indent:o}=e;return(0,oa.jsxs)("button",{type:"button",className:"app-nav-item"+(l?" is-active":"")+(o?" is-sub":"")+(a?" is-blocked":""),onClick:i,disabled:r,"aria-disabled":a||r?"true":void 0,children:[n?(0,oa.jsx)("span",{className:"app-nav-icon",children:n}):null,(0,oa.jsx)("span",{className:"app-label",children:t}),(0,oa.jsx)("span",{className:"app-right",children:s})]})},M=r.useMemo(()=>{var e,t;if("manager"===(null===(e=o.user)||void 0===e?void 0:e.role))return!0;const n=null===(t=o.user)||void 0===t?void 0:t.permissions;return!!Array.isArray(n)&&n.some(e=>"page.manage_permissions"===e.resource&&("read"===e.action||"write"===e.action))},[null===(e=o.user)||void 0===e?void 0:e.permissions,null===(t=o.user)||void 0===t?void 0:t.role]),L=r.useMemo(()=>{var e,t;const n=null===(e=o.user)||void 0===e?void 0:e.role;if("admin"===n||"manager"===n||"accountant"===n)return!0;const i=null===(t=o.user)||void 0===t?void 0:t.permissions;return!!Array.isArray(i)&&i.some(e=>"page.manage_permissions"===e.resource&&("read"===e.action||"write"===e.action))},[null===(n=o.user)||void 0===n?void 0:n.permissions,null===(i=o.user)||void 0===i?void 0:i.role]),R=x?"/schools/".concat(x):null,O=Boolean(k),F=Boolean(o.token)&&(!o.user||!Array.isArray(o.user.permissions)),D=x?Vl(x,k):null,I=[{id:"temel-bilgiler",label:"Temel Bilgiler",icon:(0,oa.jsx)(Da,{}),path:R?"".concat(R,"/temel-bilgiler"):null},{id:"kapasite",label:"Kapasite",icon:(0,oa.jsx)(Qa,{}),path:R?"".concat(R,"/kapasite"):null},{id:"norm",label:"Norm",icon:(0,oa.jsx)(Ta,{}),path:R?"".concat(R,"/norm"):null},{id:"ik",label:"IK (HR)",icon:(0,oa.jsx)(Ea,{}),path:R?"".concat(R,"/ik"):null},{id:"gelirler",label:"Gelirler",icon:(0,oa.jsx)(Ia,{}),path:R?"".concat(R,"/gelirler"):null},{id:"giderler",label:"Giderler",icon:(0,oa.jsx)(Fa,{}),path:R?"".concat(R,"/giderler"):null},{id:"detayli-rapor",label:"Detayli Rapor",icon:(0,oa.jsx)(Za,{}),path:R?"".concat(R,"/detayli-rapor"):null},{id:"rapor",label:"Rapor",icon:(0,oa.jsx)(Ra,{}),path:R?"".concat(R,"/rapor"):null}];let B;if(x)if(F)B=[];else if(o.user&&Array.isArray(o.user.permissions)){const e=o.user.country_id;B=I.filter(t=>{const n=t.id.replace(/-/g,"_"),i="page.".concat(n);return!!Bl(o.user,i,"read",{schoolId:Number(x),countryId:e})||o.user.permissions.some(t=>{if("read"!==t.action&&"write"!==t.action)return!1;if(!String(t.resource||"").startsWith("section.".concat(n,".")))return!1;const i=null!=t.scope_country_id?Number(t.scope_country_id):null,r=null!=t.scope_school_id?Number(t.scope_school_id):null;return(null==i||null==e||Number(i)===Number(e))&&((null==r||null==x||Number(r)===Number(x))&&((null==r||null!=x)&&(null==i||null!=e)))})})}else B=[];else B=I;return(0,oa.jsxs)("div",{className:"app-shell "+(m?"is-collapsed":""),children:[(0,oa.jsxs)("aside",{className:"app-sidebar "+(m?"close":""),children:[(0,oa.jsxs)("div",{className:"app-logo-details",children:[(0,oa.jsx)("div",{className:"app-logo-mark",children:"FS"}),(0,oa.jsx)("span",{className:"app-logo-name",children:"Feasibility Studio"}),(0,oa.jsx)("button",{type:"button",className:"app-sidebar-toggle",onClick:()=>h(e=>!e),"aria-label":"Toggle sidebar",children:(0,oa.jsx)(Ma,{style:{transform:m?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.3s ease"}})})]}),(0,oa.jsxs)("ul",{className:"app-nav-links",children:[(0,oa.jsx)("li",{children:(0,oa.jsxs)(Ot,{to:"/schools",end:!0,className:e=>{let{isActive:t}=e;return"app-nav-link"+(t?" is-active":"")},onClick:_("/schools"),children:[(0,oa.jsx)("span",{className:"app-nav-icon",children:(0,oa.jsx)(Va,{"aria-hidden":"true"})}),(0,oa.jsx)("span",{className:"app-label",children:"Dashboard"})]})},"dashboard"),(()=>{var e;return"admin"!==(null===(e=o.user)||void 0===e?void 0:e.role)?null:Us.map(e=>{const t=e.icon,n=e.path||"/admin?tab=".concat(e.key);return(0,oa.jsx)("li",{children:(0,oa.jsxs)(Ot,{to:n,className:e=>{let{isActive:t}=e;return"app-nav-link"+(t?" is-active":"")},onClick:_(n),children:[t?(0,oa.jsx)("span",{className:"app-nav-icon",children:(0,oa.jsx)(t,{"aria-hidden":"true"})}):null,(0,oa.jsx)("span",{className:"app-label",children:e.label})]})},"admin-".concat(e.key))})})(),j?F?I.map(e=>(0,oa.jsx)("li",{className:"app-nav-placeholder","aria-hidden":"true",children:(0,oa.jsx)("span",{className:"app-nav-placeholder-line"})},"placeholder-".concat(e.id))):B.map(e=>{const t=!(O||c.pathname.startsWith("/select"))||!e.path;let n=!1;return e.path&&(n=c.pathname.startsWith(e.path)),!n&&c.pathname.startsWith("/select")&&D&&(n=e.id===D),(c.pathname.startsWith("/manage-permissions")||c.pathname.startsWith("/profile"))&&(n=!1),(0,oa.jsx)("li",{children:P({label:e.label,icon:e.icon,onClick:()=>{A(t?S:e.path)},active:n,blocked:t})},e.id)}):null,M?(0,oa.jsx)("li",{children:(0,oa.jsxs)(Ot,{to:"/manage-permissions",className:e=>{let{isActive:t}=e;return"app-nav-link"+(t?" is-active":"")},onClick:_("/manage-permissions"),children:[(0,oa.jsx)("span",{className:"app-nav-icon",children:(0,oa.jsx)($a,{"aria-hidden":"true"})}),(0,oa.jsx)("span",{className:"app-label",children:"Manage Permissions"})]})},"manage-permissions"):null,L?(0,oa.jsx)("li",{children:(0,oa.jsxs)(Ot,{to:"/review-queue",className:e=>{let{isActive:t}=e;return"app-nav-link"+(t?" is-active":"")},onClick:_("/review-queue"),children:[(0,oa.jsx)("span",{className:"app-nav-icon",children:(0,oa.jsx)(Ga,{"aria-hidden":"true"})}),(0,oa.jsx)("span",{className:"app-label",children:"Review Queue"})]})},"review-queue"):null,(0,oa.jsx)("li",{children:(e=>{let{to:t,label:n,icon:i}=e;return(0,oa.jsxs)(Ot,{className:e=>{let{isActive:t}=e;return"app-nav-link"+(t?" is-active":"")},to:t,onClick:_(t),children:[i?(0,oa.jsx)("span",{className:"app-nav-icon",children:i}):null,(0,oa.jsx)("span",{className:"app-label",children:n})]})})({to:"/profile",label:"Profil",icon:(0,oa.jsx)(Xa,{})})})]}),(0,oa.jsxs)("div",{className:"app-profile-details",children:[(0,oa.jsxs)("div",{className:"app-profile-text",children:[(0,oa.jsx)("div",{className:"app-profile-name",children:(null===(a=o.user)||void 0===a?void 0:a.full_name)||(null===(l=o.user)||void 0===l?void 0:l.email)||""}),(0,oa.jsx)("div",{className:"app-profile-role",children:(null===(s=o.user)||void 0===s?void 0:s.role)||""})]}),(0,oa.jsx)("button",{className:"app-logout",type:"button",onClick:()=>o.logout(),"aria-label":"Cikis",children:(0,oa.jsx)(Ya,{})})]})]}),(0,oa.jsxs)("section",{className:"app-home-section",children:[(0,oa.jsx)("div",{className:"app-topbar",children:(0,oa.jsxs)("div",{className:"app-topbar-row".concat(null!==p&&void 0!==p&&p.centered?" app-topbar-row--centered":""),children:[(0,oa.jsx)("div",{className:"app-topbar-left"}),N?(0,oa.jsxs)("div",{className:"app-topbar-text",children:[(0,oa.jsx)("div",{className:"app-topbar-title",children:(null===p||void 0===p?void 0:p.title)||(z=c.pathname,z.startsWith("/select")?"Okul & Senaryo Sec":z.startsWith("/schools/")?"Okul":z.startsWith("/schools")?"Okullar":z.startsWith("/users")?"Users":z.startsWith("/countries")?"Countries":z.startsWith("/progress")?"Progress Tracking":z.startsWith("/approvals")?"\xc7al\u0131\u015fma Listeleri":z.startsWith("/review-queue")?"Review Queue":z.startsWith("/reports")?"Reports":z.startsWith("/admin")?"Admin":z.startsWith("/profile")?"Profil":"Feasibility Studio")}),null!==p&&void 0!==p&&p.subtitle?(0,oa.jsx)("div",{className:"app-topbar-sub",children:p.subtitle}):null]}):null,(0,oa.jsx)("div",{className:"app-topbar-slot",ref:g,children:j?(0,oa.jsxs)("button",{type:"button",className:"nav-btn",onClick:()=>A(S),title:"Okul / Senaryo Degistir",children:[(0,oa.jsx)(Ua,{"aria-hidden":"true"}),(0,oa.jsx)("span",{style:{whiteSpace:"nowrap"},children:"Okul / Senaryo Degistir"}),(0,oa.jsx)(Pa,{"aria-hidden":"true"})]}):null})]})}),(0,oa.jsx)("div",{className:"app-content",children:(0,oa.jsx)($e,{context:C})})]}),T?(0,oa.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Unsaved Changes"}),(0,oa.jsx)("div",{className:"small",style:{marginBottom:12},children:"You have unsaved changes. If you leave this page, unsaved changes may be lost."}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"flex-end"},children:[(0,oa.jsx)("button",{className:"btn",onClick:()=>E(null),children:"Stay"}),(0,oa.jsx)("button",{className:"btn primary",onClick:()=>{null!==T&&void 0!==T&&T.path&&d(T.path),E(null)},children:"Leave"})]})]})}):null]});var z}const rv=["value","onChange","onBlur","onFocus","className","step","disabled","placeholder","title","name","id","inputMode"],av=new Map;function lv(e){const t=String(null!==e&&void 0!==e?e:"").trim();if(!t)return{value:null,empty:!0};const n=t.replace(/\s+/g,""),i=n.includes("."),r=n.includes(",");let a=null,l=null;if(i&&r){a=n.lastIndexOf(".")>n.lastIndexOf(",")?".":",",l="."===a?",":"."}else if(i||r){const e=i?".":",";if((n.match(new RegExp("\\".concat(e),"g"))||[]).length>1)l=e;else{const t=n.lastIndexOf(e),i=n.length-t-1;i>=1&&i<=2?a=e:l=e}}let s=n;l&&(s=s.split(l).join("")),a&&(s=s.replace(a,".")),a||(s=s.replace(/[.,]/g,"")),s=s.replace(/(?!^)-/g,""),s=s.replace(/[^0-9.-]/g,"");const o=Number(s);return Number.isFinite(o)?{value:o,empty:!1}:{value:null,empty:!1}}function sv(e){let{value:t,onChange:n,onBlur:i,onFocus:a,className:l,step:o,disabled:c,placeholder:u,title:d,name:h,id:p,inputMode:f}=e,y=s(e,rv);const v=(0,r.useMemo)(()=>function(e){if(null==e)return 2;const t=String(e).trim();if(!t||"any"===t)return 6;const n=t.indexOf(".");return-1===n?0:Math.max(0,t.length-n-1)}(o),[o]),g="tr-TR",{decimal:b}=(0,r.useMemo)(()=>function(e){var t,n;if(av.has(e))return av.get(e);const i=new Intl.NumberFormat(e).formatToParts(1000.1),r={group:(null===(t=i.find(e=>"group"===e.type))||void 0===t?void 0:t.value)||",",decimal:(null===(n=i.find(e=>"decimal"===e.type))||void 0===n?void 0:n.value)||"."};return av.set(e,r),r}(g),[g]),x=(0,r.useMemo)(()=>new Intl.NumberFormat(g,{useGrouping:!0,maximumFractionDigits:v}),[g,v]),k=(0,r.useMemo)(()=>new Intl.NumberFormat(g,{useGrouping:!1,maximumFractionDigits:v}),[g,v]),[j,S]=(0,r.useState)(!1),[w,N]=(0,r.useState)(""),C=Number(t),T=""!==t&&null!=t&&Number.isFinite(C);(0,r.useEffect)(()=>{j||N(T?x.format(C):"")},[j,x,T,C]);return(0,oa.jsx)("input",m(m({},y),{},{id:p,name:h,className:l,value:j?w:w||"",onChange:e=>{const t=e.target.value;N(t);const i=lv(t);i.empty?null===n||void 0===n||n(""):null!=i.value&&(null===n||void 0===n||n(i.value))},onFocus:e=>{S(!0),N(T?k.format(C):""),null===a||void 0===a||a(e)},onBlur:e=>{S(!1);const t=lv(w);if(t.empty)return N(""),null===n||void 0===n||n(""),void(null===i||void 0===i||i(e));if(null!=t.value){const e=Number(t.value);N(x.format(e)),null===n||void 0===n||n(e)}null===i||void 0===i||i(e)},disabled:c,placeholder:u,title:d,inputMode:f||"decimal",autoComplete:"off","aria-invalid":y["aria-invalid"],"data-decimal-separator":b}))}const ov=[{key:"okulOncesi",label:"Okul \xd6ncesi"},{key:"ilkokulYerel",label:"\u0130lkokul-YEREL"},{key:"ilkokulInt",label:"\u0130lkokul-INT."},{key:"ortaokulYerel",label:"Ortaokul-YEREL"},{key:"ortaokulInt",label:"Ortaokul-INT."},{key:"liseYerel",label:"Lise-YEREL"},{key:"liseInt",label:"Lise-INT."}],cv=[{key:"magisBasariBursu",label:"MAG\u0130S Ba\u015far\u0131 Bursu"},{key:"maarifYetenekBursu",label:"Maarif Yetenek Bursu"},{key:"ihtiyacBursu",label:"\u0130htiya\xe7 Bursu"},{key:"okulBasariBursu",label:"Okul Ba\u015far\u0131 Bursu"},{key:"tamEgitimBursu",label:"Tam E\u011fitim Bursu"},{key:"barinmaBursu",label:"Bar\u0131nma Bursu"},{key:"turkceBasariBursu",label:"T\xfcrk\xe7e Ba\u015far\u0131 Bursu"},{key:"uluslararasiYukumlulukIndirimi",label:"Vakf\u0131n Uluslararas\u0131 Y\xfck\xfcml\xfcl\xfcklerinden Kaynakl\u0131 \u0130ndirim"},{key:"vakifCalisaniIndirimi",label:"Vak\u0131f \xc7al\u0131\u015fan\u0131 \u0130ndirimi"},{key:"kardesIndirimi",label:"Karde\u015f \u0130ndirimi"},{key:"erkenKayitIndirimi",label:"Erken Kay\u0131t \u0130ndirimi"},{key:"pesinOdemeIndirimi",label:"Pe\u015fin \xd6deme \u0130ndirimi"},{key:"kademeGecisIndirimi",label:"Kademe Ge\xe7i\u015f \u0130ndirimi"},{key:"temsilIndirimi",label:"Temsil \u0130ndirimi"},{key:"kurumIndirimi",label:"Kurum \u0130ndirimi"},{key:"istisnaiIndirim",label:"\u0130stisnai \u0130ndirim"},{key:"yerelMevzuatIndirimi",label:"Yerel Mevzuat\u0131n \u015eart Ko\u015ftu\u011fu \u0130ndirim"}],uv=[{key:"okulOncesi",label:"Okul \xd6ncesi"},{key:"ilkokul",label:"\u0130lkokul"},{key:"ortaokul",label:"Ortaokul"},{key:"lise",label:"Lise"}],dv=[{key:Xl.LOCAL,label:"Yerel",hint:"Yerel kademeleri planlay\u0131n"},{key:Xl.INTERNATIONAL,label:"International",hint:"Uluslararas\u0131 kademeleri planlay\u0131n"}];const mv=e=>{const t=Number(e);return Number.isFinite(t)?t:0},hv=e=>{const t=Number(e);return Number.isFinite(t)?t.toLocaleString(void 0,{maximumFractionDigits:0}):"0"},pv=e=>{const t=Number(e);return Number.isFinite(t)?t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}):"0"};function fv(e,t,n){let i=e;for(const r of t){if(!i||"object"!==typeof i)return n;i=i[r]}return null==i?n:i}function yv(e){return mv(e)/100}function vv(e){return 100*mv(e)}function gv(e){var t,n,i,a,l,s,o;let{value:c,onChange:u,school:d,me:h,baseYear:p,kapasite:f,gradesCurrent:y,ik:v,prevReport:g,prevCurrencyMeta:b,dirtyPaths:x,onDirty:k,currencyCode:j,isScenarioLocal:S,reportCurrency:w,currencyMeta:N}=e;const C=(0,r.useMemo)(()=>c&&"object"===typeof c?c:{},[c]),T=(0,r.useMemo)(()=>al(),[]),E=(0,r.useMemo)(()=>dl(),[]),A=(0,r.useMemo)(()=>sl(C.kademeler),[C]),_=(0,r.useMemo)(()=>Jl({temelBilgiler:C}),[C]),P=(0,r.useMemo)(()=>function(e){const t=Number.isFinite(Number(e))?Number(e):2026,n=t-2,i=t-1,r=t,a=t+1,l=t+2;return[{key:["inflation","expenseDeviationPct"],label:"Giderlerin Sapma Y\xfczdeli\u011fi (%... Olarak Hesaplanabilir)",type:"percent"},{key:["inflation","y2023"],label:"".concat(t-3," YILI ENFLASYON ORANI"),type:"percent"},{key:["inflation","y2024"],label:"".concat(n," YILI ENFLASYON ORANI"),type:"percent"},{key:["inflation","y2025"],label:"".concat(i," YILI ENFLASYON ORANI"),type:"percent"},{key:["inflation","y1"],label:"1. YIL TAHM\u0130N\u0130 ENFLASYON ORANI (".concat(r," YILI)"),type:"percent"},{key:["inflation","y2"],label:"2. YIL TAHM\u0130N\u0130 ENFLASYON ORANI (".concat(a," YILI)"),type:"percent"},{key:["inflation","y3"],label:"3. YIL TAHM\u0130N\u0130 ENFLASYON ORANI (".concat(l," YILI)"),type:"percent"},{key:["inflation","currentSeasonAvgFee"],label:"Mevcut E\u011fitim Sezonu \xdccreti (ortalama)",type:"money"}]}(p),[p]),M=e=>"inputs.temelBilgiler.".concat(Array.isArray(e)?e.join("."):e),L=e=>!!x&&x.has(M(e)),R=(e,t)=>e+(L(t)?" input-dirty":""),O=e=>L(e)?"input-dirty":"",F=(e,t)=>{const n=structuredClone(C);!function(e,t,n){let i=e;for(let r=0;r<t.length-1;r++){const e=t[r];i[e]&&"object"===typeof i[e]||(i[e]={}),i=i[e]}i[t[t.length-1]]=n}(n,e,t),u(n),null===k||void 0===k||k(M(e),t)},D=(e,t)=>{const n=sl(C.kademeler),i=structuredClone(C);i.kademeler=m(m({},n),{},{[e]:m(m({},n[e]),t)}),u(i),Object.keys(t||{}).forEach(t=>{null===k||void 0===k||k(M(["kademeler",e,t]),i.kademeler[e][t])})},I=(null===h||void 0===h?void 0:h.region)||"",B=(null===d||void 0===d?void 0:d.country_name)||(null===h||void 0===h?void 0:h.country_name)||"",z=(null===d||void 0===d?void 0:d.name)||"",U=(0,r.useMemo)(()=>{const e=mv(null===f||void 0===f?void 0:f.currentStudents);if(e>0)return e;return(Array.isArray(y)?y:[]).reduce((e,t)=>e+mv(t.studentsPerBranch),0)},[f,y]),Y=(0,r.useMemo)(()=>(Array.isArray(y)?y:[]).reduce((e,t)=>e+mv(t.branchCount),0),[y]),K=Y>0?U/Y:0,W=(0,r.useMemo)(()=>{var e,t;const n=(null===v||void 0===v||null===(e=v.years)||void 0===e||null===(t=e.y1)||void 0===t?void 0:t.headcountsByLevel)||{},i=Object.keys(n),r=e=>i.reduce((t,i)=>{var r;return t+mv(null===n||void 0===n||null===(r=n[i])||void 0===r?void 0:r[e])},0);return{turkPersonelYoneticiEgitimci:r("turk_mudur")+r("turk_mdyard")+r("turk_egitimci"),turkPersonelTemsilcilik:r("turk_temsil"),yerelKadroluEgitimci:r("yerel_yonetici_egitimci"),yerelUcretliVakaterEgitimci:r("yerel_ucretli_egitimci"),yerelDestek:r("yerel_destek"),yerelTemsilcilik:r("yerel_ulke_temsil_destek"),international:r("int_yonetici_egitimci")}},[v]),H=(0,r.useMemo)(()=>({okulOncesi:ol("Okul \xd6ncesi",A,"okulOncesi"),ilkokul:ol("\u0130lkokul",A,"ilkokul"),ortaokul:ol("Ortaokul",A,"ortaokul"),lise:ol("Lise",A,"lise"),ilkokulYerel:"".concat(ol("\u0130lkokul",A,"ilkokul"),"-YEREL"),ilkokulInt:"".concat(ol("\u0130lkokul",A,"ilkokul"),"-INT."),ortaokulYerel:"".concat(ol("Ortaokul",A,"ortaokul"),"-YEREL"),ortaokulInt:"".concat(ol("Ortaokul",A,"ortaokul"),"-INT."),liseYerel:"".concat(ol("Lise",A,"lise"),"-YEREL"),liseInt:"".concat(ol("Lise",A,"lise"),"-INT.")}),[A]),V=(0,r.useMemo)(()=>({okulOncesi:"okulOncesi",ilkokulYerel:"ilkokul",ilkokulInt:"ilkokul",ortaokulYerel:"ortaokul",ortaokulInt:"ortaokul",liseYerel:"lise",liseInt:"lise",ilkokul:"ilkokul",ortaokul:"ortaokul",lise:"lise"}),[]),G=(0,r.useMemo)(()=>ov.filter(e=>{var t;const n=V[e.key]||e.key;return!1!==(null===A||void 0===A||null===(t=A[n])||void 0===t?void 0:t.enabled)&&es(e.key,_)}),[V,A,_]),q=(0,r.useMemo)(()=>uv.filter(e=>{var t;return!1!==(null===A||void 0===A||null===(t=A[e.key])||void 0===t?void 0:t.enabled)}),[A]),$=(0,r.useMemo)(()=>{const e=G.map(e=>mv(fv(C,["ucretArtisOranlari",e.key],0))),t=e.reduce((e,t)=>e+t,0);return e.length?vv(t/e.length):0},[C,G]),X="LOCAL"===(null===N||void 0===N?void 0:N.input_currency)&&Number(null===N||void 0===N?void 0:N.fx_usd_to_local)>0&&!(null===N||void 0===N||!N.local_currency_code),Q=fv(C,["performans","prevYearRealizedFxUsdToLocal"],0),Z=Number(Q||0),J=X&&Number.isFinite(Z)&&Z>0,ee=X&&!J,te=Number((null===b||void 0===b?void 0:b.fx_usd_to_local)||0),ne=Z,ie=ne>0,re=String(w||"usd").toLowerCase(),ae="local"===re,le="usd"===re,se=te>0?te:ie?ne:null,oe=ae&&!se,ce=(S&&le||!S&&ae)&&!ie,ue=String((null===N||void 0===N?void 0:N.local_currency_code)||(null===b||void 0===b?void 0:b.local_currency_code)||"LOCAL").toUpperCase(),de=oe||ce,me=S&&le,he=ce?"\u2014":void 0,pe=(0,r.useMemo)(()=>{var e,t,n,i,r;const a=(null===g||void 0===g||null===(e=g.years)||void 0===e?void 0:e.y1)||(null===g||void 0===g?void 0:g.y1)||null;if(!a)return null;const l=mv(null===a||void 0===a||null===(t=a.income)||void 0===t?void 0:t.netIncome),s=mv(null===a||void 0===a||null===(n=a.expenses)||void 0===n?void 0:n.totalExpenses);return{ogrenci:mv(null===a||void 0===a||null===(i=a.students)||void 0===i?void 0:i.totalStudents),gelirler:l,giderler:s,karZarar:l-s,bursIndirim:mv(null===a||void 0===a||null===(r=a.income)||void 0===r?void 0:r.totalDiscounts)}},[g]),fe=(0,r.useMemo)(()=>{if(!pe)return null;const e=e=>ae?se?e*se:null:e;return m(m({},pe),{},{gelirler:e(pe.gelirler),giderler:e(pe.giderler),karZarar:e(pe.karZarar),bursIndirim:e(pe.bursIndirim)})},[pe,ae,se]),ye=e=>{const t=mv(e);return S?ae?t:ie?t/ne:null:ae?ie?t*ne:null:t},ve=e=>ye(fv(C,e,0)),ge=(e,t)=>{const n=mv(t);let i=n;S&&le?i=ie?n*ne:n:!S&&ae&&(i=ie?n/ne:n),F(e,i)},be=ye(mv(fv(C,["performans","gerceklesen","gelirler"],0))-mv(fv(C,["performans","gerceklesen","giderler"],0))),xe=(0,r.useMemo)(()=>{const e=[],t=[],n=[];for(const i of cv){const r=String(i.label||"").toLowerCase();r.includes("burs")?e.push(i):r.includes("indir")?t.push(i):n.push(i)}return[{key:"burs",label:"Burslar",rows:e},{key:"indirim",label:"\u0130ndirimler",rows:t},{key:"diger",label:"Di\u011fer",rows:n}].filter(e=>e.rows.length)},[]);return(0,oa.jsxs)("div",{className:"temel-bilgiler",children:[(0,oa.jsx)("div",{className:"card tb-topbar",children:(0,oa.jsxs)("div",{className:"tb-head",children:[(0,oa.jsx)("div",{children:(0,oa.jsx)("div",{className:"tb-title",children:"TEMEL B\u0130LG\u0130LER"})}),(0,oa.jsxs)("div",{className:"tb-badges",children:[(0,oa.jsxs)("span",{className:"badge",children:["\xd6\u011frenci: ",hv(U)]}),(0,oa.jsxs)("span",{className:"badge",children:["\u015eube: ",hv(Y)]}),(0,oa.jsxs)("span",{className:"badge",children:["\xd6\u011fr./S\u0131n\u0131f: ",pv(K)]})]})]})}),(0,oa.jsxs)("div",{className:"tb-card-grid",children:[(0,oa.jsxs)("section",{className:"card tb-card tb-span-6",children:[(0,oa.jsx)("div",{className:"tb-section-head",children:(0,oa.jsx)("div",{className:"tb-section-title",children:"A) B\xf6lge / \xdclke / Kamp\xfcs"})}),(0,oa.jsxs)("div",{className:"tb-grid",children:[(0,oa.jsxs)("div",{className:"tb-field tb-col-4",children:[(0,oa.jsx)("label",{children:"B\xd6LGE"}),(0,oa.jsx)("input",{className:"input tb-input",value:I,disabled:!0})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-4",children:[(0,oa.jsx)("label",{children:"\xdcLKE"}),(0,oa.jsx)("input",{className:"input tb-input",value:B,disabled:!0})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-4",children:[(0,oa.jsx)("label",{children:"KAMP\xdcS / OKUL"}),(0,oa.jsx)("input",{className:"input tb-input",value:z,disabled:!0})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-4",children:[(0,oa.jsx)("label",{children:"M\xdcD\xdcR"}),(0,oa.jsx)("input",{className:R("input tb-input",["yetkililer","mudur"]),value:fv(C,["yetkililer","mudur"],""),onChange:e=>F(["yetkililer","mudur"],e.target.value)})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-4",children:[(0,oa.jsx)("label",{children:"\xdcLKE TEMS\u0130LC\u0130S\u0130"}),(0,oa.jsx)("input",{className:R("input tb-input",["yetkililer","ulkeTemsilcisi"]),value:fv(C,["yetkililer","ulkeTemsilcisi"],""),onChange:e=>F(["yetkililer","ulkeTemsilcisi"],e.target.value)})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-4",children:[(0,oa.jsx)("label",{children:"RAPORU HAZIRLAYAN"}),(0,oa.jsx)("input",{className:R("input tb-input",["yetkililer","raporuHazirlayan"]),value:fv(C,["yetkililer","raporuHazirlayan"],""),onChange:e=>F(["yetkililer","raporuHazirlayan"],e.target.value)})]})]})]}),(0,oa.jsxs)("section",{className:"card tb-card tb-span-6",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"Program T\xfcr\xfc"}),(0,oa.jsx)("div",{className:"tb-muted",children:"Yerel ya da International kademeleri se\xe7ebilirsiniz."})]}),(0,oa.jsx)("div",{className:"tb-grid",style:{marginTop:8},children:(0,oa.jsx)("div",{className:"row",style:{gap:12},children:dv.map(e=>{const t=_===e.key;return(0,oa.jsxs)("button",{type:"button",className:"btn ".concat(t?"primary":"ghost"),onClick:()=>F(["programType"],e.key),"aria-pressed":t,children:[(0,oa.jsx)("div",{style:{fontWeight:700},children:e.label}),(0,oa.jsx)("div",{className:"small",style:{opacity:.75},children:e.hint})]},e.key)})})})]}),(0,oa.jsxs)("section",{className:"card tb-card tb-span-6",children:[(0,oa.jsx)("div",{className:"tb-section-head",children:(0,oa.jsx)("div",{className:"tb-section-title",children:"B) Okul E\u011fitim Bilgileri"})}),(0,oa.jsxs)("div",{className:"tb-grid",children:[(0,oa.jsxs)("div",{className:"tb-field tb-col-4",children:[(0,oa.jsx)("label",{children:"E\u011fitim \xd6\u011fretim D\xf6neminin Ba\u015flama Tarihi"}),(0,oa.jsx)("input",{type:"date",className:R("input tb-input",["okulEgitimBilgileri","egitimBaslamaTarihi"]),value:fv(C,["okulEgitimBilgileri","egitimBaslamaTarihi"],""),onChange:e=>F(["okulEgitimBilgileri","egitimBaslamaTarihi"],e.target.value)})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-8",children:[(0,oa.jsx)("label",{children:"Zorunlu E\u011fitim D\xf6nemleri"}),(0,oa.jsx)("input",{className:R("input tb-input",["okulEgitimBilgileri","zorunluEgitimDonemleri"]),value:fv(C,["okulEgitimBilgileri","zorunluEgitimDonemleri"],""),onChange:e=>F(["okulEgitimBilgileri","zorunluEgitimDonemleri"],e.target.value)})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-3 tb-mini",children:[(0,oa.jsx)("label",{children:"Bir Ders S\xfcresi (dk)"}),(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["okulEgitimBilgileri","birDersSuresiDakika"]),value:mv(fv(C,["okulEgitimBilgileri","birDersSuresiDakika"],0)),onChange:e=>F(["okulEgitimBilgileri","birDersSuresiDakika"],mv(e))})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-3 tb-mini",children:[(0,oa.jsx)("label",{children:"G\xfcnl\xfck Ders Saati"}),(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["okulEgitimBilgileri","gunlukDersSaati"]),value:mv(fv(C,["okulEgitimBilgileri","gunlukDersSaati"],0)),onChange:e=>F(["okulEgitimBilgileri","gunlukDersSaati"],mv(e))})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-3 tb-mini",children:[(0,oa.jsx)("label",{children:"Haftal\u0131k Ders (Bir S\u0131n\u0131f)"}),(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["okulEgitimBilgileri","haftalikDersSaatiToplam"]),value:mv(fv(C,["okulEgitimBilgileri","haftalikDersSaatiToplam"],0)),onChange:e=>F(["okulEgitimBilgileri","haftalikDersSaatiToplam"],mv(e))})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-3 tb-mini",children:[(0,oa.jsx)("label",{children:"\xd6\u011fretmen Haftal\u0131k Ortalama"}),(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["okulEgitimBilgileri","ogretmenHaftalikDersOrt"]),value:mv(fv(C,["okulEgitimBilgileri","ogretmenHaftalikDersOrt"],0)),onChange:e=>F(["okulEgitimBilgileri","ogretmenHaftalikDersOrt"],mv(e))})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-6",children:[(0,oa.jsx)("label",{children:"Okulda Sabah\xe7\u0131 / \xd6\u011flenci Uygulamas\u0131"}),(0,oa.jsx)("input",{className:R("input tb-input",["okulEgitimBilgileri","sabahciOglenci"]),value:fv(C,["okulEgitimBilgileri","sabahciOglenci"],""),onChange:e=>F(["okulEgitimBilgileri","sabahciOglenci"],e.target.value)})]}),(0,oa.jsxs)("div",{className:"tb-field tb-col-6",children:[(0,oa.jsx)("label",{children:"Okulda Uygulanan Program (ulusal, uluslararas\u0131)"}),(0,oa.jsx)("input",{className:R("input tb-input",["okulEgitimBilgileri","uygulananProgram"]),value:fv(C,["okulEgitimBilgileri","uygulananProgram"],""),onChange:e=>F(["okulEgitimBilgileri","uygulananProgram"],e.target.value)})]}),(0,oa.jsx)("div",{className:"tb-col-12",children:(0,oa.jsxs)("div",{className:"tb-kpis",children:[(0,oa.jsxs)("div",{className:"tb-kpi",children:[(0,oa.jsx)("div",{className:"k",children:"\xd6\u011frenci (Mevcut)"}),(0,oa.jsx)("div",{className:"v",children:hv(U)})]}),(0,oa.jsxs)("div",{className:"tb-kpi",children:[(0,oa.jsx)("div",{className:"k",children:"\u015eube (Mevcut)"}),(0,oa.jsx)("div",{className:"v",children:hv(Y)})]}),(0,oa.jsxs)("div",{className:"tb-kpi",children:[(0,oa.jsx)("div",{className:"k",children:"Fiili Derslik Kullan\u0131m (\xf6\u011frenci/s\u0131n\u0131f)"}),(0,oa.jsx)("div",{className:"v",children:pv(K)})]})]})}),(0,oa.jsxs)("div",{className:"tb-field tb-col-12",children:[(0,oa.jsx)("label",{children:"Kademeler Aras\u0131nda Ge\xe7i\u015f S\u0131nav\u0131 (Varsa) Bilgileri"}),(0,oa.jsx)("input",{className:R("input tb-input",["okulEgitimBilgileri","gecisSinaviBilgisi"]),value:fv(C,["okulEgitimBilgileri","gecisSinaviBilgisi"],""),onChange:e=>F(["okulEgitimBilgileri","gecisSinaviBilgisi"],e.target.value)})]})]})]}),(0,oa.jsxs)("section",{className:"card tb-card tb-span-6",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"Kademeler (D\xfczenle)"}),(0,oa.jsx)("div",{className:"tb-muted",children:"Kademe se\xe7imleri ve s\u0131n\u0131f aral\u0131klar\u0131, di\u011fer ekranlardaki kademe etiketlerini ve toplamlar\u0131n\u0131 etkiler."})]}),(0,oa.jsx)("div",{className:"tb-table-wrap",children:(0,oa.jsxs)("table",{className:"table tb-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Kademe"}),(0,oa.jsx)("th",{style:{width:90},children:"Aktif"}),(0,oa.jsx)("th",{style:{width:120},children:"Ba\u015flang\u0131\xe7"}),(0,oa.jsx)("th",{style:{width:120},children:"Biti\u015f"})]})}),(0,oa.jsx)("tbody",{children:T.map(e=>{const t=A[e.key];return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:e.label}),(0,oa.jsx)("td",{children:(0,oa.jsx)("input",{type:"checkbox",className:O(["kademeler",e.key,"enabled"]),checked:!(null===t||void 0===t||!t.enabled),onChange:t=>D(e.key,{enabled:t.target.checked})})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("select",{className:R("input xxs",["kademeler",e.key,"from"]),value:(null===t||void 0===t?void 0:t.from)||"",onChange:t=>D(e.key,{from:t.target.value}),disabled:!(null!==t&&void 0!==t&&t.enabled),children:E.map(e=>(0,oa.jsx)("option",{value:e,children:e},e))})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("select",{className:R("input xxs",["kademeler",e.key,"to"]),value:(null===t||void 0===t?void 0:t.to)||"",onChange:t=>D(e.key,{to:t.target.value}),disabled:!(null!==t&&void 0!==t&&t.enabled),children:E.map(e=>(0,oa.jsx)("option",{value:e,children:e},e))})})]},e.key)})})]})})]}),(0,oa.jsxs)("section",{className:"card tb-card tb-span-6",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"C) Okul \xdccretleri (Yeni E\u011fitim D\xf6nemi)"}),(0,oa.jsxs)("div",{className:"tb-section-actions",children:[(0,oa.jsxs)("label",{className:"tb-switch",children:[(0,oa.jsx)("input",{type:"checkbox",className:O(["okulUcretleriHesaplama"]),checked:!!C.okulUcretleriHesaplama,onChange:e=>F(["okulUcretleriHesaplama"],e.target.checked)}),(0,oa.jsx)("span",{children:"\xdccret hesaplamay\u0131 aktif et"})]}),(0,oa.jsxs)("span",{className:"tb-muted",children:["Ortalama art\u0131\u015f: ",$.toFixed(2),"%"]})]})]}),(0,oa.jsx)("div",{className:"tb-table-wrap",children:(0,oa.jsxs)("table",{className:"table tb-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Kademe"}),(0,oa.jsx)("th",{className:"num",style:{width:150},children:"Art\u0131\u015f Oran\u0131 (%)"})]})}),(0,oa.jsx)("tbody",{children:G.map(e=>{const t=mv(fv(C,["ucretArtisOranlari",e.key],0));return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:H[e.key]||e.label}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ucretArtisOranlari",e.key]),value:vv(t),onChange:t=>F(["ucretArtisOranlari",e.key],yv(t))})})]},e.key)})})]})})]}),(0,oa.jsxs)("section",{className:"card tb-card tb-span-6",children:[(0,oa.jsx)("div",{className:"tb-section-head",children:(0,oa.jsx)("div",{className:"tb-section-title",children:"D) Tahmini Enflasyon ve Parametreler"})}),(0,oa.jsx)("div",{className:"tb-table-wrap",children:(0,oa.jsxs)("table",{className:"table tb-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Parametre"}),(0,oa.jsx)("th",{className:"num",style:{width:190},children:"De\u011fer"})]})}),(0,oa.jsx)("tbody",{children:P.map(e=>{const t=fv(C,e.key,0),n="percent"===e.type,i=n?vv(t):mv(t);return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:e.label}),(0,oa.jsx)("td",{className:"num",children:n?(0,oa.jsxs)("div",{className:"tb-affix",children:[(0,oa.jsx)(sv,{className:R("input tb-input tb-num",e.key),value:i,onChange:t=>F(e.key,yv(t))}),(0,oa.jsx)("span",{className:"tb-affix-sfx",children:"%"})]}):(0,oa.jsxs)("div",{className:"tb-affix",children:[(0,oa.jsx)(sv,{className:R("input tb-input tb-num",e.key),value:i.toFixed(0),onChange:t=>F(e.key,mv(t))}),(0,oa.jsx)("span",{className:"tb-affix-pfx",children:j})]})})]},e.label)})})]})})]}),(0,oa.jsxs)("section",{className:"card tb-card tb-span-6",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"E) \u0130nsan Kaynaklar\u0131"}),(0,oa.jsx)("div",{className:"tb-muted",children:"Planlanan (IK) de\u011ferleri IK sekmesi / Y\u0131l-1 plan\u0131ndan gelir."})]}),(0,oa.jsx)("div",{className:"tb-table-wrap",children:(0,oa.jsxs)("table",{className:"table tb-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Kalem"}),(0,oa.jsx)("th",{style:{width:140},className:"num",children:"Mevcut"}),(0,oa.jsx)("th",{style:{width:140},className:"num",children:"Planlanan (IK)"})]})}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"T\xfcrk Personel Y\xf6netici ve E\u011fitimci Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ikMevcut","turkPersonelYoneticiEgitimci"]),value:mv(fv(C,["ikMevcut","turkPersonelYoneticiEgitimci"],0)),onChange:e=>F(["ikMevcut","turkPersonelYoneticiEgitimci"],mv(e))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:W.turkPersonelYoneticiEgitimci,disabled:!0})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"T\xfcrk Personel Temsilcilik Personeli Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ikMevcut","turkPersonelTemsilcilik"]),value:mv(fv(C,["ikMevcut","turkPersonelTemsilcilik"],0)),onChange:e=>F(["ikMevcut","turkPersonelTemsilcilik"],mv(e))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:W.turkPersonelTemsilcilik,disabled:!0})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Yerel Kadrolu E\u011fitimci Personel Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ikMevcut","yerelKadroluEgitimci"]),value:mv(fv(C,["ikMevcut","yerelKadroluEgitimci"],0)),onChange:e=>F(["ikMevcut","yerelKadroluEgitimci"],mv(e))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:W.yerelKadroluEgitimci,disabled:!0})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Yerel \xdccretli (Vakater) E\u011fitimci Personel Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ikMevcut","yerelUcretliVakaterEgitimci"]),value:mv(fv(C,["ikMevcut","yerelUcretliVakaterEgitimci"],0)),onChange:e=>F(["ikMevcut","yerelUcretliVakaterEgitimci"],mv(e))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:W.yerelUcretliVakaterEgitimci,disabled:!0})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Yerel Destek Personel Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ikMevcut","yerelDestek"]),value:mv(fv(C,["ikMevcut","yerelDestek"],0)),onChange:e=>F(["ikMevcut","yerelDestek"],mv(e))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:W.yerelDestek,disabled:!0})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Yerel Personel Temsilcilik Personeli Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ikMevcut","yerelTemsilcilik"]),value:mv(fv(C,["ikMevcut","yerelTemsilcilik"],0)),onChange:e=>F(["ikMevcut","yerelTemsilcilik"],mv(e))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:W.yerelTemsilcilik,disabled:!0})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"International Personel Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["ikMevcut","international"]),value:mv(fv(C,["ikMevcut","international"],0)),onChange:e=>F(["ikMevcut","international"],mv(e))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:W.international,disabled:!0})})]})]})]})})]}),(0,oa.jsxs)("section",{className:"card tb-card tb-span-6 tb-fill",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"F) Burs ve \u0130ndirimler \u2014 \xd6\u011frenci Say\u0131s\u0131 (MEVCUT)"}),(0,oa.jsx)("div",{className:"tb-muted",children:"Sadece \xf6\u011frenci say\u0131s\u0131 girilir (oran de\u011fil)."})]}),(0,oa.jsx)("div",{className:"tb-table-wrap tb-table-tall",children:(0,oa.jsxs)("table",{className:"table tb-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"T\xfcr"}),(0,oa.jsx)("th",{className:"num",style:{width:160},children:"\xd6\u011frenci"})]})}),(0,oa.jsx)("tbody",{children:xe.map(e=>(0,oa.jsxs)(r.Fragment,{children:[(0,oa.jsx)("tr",{className:"tb-group-row",children:(0,oa.jsx)("td",{colSpan:2,children:e.label})}),e.rows.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:e.label}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["bursIndirimOgrenciSayilari",e.key]),value:mv(fv(C,["bursIndirimOgrenciSayilari",e.key],0)),onChange:t=>F(["bursIndirimOgrenciSayilari",e.key],mv(t))})})]},e.key))]},e.key))})]})})]}),(0,oa.jsxs)("div",{className:"tb-right-stack tb-span-6",children:[(0,oa.jsxs)("section",{className:"card tb-card",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"G) Rakip Kurumlar\u0131n Analizi"}),(0,oa.jsx)("div",{className:"tb-muted",children:"A/B/C: ayn\u0131 kademedeki ortalama."})]}),(0,oa.jsx)("div",{className:"tb-table-wrap",children:(0,oa.jsxs)("table",{className:"table tb-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Kademe"}),(0,oa.jsx)("th",{style:{width:110},className:"num",children:"A"}),(0,oa.jsx)("th",{style:{width:110},className:"num",children:"B"}),(0,oa.jsx)("th",{style:{width:110},className:"num",children:"C"})]})}),(0,oa.jsx)("tbody",{children:q.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:H[e.key]||e.label}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["rakipAnalizi",e.key,"a"]),value:mv(fv(C,["rakipAnalizi",e.key,"a"],0)),onChange:t=>F(["rakipAnalizi",e.key,"a"],mv(t))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["rakipAnalizi",e.key,"b"]),value:mv(fv(C,["rakipAnalizi",e.key,"b"],0)),onChange:t=>F(["rakipAnalizi",e.key,"b"],mv(t))})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["rakipAnalizi",e.key,"c"]),value:mv(fv(C,["rakipAnalizi",e.key,"c"],0)),onChange:t=>F(["rakipAnalizi",e.key,"c"],mv(t))})})]},e.key))})]})})]}),(0,oa.jsxs)("section",{className:"card tb-card",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"H) Performans (\xd6nceki D\xf6nem)"}),(0,oa.jsx)("div",{className:"tb-muted",children:"Planlanan: \xf6nceki y\u0131l senaryosu."})]}),(0,oa.jsxs)("div",{className:"tb-field",children:[(0,oa.jsxs)("div",{className:"tb-fx-row tb-fx-inline",children:[(0,oa.jsxs)("div",{className:"tb-fx-leftBox",children:[(0,oa.jsxs)("div",{className:"tb-fx-line1",children:[(0,oa.jsx)("span",{children:"\xd6nceki D\xf6nem Ortalama Kur (Ger\xe7ekle\u015fen)"}),me?(0,oa.jsx)("span",{className:"tb-req",children:"*"}):null,X&&ee?(0,oa.jsx)("span",{className:"text-[11px] px-2 py-[2px] rounded border border-red-200 bg-red-50 text-red-700",children:"Zorunlu"}):null,X&&!ee?(0,oa.jsx)("span",{className:"text-[11px] px-2 py-[2px] rounded border border-green-200 bg-green-50 text-green-700",children:"Tamamland\u0131"}):null]}),(0,oa.jsx)("div",{className:"tb-fx-line2",children:de?"\xd6nceki d\xf6nem USD kar\u015f\u0131la\u015ft\u0131rmas\u0131 i\xe7in ortalama kur girilmelidir.":"\xa0"})]}),(0,oa.jsxs)("div",{className:"tb-affix tb-fx-rightBox",children:[(0,oa.jsx)(sv,{className:"input tb-input tb-num".concat(ee?" border-red-500 focus:border-red-500 focus:ring-red-500":""),value:mv(fv(C,["performans","prevYearRealizedFxUsdToLocal"],0)),onChange:e=>F(["performans","prevYearRealizedFxUsdToLocal"],mv(e))}),(0,oa.jsx)("span",{className:"tb-affix-sfx",children:ue})]})]}),ee?(0,oa.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"Bu alan zorunludur. Girilmeden Hesapla/Onaya G\xf6nder i\u015flemi yap\u0131lamaz."}):null]}),(0,oa.jsx)("div",{className:"tb-table-wrap",children:(0,oa.jsxs)("table",{className:"table tb-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Kalem"}),(0,oa.jsx)("th",{style:{width:150},className:"num",children:"Plan"}),(0,oa.jsx)("th",{style:{width:150},className:"num",children:"Ger\xe7ek"})]})}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:pe?pe.ogrenci:"",disabled:!0})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["performans","gerceklesen","ogrenciSayisi"]),value:mv(fv(C,["performans","gerceklesen","ogrenciSayisi"],0)),onChange:e=>F(["performans","gerceklesen","ogrenciSayisi"],mv(e))})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Gelirler"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:null!==(t=null===fe||void 0===fe?void 0:fe.gelirler)&&void 0!==t?t:"",disabled:!0})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["performans","gerceklesen","gelirler"]),value:null!==(n=ve(["performans","gerceklesen","gelirler"]))&&void 0!==n?n:"",placeholder:he,onChange:e=>ge(["performans","gerceklesen","gelirler"],e)})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Giderler"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:null!==(i=null===fe||void 0===fe?void 0:fe.giderler)&&void 0!==i?i:"",disabled:!0})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["performans","gerceklesen","giderler"]),value:null!==(a=ve(["performans","gerceklesen","giderler"]))&&void 0!==a?a:"",placeholder:he,onChange:e=>ge(["performans","gerceklesen","giderler"],e)})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Kar / Zarar "}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:null!==(l=null===fe||void 0===fe?void 0:fe.karZarar)&&void 0!==l?l:"",disabled:!0})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:null!==be&&void 0!==be?be:"",placeholder:he,disabled:!0})})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:700},children:"Burs ve \u0130ndirimler"}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:"input tb-input tb-num",value:null!==(s=null===fe||void 0===fe?void 0:fe.bursIndirim)&&void 0!==s?s:"",disabled:!0})}),(0,oa.jsx)("td",{className:"num",children:(0,oa.jsx)(sv,{className:R("input tb-input tb-num",["performans","gerceklesen","bursVeIndirimler"]),value:null!==(o=ve(["performans","gerceklesen","bursVeIndirimler"]))&&void 0!==o?o:"",placeholder:he,onChange:e=>ge(["performans","gerceklesen","bursVeIndirimler"],e)})})]})]})]})}),pe?null:(0,oa.jsx)("div",{className:"tb-muted",style:{marginTop:6},children:"\xd6nceki y\u0131l senaryosu bulunamad\u0131 (ayn\u0131 okul i\xe7in bir \xf6nceki akademik y\u0131l). Planlanan kolonu bu y\xfczden bo\u015f."})]}),(0,oa.jsxs)("section",{className:"card tb-card",children:[(0,oa.jsxs)("div",{className:"tb-section-head",children:[(0,oa.jsx)("div",{className:"tb-section-title",children:"I) De\u011ferlendirme"}),(0,oa.jsx)("div",{className:"tb-muted",children:"K\u0131sa notlar, riskler, beklentiler."})]}),(0,oa.jsx)("textarea",{className:R("input tb-input",["degerlendirme"]),value:fv(C,["degerlendirme"],""),onChange:e=>F(["degerlendirme"],e.target.value),rows:4,style:{width:"100%",resize:"vertical"}})]})]})]})]})}function bv(e){let{pct:t=0,title:n="",missingPreview:i="",missingLines:r=[],children:a}=e;const l=function(e){const t=Number(e);return Number.isFinite(t)?Math.max(0,Math.min(100,t)):0}(t),s="linear-gradient(90deg, #000 0%, #000 ".concat(l,"%, transparent ").concat(l,"%, transparent 100%)"),o=function(e){let{pct:t,title:n,missingPreview:i,missingLines:r}=e;const a=Array.isArray(r)?r.map(e=>String(e)).filter(Boolean).slice(0,15):[];return a.length?a.join("\n"):i?String(i):n?"".concat(n,": ").concat(t,"%"):"".concat(t,"%")}({pct:Math.round(l),title:n,missingPreview:i,missingLines:r}),c=l<100;return(0,oa.jsxs)("div",{style:{position:"relative",overflow:"hidden",borderRadius:12},children:[(0,oa.jsx)("div",{"aria-hidden":"true",style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:0,backgroundImage:"linear-gradient(90deg, rgba(16,185,129, 0.05) 0%, rgba(16,185,129, 0.10) 30%, rgba(16,185,129, 0.16) 70%, rgba(16,185,129, 0.10) 100%), radial-gradient(circle at 20% 45%, rgba(16,185,129, 0.14) 0%, rgba(16,185,129, 0.00) 65%)",WebkitMaskImage:s,maskImage:s}}),c?(0,oa.jsx)("button",{type:"button",title:o,"aria-label":"Progress details",style:{position:"absolute",top:12,right:12,zIndex:20,width:26,height:26,borderRadius:999,border:"1px solid rgba(15, 23, 42, 0.15)",background:"rgba(255, 255, 255, 0.9)",color:"#0f172a",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"help",boxShadow:"0 6px 16px rgba(15, 23, 42, 0.08)"},children:(0,oa.jsx)(Da,{size:12})}):null,(0,oa.jsx)("div",{style:{position:"relative",zIndex:1},children:a})]})}function xv(e){const t=Number(null===e||void 0===e?void 0:e.pct);return Number.isFinite(t)?t:0}function kv(){var e,t;const{inputs:n,setField:i,school:r,me:a,baseYear:l,prevReport:s,prevScenarioMeta:o,dirtyPaths:c,programType:u,inputCurrencyCode:d,selectedScenario:m,reportCurrency:h,markDirty:p,progMap:f}=Ee();return n?(0,oa.jsx)("div",{style:{marginTop:12},children:(0,oa.jsx)(bv,{pct:xv(null===f||void 0===f?void 0:f.temelBilgiler),title:"Temel Bilgiler",missingLines:null===f||void 0===f||null===(e=f.temelBilgiler)||void 0===e?void 0:e.missingLines,missingPreview:null===f||void 0===f||null===(t=f.temelBilgiler)||void 0===t?void 0:t.missingPreview,children:(0,oa.jsx)(gv,{value:n.temelBilgiler,onChange:e=>i("temelBilgiler",e),school:r,me:a,baseYear:l,kapasite:n.kapasite,gradesCurrent:n.gradesCurrent,ik:n.ik,prevReport:s,prevCurrencyMeta:o,dirtyPaths:c,programType:u,currencyCode:d,isScenarioLocal:"LOCAL"===(null===m||void 0===m?void 0:m.input_currency),reportCurrency:h,currencyMeta:{input_currency:null===m||void 0===m?void 0:m.input_currency,fx_usd_to_local:null===m||void 0===m?void 0:m.fx_usd_to_local,local_currency_code:null===m||void 0===m?void 0:m.local_currency_code},onDirty:p})})}):null}const jv=e=>{const t=Number(e);return Number.isFinite(t)?t:0},Sv=e=>{const t=Number(e);return Number.isFinite(t)?t.toLocaleString(void 0,{maximumFractionDigits:0}):"0"},wv=e=>Number.isFinite(e)?"".concat((100*e).toFixed(1),"%"):"";function Nv(e,t){const n=Number.isFinite(Number(e))?Number(e):null;if(null==n)return"".concat(t+1,". YIL");const i=n+t,r=n+t+1;return"".concat(t+1,". YIL (").concat(i,"-").concat(r,")")}function Cv(e,t){const n=Number(e),i=Number(t);return Number.isFinite(n)&&Number.isFinite(i)&&0!==i?n/i:null}function Tv(e){var t,n,i;let{school:a,me:l,baseYear:s,kapasite:o,plannedGrades:c,currentGrades:u,kademeConfig:d,programType:h,onChange:p,dirtyPaths:f,onDirty:y}=e;const v=o&&"object"===typeof o?o:{},g=(0,r.useMemo)(()=>sl(d),[d]),b=h||Xl.LOCAL,x=(0,r.useMemo)(()=>al(),[]),k=x.filter(e=>{var t;return null===g||void 0===g||null===(t=g[e.key])||void 0===t?void 0:t.enabled}),j=k.length?k:x;let S=j.filter(e=>es(ts(e.key,b),b));S.length||(S=j);const w=(0,r.useMemo)(()=>function(e){if(Array.isArray(e))return{y1:e,y2:e,y3:e};if(e&&"object"===typeof e){const t=e.years&&"object"===typeof e.years?e.years:e,n=Array.isArray(null===t||void 0===t?void 0:t.y1)?t.y1:[];return{y1:n,y2:Array.isArray(null===t||void 0===t?void 0:t.y2)?t.y2:n,y3:Array.isArray(null===t||void 0===t?void 0:t.y3)?t.y3:n}}return{y1:[],y2:[],y3:[]}}(c),[c]),N=(0,r.useMemo)(()=>({y1:ul(w.y1,g),y2:ul(w.y2,g),y3:ul(w.y3,g)}),[w,g]),C=(0,r.useMemo)(()=>ul(u,g),[u,g]),T=(0,r.useMemo)(()=>{const e=v.byKademe&&"object"===typeof v.byKademe?v.byKademe:{},t={};for(const n of S){const i=e[n.key]&&"object"===typeof e[n.key]?e[n.key]:{},r=i.caps&&"object"===typeof i.caps?i.caps:i;t[n.key]={caps:{cur:jv(null===r||void 0===r?void 0:r.cur),y1:jv(null===r||void 0===r?void 0:r.y1),y2:jv(null===r||void 0===r?void 0:r.y2),y3:jv(null===r||void 0===r?void 0:r.y3)}}}return t},[v.byKademe,S]),E=e=>"inputs.kapasite.".concat(e),A=e=>!!f&&f.has(E(e)),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,n=0;for(const a of S){var i,r;n+=jv(null===t||void 0===t||null===(i=t[a.key])||void 0===i||null===(r=i.caps)||void 0===r?void 0:r[e])}return n},P={cur:_("cur"),y1:_("y1"),y2:_("y2"),y3:_("y3")},M={cur:jv(null===C||void 0===C?void 0:C.total),y1:jv(null===N||void 0===N||null===(t=N.y1)||void 0===t?void 0:t.total),y2:jv(null===N||void 0===N||null===(n=N.y2)||void 0===n?void 0:n.total),y3:jv(null===N||void 0===N||null===(i=N.y3)||void 0===i?void 0:i.total)},L={y1:M.y1-M.cur,y2:M.y2-M.y1,y3:M.y3-M.y2},R={y1:Cv(L.y1,M.cur),y2:Cv(L.y2,M.y1),y3:Cv(L.y3,M.y2)},O=(null===l||void 0===l?void 0:l.region)||"",F=(null===a||void 0===a?void 0:a.country_name)||(null===l||void 0===l?void 0:l.country_name)||"",D=(null===a||void 0===a?void 0:a.name)||"",I={textAlign:"center",fontWeight:800,fontSize:12,paddingTop:4,paddingBottom:4},B={textAlign:"center",fontWeight:700,fontSize:11,paddingTop:3,paddingBottom:3,lineHeight:1.1},z={fontSize:11,background:"rgba(28, 93, 223, 0.16)",fontWeight:700},U=(e,t,n)=>{var i,r;const a=jv(null===T||void 0===T||null===(i=T[e])||void 0===i||null===(r=i.caps)||void 0===r?void 0:r[t]),l=a>0?n/a:null;return(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("td",{className:"cell-count",children:(0,oa.jsx)(sv,{className:(s="input xs kapInput",o="byKademe.".concat(e,".caps.").concat(t),s+(A(o)?" input-dirty":"")),min:"0",step:"1",value:a,onChange:n=>((e,t,n)=>{const i=jv(n),r=(null===T||void 0===T?void 0:T[e])||{caps:{cur:0,y1:0,y2:0,y3:0}},a=r.caps||{},l=m(m({},a),{},{[t]:i});if("cur"===t){const t=jv(null===a||void 0===a?void 0:a.cur),n=n=>{if(A("byKademe.".concat(e,".caps.").concat(n)))return!1;const i=jv(null===a||void 0===a?void 0:a[n]);return 0===i||i===t},r=e=>{n(e)&&(l[e]=i)};r("y1")&&(l.y1=i),r("y2")&&(l.y2=i),r("y3")&&(l.y3=i)}const s=m(m({},r),{},{caps:l}),o=m(m({},T||{}),{},{[e]:s}),c={cur:_("cur",o),y1:_("y1",o),y2:_("y2",o),y3:_("y3",o)},u=m(m({},v),{},{byKademe:o,totals:c,years:m(m({},v.years||{}),{},{y1:c.y1,y2:c.y2,y3:c.y3})});p(u),null===y||void 0===y||y(E("byKademe.".concat(e,".caps.").concat(t)),i)})(e,t,n)})}),(0,oa.jsx)("td",{className:"cell-count",children:Sv(n)}),(0,oa.jsx)("td",{className:"cell-num",children:null==l?"":wv(l)})]});var s,o},Y=(e,t)=>{const n=jv(null===P||void 0===P?void 0:P[e]),i=n>0?t/n:null;return(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("td",{className:"cell-count",style:{fontWeight:800},children:Sv(n)}),(0,oa.jsx)("td",{className:"cell-count",style:{fontWeight:800},children:Sv(t)}),(0,oa.jsx)("td",{className:"cell-num",style:{fontWeight:800},children:null==i?"":wv(i)})]})};return(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsxs)("div",{className:"table-scroll",children:[(0,oa.jsx)("style",{children:"\n          .kapasiteExcelTable{\n            width:100%;\n            table-layout:fixed;\n            border-collapse:collapse;\n          }\n\n          .kapasiteExcelTable th, .kapasiteExcelTable td{\n            padding:3px 4px;\n          }\n\n          .kapasiteExcelTable thead th{\n            white-space:normal;\n            line-height:1.1;\n            word-break:break-word;\n          }\n\n          .kapasiteExcelTable tbody td:first-child{\n            white-space:nowrap;\n          }\n\n          /* center helper */\n          .kapasiteExcelTable .center{\n            text-align:center;\n          }\n\n          /* force override any global .num { text-align:right } */\n          .kapasiteExcelTable td.center,\n          .kapasiteExcelTable th.center,\n          .kapasiteExcelTable td.num.center,\n          .kapasiteExcelTable th.num.center {\n            text-align: center !important;\n          }\n\n          /* keep numbers compact but centered */\n          .kapasiteExcelTable td.num{\n            white-space:nowrap;\n          }\n\n          .kapasiteExcelTable .kapInput{\n            width:62px;\n            max-width:62px;\n            padding:2px 4px;\n            text-align:center !important;\n          }\n\n          .kapasiteExcelTable tbody td:not(:first-child){\n            text-align:center !important;\n          }\n\n          /* ===== Group separators (vertical) ===== */\n          :root{\n            --kap-sep: rgba(15, 23, 42, 0.22);\n            --kap-band: rgba(2, 6, 23, 0.028); /* very light */\n          }\n\n          /* BODY has 13 columns: 1 label + 12 data\n             groups: (2-4), (5-7), (8-10), (11-13) */\n\n          /* group borders */\n          .kapasiteExcelTable tbody td:nth-child(2),\n          .kapasiteExcelTable tbody td:nth-child(5),\n          .kapasiteExcelTable tbody td:nth-child(8),\n          .kapasiteExcelTable tbody td:nth-child(11){\n            border-left: 2px solid var(--kap-sep);\n          }\n\n          .kapasiteExcelTable tbody td:nth-child(4),\n          .kapasiteExcelTable tbody td:nth-child(7),\n          .kapasiteExcelTable tbody td:nth-child(10),\n          .kapasiteExcelTable tbody td:nth-child(13){\n            border-right: 2px solid var(--kap-sep);\n          }\n\n          /* HEADER 2nd row: 12 cells (because first col is rowSpan)\n             groups: (1-3), (4-6), (7-9), (10-12) */\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(1),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(4),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(7),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(10){\n            border-left: 2px solid var(--kap-sep);\n          }\n\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(3),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(6),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(9),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(12){\n            border-right: 2px solid var(--kap-sep);\n          }\n\n          /* ===== Alternating banding by group (very light) =====\n             Apply to columns of groups 2 and 4 only (like Excel banding) */\n          .kapasiteExcelTable tbody td:nth-child(5),\n          .kapasiteExcelTable tbody td:nth-child(6),\n          .kapasiteExcelTable tbody td:nth-child(7),\n          .kapasiteExcelTable tbody td:nth-child(11),\n          .kapasiteExcelTable tbody td:nth-child(12),\n          .kapasiteExcelTable tbody td:nth-child(13){\n            background: var(--kap-band);\n          }\n\n          /* Header banding too (2nd row) */\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(4),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(5),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(6),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(10),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(11),\n          .kapasiteExcelTable thead tr:nth-child(2) th:nth-child(12){\n            background: var(--kap-band);\n          }\n\n          /* Growth rows: because we use colSpan=3, nth-child borders won't apply.\n             Re-add group borders on the merged group-cells. */\n          .kapasiteExcelTable tbody tr.kapGrowth td.kapG{\n            border-left: 2px solid var(--kap-sep);\n            border-right: 2px solid var(--kap-sep);\n          }\n        "}),(0,oa.jsxs)("table",{className:"table data-table kapasiteExcelTable",children:[(0,oa.jsxs)("colgroup",{children:[(0,oa.jsx)("col",{style:{width:210}}),Array.from({length:12}).map((e,t)=>(0,oa.jsx)("col",{style:{width:t%3===0?70:t%3===1?78:70}},t))]}),(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"row-group-start",children:[(0,oa.jsxs)("th",{rowSpan:2,style:{fontSize:11,lineHeight:1.1,fontWeight:700,verticalAlign:"top",paddingTop:4,paddingBottom:4,paddingLeft:6,paddingRight:6},children:[(0,oa.jsxs)("div",{children:["B\xd6LGE: ",O||"-"]}),(0,oa.jsxs)("div",{children:["\xdcLKE: ",F||"-"]}),(0,oa.jsxs)("div",{children:["KAMP\xdcS: ",D||"-"]})]}),(0,oa.jsx)("th",{colSpan:3,style:m(m({},I),{},{borderLeft:"2px solid rgba(15,23,42,0.22)"}),children:"Mevcut veya \xd6n Kay\u0131t"}),(0,oa.jsx)("th",{colSpan:3,style:m(m({},I),{},{borderLeft:"2px solid rgba(15,23,42,0.22)"}),children:Nv(s,0)}),(0,oa.jsx)("th",{colSpan:3,style:m(m({},I),{},{borderLeft:"2px solid rgba(15,23,42,0.22)"}),children:Nv(s,1)}),(0,oa.jsx)("th",{colSpan:3,style:m(m({},I),{},{borderLeft:"2px solid rgba(15,23,42,0.22)",borderRight:"2px solid rgba(15,23,42,0.22)"}),children:Nv(s,2)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{style:B,children:"Kapasite"}),(0,oa.jsx)("th",{style:B,children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:B,children:"Kapasite Kullan\u0131m Oran\u0131"}),(0,oa.jsx)("th",{style:B,children:"Kapasite"}),(0,oa.jsx)("th",{style:B,children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:B,children:"Kapasite Kullan\u0131m Oran\u0131"}),(0,oa.jsx)("th",{style:B,children:"Kapasite"}),(0,oa.jsx)("th",{style:B,children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:B,children:"Kapasite Kullan\u0131m Oran\u0131"}),(0,oa.jsx)("th",{style:B,children:"Kapasite"}),(0,oa.jsx)("th",{style:B,children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:B,children:"Kapasite Kullan\u0131m Oran\u0131"})]})]}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{className:"kapGrowth row-group-start",style:z,children:[(0,oa.jsx)("td",{className:"cell-count",children:"Bir \xd6nceki Y\u0131la G\xf6re \xd6\u011frenci Art\u0131\u015f\u0131"}),(0,oa.jsx)("td",{colSpan:3,className:"cell-count kapG kapG0"}),(0,oa.jsx)("td",{colSpan:3,className:"cell-count kapG kapG1",children:Sv(L.y1)}),(0,oa.jsx)("td",{colSpan:3,className:"cell-count kapG kapG2",children:Sv(L.y2)}),(0,oa.jsx)("td",{colSpan:3,className:"cell-count kapG kapG3",children:Sv(L.y3)})]}),(0,oa.jsxs)("tr",{className:"kapGrowth",style:z,children:[(0,oa.jsx)("td",{className:"cell-count",children:"1'nci Y\u0131la G\xf6re \xd6\u011frenci Art\u0131\u015f Oran\u0131"}),(0,oa.jsx)("td",{colSpan:3,className:"cell-pct kapG kapG0"}),(0,oa.jsx)("td",{colSpan:3,className:"cell-pct kapG kapG1",children:null==R.y1?"":wv(R.y1)}),(0,oa.jsx)("td",{colSpan:3,className:"cell-pct kapG kapG2",children:null==R.y2?"":wv(R.y2)}),(0,oa.jsx)("td",{colSpan:3,className:"cell-pct kapG kapG3",children:null==R.y3?"":wv(R.y3)})]}),S.map((e,t)=>{var n,i,r;const a=ol(e.label,g,e.key),l=jv(null===C||void 0===C?void 0:C[e.key]),s=jv(null===N||void 0===N||null===(n=N.y1)||void 0===n?void 0:n[e.key]),o=jv(null===N||void 0===N||null===(i=N.y2)||void 0===i?void 0:i[e.key]),c=jv(null===N||void 0===N||null===(r=N.y3)||void 0===r?void 0:r[e.key]);return(0,oa.jsxs)("tr",{className:0===t?"row-group-start":"",children:[(0,oa.jsx)("td",{className:"nowrap",children:a}),U(e.key,"cur",l),U(e.key,"y1",s),U(e.key,"y2",o),U(e.key,"y3",c)]},e.key)}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontWeight:800,textAlign:"left"},children:"TOPLAM"}),Y("cur",M.cur),Y("y1",M.y1),Y("y2",M.y2),Y("y3",M.y3)]})]})]})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:8},children:"Not: \u201cMevcut \xd6\u011frenci Say\u0131s\u0131\u201d otomatik olarak Norm/Mevcut D\xf6nem verilerinden hesaplan\u0131r."})]})}function Ev(e){const t=Number(null===e||void 0===e?void 0:e.pct);return Number.isFinite(t)?t:0}function Av(){var e,t,n;const{inputs:i,setField:r,school:a,me:l,baseYear:s,programType:o,dirtyPaths:c,markDirty:u,progMap:d}=Ee();return i?(0,oa.jsx)("div",{style:{marginTop:12},children:(0,oa.jsx)(bv,{pct:Ev(null===d||void 0===d?void 0:d.kapasite),title:"Kapasite",missingLines:null===d||void 0===d||null===(e=d.kapasite)||void 0===e?void 0:e.missingLines,missingPreview:null===d||void 0===d||null===(t=d.kapasite)||void 0===t?void 0:t.missingPreview,children:(0,oa.jsx)(Tv,{school:a,me:l,baseYear:s,kapasite:i.kapasite,plannedGrades:i.gradesYears||i.grades,currentGrades:i.gradesCurrent,kademeConfig:null===(n=i.temelBilgiler)||void 0===n?void 0:n.kademeler,programType:o,onChange:e=>{r("kapasite",e)},dirtyPaths:c,onDirty:u})})}):null}const _v="||",Pv=dl(),Mv=new Map(Pv.map((e,t)=>[e,t])),Lv=["y1","y2","y3"],Rv=24,Ov=al(),Fv=Object.freeze(Ov.reduce((e,t)=>(e[t.key]=t.label,e),{})),Dv=Object.freeze([]),Iv=e=>{const t=Number(e);return Number.isFinite(t)?t:0};function Bv(){const e={};return Pv.forEach(t=>e[t]={}),e}function zv(e,t){const n=String(e||"").trim(),i=String(t||"").trim();return n||i?i?n?"".concat(n).concat(_v).concat(i):i:n:""}function Uv(e){const t=String(e||"");if(t.includes(_v)){const[e,...n]=t.split(_v);return{teacher:e||"",lesson:n.join(_v)||""}}return{teacher:t,lesson:t}}function Yv(e,t){const n=Array.isArray(e)?e:[];return(Array.isArray(t)&&t.length?t:Pv).map(e=>{const t=n.find(t=>String(t.grade)===e)||{grade:e,branchCount:0,studentsPerBranch:0};return{grade:e,branchCount:Iv(t.branchCount),studentsPerBranch:Iv(t.studentsPerBranch)}})}function Kv(e){return Yv(e,Pv).reduce((e,t)=>e+Iv(t.studentsPerBranch),0)}function Wv(e){let{title:t,subtitle:n,grades:i,onChange:a,dirtyPaths:l,onDirty:s,pathPrefix:o,gradeColWidth:c,inputWidth:u,gradeOrder:d,allGrades:h,kademeConfig:p}=e;const f=Array.isArray(d)&&d.length?d:Pv,y=Array.isArray(h)&&h.length?h:f,v=Yv(i,f),g=Yv(i,y),b="function"!==typeof a,x=(e,t)=>e+((e=>!(!e||!l)&&l.has(e))(t)?" input-dirty":""),k=(e,t)=>o?"".concat(o,".").concat(e,".").concat(t):"",j=v.reduce((e,t)=>{const n=Iv(t.studentsPerBranch);return e.totalBranches+=Iv(t.branchCount),e.totalStudents+=n,e},{totalBranches:0,totalStudents:0});function S(e,t,n){if(b)return;const i=""===n?0:Iv(n),r=g.map(n=>n.grade!==e?n:m(m({},n),{},{[t]:i}));a(r),o&&(null===s||void 0===s||s(k(e,t),i))}const w={borderLeft:"2px solid rgba(0,0,0,0.10)"},N={background:"rgba(0,0,0,0.04)"},C={fontWeight:800,whiteSpace:"nowrap"},T=Number.isFinite(c)?c:36,E={width:Number.isFinite(u)?u:T-2,boxSizing:"border-box",textAlign:"center",paddingLeft:4,paddingRight:4},A=(0,r.useMemo)(()=>function(e,t){const n=Array.isArray(e)&&e.length?e:Pv,i=[];let r=null,a=[];const l=()=>{if(!a.length)return;const e=r,n=e?ol(Fv[e]||e,t,e):"";i.push({key:e,label:n,grades:a})};for(const s of n){const e=cl(s,t);e!==r&&a.length&&(l(),a=[]),e!==r&&(r=e),a.push(s)}return l(),i}(f,p),[f,p]),_=(0,r.useMemo)(()=>{const e=new Map(v.map(e=>[e.grade,Iv(e.studentsPerBranch)]));return A.map(t=>t.grades.reduce((t,n)=>t+Iv(e.get(n)),0))},[A,v]);return(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:800},children:t}),n?(0,oa.jsx)("div",{className:"small",children:n}):null]}),(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsxs)("span",{className:"badge",children:["Toplam \u015eube: ",j.totalBranches.toFixed(0)]}),(0,oa.jsxs)("span",{className:"badge",children:["Toplam \xd6\u011frenci: ",j.totalStudents.toFixed(0)]})]})]}),(0,oa.jsx)("div",{style:{overflowX:"auto",marginTop:10},children:(0,oa.jsxs)("table",{className:"table",style:{tableLayout:"fixed"},children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{rowSpan:2,style:{minWidth:150,width:150,maxWidth:150}}),A.map((e,t)=>(0,oa.jsx)("th",{colSpan:e.grades.length,style:m(m({textAlign:"center",fontWeight:900,paddingTop:6,paddingBottom:6},0===t?{}:w),{},{background:"rgba(22, 87, 238, 0.03)",minWidth:1===e.grades.length?100:e.grades.length*T,width:1===e.grades.length?100:e.grades.length*T,whiteSpace:"normal",lineHeight:1.2}),title:e.label,children:e.label},"".concat(e.key||"none","-").concat(t))),(0,oa.jsx)("th",{rowSpan:2,style:m(m(m({textAlign:"center",minWidth:78,width:78,maxWidth:78},w),N),{},{paddingLeft:8,paddingRight:8}),children:"TOPLAM"})]}),(0,oa.jsx)("tr",{children:v.map((e,t)=>(0,oa.jsx)("th",{style:m(m({textAlign:"center",minWidth:T,width:T,maxWidth:T},0===t?{}:w),{},{paddingLeft:4,paddingRight:4}),children:e.grade},e.grade))})]}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:C,children:"\u015eube Say\u0131s\u0131"}),v.map((e,t)=>(0,oa.jsx)("td",{style:m(m({textAlign:"right"},0===t?{}:w),{},{paddingLeft:4,paddingRight:4}),children:(0,oa.jsx)(sv,{className:x("input sm",k(e.grade,"branchCount")),style:E,min:"0",step:"1",value:e.branchCount,disabled:b,onChange:t=>S(e.grade,"branchCount",t)})},e.grade)),(0,oa.jsx)("td",{style:m(m(m({textAlign:"right",fontWeight:900},w),N),{},{paddingLeft:4,paddingRight:4}),children:j.totalBranches.toFixed(0)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:C,children:"\xd6\u011frenci"}),v.map((e,t)=>(0,oa.jsx)("td",{style:m(m({textAlign:"right"},0===t?{}:w),{},{paddingLeft:4,paddingRight:4}),children:(0,oa.jsx)(sv,{className:x("input sm",k(e.grade,"studentsPerBranch")),style:E,min:"0",step:"1",value:e.studentsPerBranch,disabled:b,onChange:t=>S(e.grade,"studentsPerBranch",t)})},e.grade)),(0,oa.jsx)("td",{style:m(m(m({textAlign:"right",fontWeight:900},w),N),{},{paddingLeft:4,paddingRight:4}),children:j.totalStudents.toFixed(0)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:C,children:"Kademe Toplam\u0131"}),A.map((e,t)=>(0,oa.jsx)("td",{colSpan:e.grades.length,style:m(m({textAlign:"right",fontWeight:900},0===t?{}:w),{},{background:"rgba(15, 23, 42, 0.03)",paddingLeft:8,paddingRight:8}),children:Iv(_[t]).toFixed(0)},"seg-total-".concat(t))),(0,oa.jsx)("td",{style:m(m(m({textAlign:"right",fontWeight:900},w),N),{},{paddingLeft:4,paddingRight:4}),children:j.totalStudents.toFixed(0)})]})]})]})})]})}function Hv(e){var t;let{value:n,onChange:i,lastUpdatedAt:a,planningGrades:l,currentGrades:s,onPlanningGradesChange:o,onCurrentGradesChange:c,kademeConfig:u,dirtyPaths:d,onDirty:h}=e;const p=(0,r.useMemo)(()=>function(e){var t;const n=e&&"object"===typeof e?e:{},i=null!==n&&void 0!==n&&n.years&&"object"===typeof n.years?n.years:null;if(i){const e={};return Lv.forEach(t=>{var r,a;const l=(null===i||void 0===i?void 0:i[t])||{},s=Number(null!==(r=null!==(a=null===l||void 0===l?void 0:l.teacherWeeklyMaxHours)&&void 0!==a?a:null===n||void 0===n?void 0:n.teacherWeeklyMaxHours)&&void 0!==r?r:Rv),o=Number.isFinite(s)&&s>0?s:Rv,c=null!==l&&void 0!==l&&l.curriculumWeeklyHours&&"object"===typeof l.curriculumWeeklyHours?l.curriculumWeeklyHours:Bv();e[t]={teacherWeeklyMaxHours:o,curriculumWeeklyHours:c}}),{years:e}}const r=Number(null!==(t=null===n||void 0===n?void 0:n.teacherWeeklyMaxHours)&&void 0!==t?t:Rv),a=Number.isFinite(r)&&r>0?r:Rv,l=null!==n&&void 0!==n&&n.curriculumWeeklyHours&&"object"===typeof n.curriculumWeeklyHours?n.curriculumWeeklyHours:Bv(),s={};return Lv.forEach(e=>{s[e]={teacherWeeklyMaxHours:a,curriculumWeeklyHours:structuredClone(l)}}),{years:s}}(n),[n]),[f,y]=(0,r.useState)("y1"),v=(0,r.useMemo)(()=>{var e;return(null===(e=p.years)||void 0===e?void 0:e[f])||{teacherWeeklyMaxHours:Rv,curriculumWeeklyHours:Bv()}},[p.years,f]),g=Iv(null!==(t=v.teacherWeeklyMaxHours)&&void 0!==t?t:Rv)||Rv,b=v.curriculumWeeklyHours&&"object"===typeof v.curriculumWeeklyHours?v.curriculumWeeklyHours:Bv(),x=(0,r.useMemo)(()=>function(e){const t=sl(e),n=new Set;Object.values(t).forEach(e=>{if(null===e||void 0===e||!e.enabled)return;const t=Mv.get(String(e.from)),i=Mv.get(String(e.to));if(!Number.isInteger(t)||!Number.isInteger(i))return;const r=Math.min(t,i),a=Math.max(t,i);for(let l=r;l<=a;l+=1)n.add(Pv[l])});const i=Pv.filter(e=>n.has(e));return i.length?i:Pv}(u),[u]),k=(0,r.useMemo)(()=>function(e){if(Array.isArray(e))return{y1:e,y2:e,y3:e};if(e&&"object"===typeof e){const t=e.years&&"object"===typeof e.years?e.years:e,n=Array.isArray(null===t||void 0===t?void 0:t.y1)?t.y1:[];return{y1:n,y2:Array.isArray(null===t||void 0===t?void 0:t.y2)?t.y2:n,y3:Array.isArray(null===t||void 0===t?void 0:t.y3)?t.y3:n}}return{y1:[],y2:[],y3:[]}}(l),[l]),j=(0,r.useMemo)(()=>(null===k||void 0===k?void 0:k[f])||Dv,[k,f]),S="y1"===f,w=(0,r.useMemo)(()=>({y1:Kv(k.y1),y2:Kv(k.y2),y3:Kv(k.y3)}),[k]),N=[],C=w.y2<=0||k.y2===k.y1,T=w.y3<=0||k.y3===k.y1;C&&N.push("Y2"),T&&N.push("Y3");const E=(e,t)=>e+((e=>!(!e||!d)&&d.has(e))(t)?" input-dirty":""),A=e=>"norm.years.".concat(f,".").concat(e),_="inputs.gradesYears.".concat(f),P=(0,r.useMemo)(()=>{const e=new Set;return Pv.forEach(t=>{const n=(null===b||void 0===b?void 0:b[t])||{};Object.keys(n).forEach(t=>e.add(t))}),Array.from(e)},[b]),M=(0,r.useMemo)(()=>{const e=P.map(e=>m({key:e},Uv(e))).filter(e=>String(e.key||"").trim());return e.sort((e,t)=>{const n=String(e.teacher||"").toLowerCase(),i=String(t.teacher||"").toLowerCase();return n!==i?n.localeCompare(i):String(e.lesson||"").toLowerCase().localeCompare(String(t.lesson||"").toLowerCase())}),e},[P]),L=(0,r.useMemo)(()=>Yv(j,Pv),[j]),R=(0,r.useMemo)(()=>{const e={};return L.forEach(t=>e[t.grade]=Iv(t.branchCount)),e},[L]),O=(0,r.useMemo)(()=>{const e={};return L.forEach(t=>e[t.grade]=Iv(t.studentsPerBranch)),e},[L]),[F,D]=(0,r.useState)(""),[I,B]=(0,r.useState)(""),[z,U]=(0,r.useState)({}),Y=e=>"y1"===e?"Y1":"y2"===e?"Y2":"Y3",K=Lv.indexOf(f),W=K>0?Lv[K-1]:null;function H(e,t){U(n=>{var i,r;return m(m({},n),{},{[e]:m(m({teacher:(null===(i=M.find(t=>t.key===e))||void 0===i?void 0:i.teacher)||"",lesson:(null===(r=M.find(t=>t.key===e))||void 0===r?void 0:r.lesson)||""},n[e]||{}),t)})})}function V(e){const t=z[e];if(!t)return;const n=Uv(e),r=String(t.teacher||"").trim(),a=String(t.lesson||"").trim();if(r===String(n.teacher||"").trim()&&a===String(n.lesson||"").trim())return void U(t=>{const n=m({},t);return delete n[e],n});const l=zv(r,a);l&&l!==e&&!P.includes(l)?(!function(e,t,n){const r=zv(t,n);if(!r||r===e)return;if(P.includes(r))return;const a=m({},b||{});Pv.forEach(t=>{const n=m({},a[t]||{}),i=Iv(n[e]);n[r]=i,delete n[e],a[t]=n,null===h||void 0===h||h(A("curriculumWeeklyHours.".concat(t,".").concat(r)),i),null===h||void 0===h||h(A("curriculumWeeklyHours.".concat(t,".").concat(e)),void 0)});const l=structuredClone(p);l.years=l.years||{},l.years[f]=l.years[f]||{teacherWeeklyMaxHours:Rv,curriculumWeeklyHours:Bv()},l.years[f].curriculumWeeklyHours=a,i({years:l.years})}(e,r,a),U(t=>{const n=m({},t);return delete n[e],n})):U(t=>{const n=m({},t);return delete n[e],n})}const G=(0,r.useMemo)(()=>{const e={};return M.forEach(t=>{let n=0;x.forEach(e=>{var i;const r=Iv(null===b||void 0===b||null===(i=b[e])||void 0===i?void 0:i[t.key]),a=Iv(R[e]);n+=r*a}),e[t.key]=n}),e},[M,b,R,x]),q=(0,r.useMemo)(()=>{const e={};return x.forEach(t=>{let n=0;M.forEach(e=>{var i;n+=Iv(null===b||void 0===b||null===(i=b[t])||void 0===i?void 0:i[e.key])}),e[t]=n}),e},[M,b,x]),$=(0,r.useMemo)(()=>{const e=Object.values(G).reduce((e,t)=>e+Iv(t),0),t=g>0?Math.ceil(e/g):0,n=new Map;M.forEach(e=>{const t=String(e.teacher||"").trim()||"(No Teacher)",i=Iv(G[e.key]);n.set(t,(n.get(t)||0)+i)});const i=Array.from(n.entries()).map(e=>{let[t,n]=e;return{teacher:t,hours:n,fte:g>0?n/g:0,needed:g>0?Math.ceil(n/g):0}}).sort((e,t)=>t.hours-e.hours),r=i.reduce((e,t)=>e+Iv(t.needed),0);return{totalTeachingHours:e,requiredTeachersOverall:t,teacherRows:i,requiredTeachersByBranch:r}},[M,G,g]),X=(0,r.useMemo)(()=>{const e=x.reduce((e,t)=>e+Iv(R[t]),0),t=x.reduce((e,t)=>e+Iv(O[t]),0),n=x.includes("KG")?Iv(R.KG):0,i=x.includes("KG")?Iv(O.KG):0,r=i>0?Math.ceil(i/50):0,a=$.requiredTeachersOverall+r;return{totalBranches:e,totalStudents:t,kgBranches:n,kgStudents:i,okulOncesiPersonel50:r,totalEducatorsWithOkulOncesi:a,studentTeacherRatio:a>0?t/a:null,teacherClassRatio:e>0?a/e:null,studentClassRatio:e>0?t/e:null}},[x,R,O,$.requiredTeachersOverall]),Q=34,Z={width:"100%",minWidth:0,maxWidth:"100%",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};return(0,oa.jsxs)("div",{children:[(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:800},children:"N.Kadro / Norm"}),(0,oa.jsx)("div",{className:"small",children:"Planlanan (senaryo) \u015fube bilgileri + ders da\u011f\u0131l\u0131m\u0131 (haftal\u0131k). Sa\u011f tarafta bran\u015fa g\xf6re toplam ders saati ve \xf6\u011fretmen ihtiyac\u0131 hesaplan\u0131r."})]}),(0,oa.jsx)("div",{className:"row",children:(0,oa.jsxs)("label",{children:[(0,oa.jsxs)("div",{className:"small",children:["\xd6\u011fretmen Haftal\u0131k Max Saat (",Y(f),")"]}),(0,oa.jsx)(sv,{className:E("input sm",A("teacherWeeklyMaxHours")),min:"1",step:"1",value:g,onChange:e=>function(e){const t=""===e?0:Iv(e),n=Number.isFinite(t)&&t>0?t:24,r=structuredClone(p);r.years=r.years||{},r.years[f]=r.years[f]||{teacherWeeklyMaxHours:Rv,curriculumWeeklyHours:Bv()},r.years[f].teacherWeeklyMaxHours=n,i({years:r.years}),null===h||void 0===h||h(A("teacherWeeklyMaxHours"),n)}(e)})]})})]}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between",marginTop:10},children:[(0,oa.jsx)("div",{className:"tabs",children:Lv.map(e=>(0,oa.jsx)("div",{className:"tab "+(f===e?"active ":""),onClick:()=>y(e),children:Y(e)},e))}),W?(0,oa.jsxs)("button",{className:"btn",onClick:function(){var e,t,n,r,a,l;if(!W)return;const s=(null===(e=p.years)||void 0===e?void 0:e[W])||{teacherWeeklyMaxHours:Rv,curriculumWeeklyHours:Bv()},c=null!==s&&void 0!==s&&s.curriculumWeeklyHours&&"object"===typeof s.curriculumWeeklyHours?s.curriculumWeeklyHours:Bv(),u=structuredClone(p);u.years=u.years||{},u.years[f]={teacherWeeklyMaxHours:Iv(null!==(t=null===s||void 0===s?void 0:s.teacherWeeklyMaxHours)&&void 0!==t?t:Rv)||Rv,curriculumWeeklyHours:structuredClone(c)},i({years:u.years}),null===h||void 0===h||h(A("teacherWeeklyMaxHours"),u.years[f].teacherWeeklyMaxHours);const d=(null===(n=p.years)||void 0===n||null===(r=n[f])||void 0===r?void 0:r.curriculumWeeklyHours)||{},y=(null===(a=u.years)||void 0===a||null===(l=a[f])||void 0===l?void 0:l.curriculumWeeklyHours)||{};if(Pv.forEach(e=>{const t=(null===d||void 0===d?void 0:d[e])||{},n=(null===y||void 0===y?void 0:y[e])||{};Object.keys(t).forEach(t=>{t in n||null===h||void 0===h||h(A("curriculumWeeklyHours.".concat(e,".").concat(t)),void 0)}),Object.entries(n).forEach(t=>{let[n,i]=t;null===h||void 0===h||h(A("curriculumWeeklyHours.".concat(e,".").concat(n)),i)})}),"function"===typeof o){const e=(null===k||void 0===k?void 0:k[W])||[],t=m(m({},k),{},{[f]:structuredClone(e)});o(t);Yv(t[f],Pv).forEach(e=>{null===h||void 0===h||h("".concat(_,".").concat(e.grade,".branchCount"),e.branchCount),null===h||void 0===h||h("".concat(_,".").concat(e.grade,".studentsPerBranch"),e.studentsPerBranch)})}},children:["Copy from ",Y(W)]}):null]}),N.length?(0,oa.jsxs)("div",{className:"small",style:{marginTop:6,color:"#b91c1c"},children:["Warning: ",N.join(" and ")," planlanan ogrenci bilgisi bos."]}):null,(0,oa.jsx)("hr",{}),(0,oa.jsxs)("div",{className:"grid2",style:{alignItems:"start"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:800},children:"\xd6zet"}),(0,oa.jsxs)("div",{className:"grid2 norm-summary-grid",style:{marginTop:8},children:[(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Toplam Ders Saati (Haftal\u0131k)"}),(0,oa.jsx)("div",{className:"value",children:$.totalTeachingHours.toFixed(2)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Toplam E\u011fitimci (Genel)"}),(0,oa.jsx)("div",{className:"value",children:$.requiredTeachersOverall})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Okul \xd6ncesi (KG) Yard\u0131mc\u0131 S\u0131n\u0131f \xd6\u011frt. (S\u0131n\u0131f Say\u0131s\u0131)"}),(0,oa.jsx)("div",{className:"value",children:X.kgBranches.toFixed(0)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Okul \xd6ncesi Personeli (50 \xf6\u011frenci / 1)"}),(0,oa.jsx)("div",{className:"value",children:X.okulOncesiPersonel50})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Toplam E\u011fitimci (Genel + Okul \xd6ncesi)"}),(0,oa.jsx)("div",{className:"value",children:X.totalEducatorsWithOkulOncesi})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"\xd6\u011frenci / \xd6\u011fretmen"}),(0,oa.jsx)("div",{className:"value",children:null==X.studentTeacherRatio?"\u2014":X.studentTeacherRatio.toFixed(2)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"\xd6\u011fretmen / S\u0131n\u0131f"}),(0,oa.jsx)("div",{className:"value",children:null==X.teacherClassRatio?"\u2014":X.teacherClassRatio.toFixed(2)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"\xd6\u011frenci / S\u0131n\u0131f"}),(0,oa.jsx)("div",{className:"value",children:null==X.studentClassRatio?"\u2014":X.studentClassRatio.toFixed(2)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"E\u011fitimci (Bran\u015fa G\xf6re Toplam)"}),(0,oa.jsx)("div",{className:"value",children:$.requiredTeachersByBranch})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Not"}),(0,oa.jsxs)("div",{className:"value",style:{fontSize:12,fontWeight:600,lineHeight:1.25},children:[(0,oa.jsx)("div",{children:"Bran\u015fa g\xf6re toplam, bran\u015f da\u011f\u0131l\u0131m\u0131 nedeniyle genel toplamdan b\xfcy\xfck olabilir."}),(0,oa.jsx)("div",{style:{marginTop:4},children:"Okul \xf6ncesi personelinin pedagojik a\xe7\u0131dan \xf6\u011frenci ileti\u015fiminin y\xfcksek olmas\u0131 gerekir."})]})]})]})]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:800},children:"Bran\u015f Bazl\u0131 (Toplam Ders Saati)"}),(0,oa.jsx)("div",{style:{overflowX:"auto",marginTop:8},children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Bran\u015f \xd6\u011fretmeni"}),(0,oa.jsx)("th",{style:{textAlign:"right"},children:"Toplam Ders Saati"}),(0,oa.jsx)("th",{style:{textAlign:"right"},children:"Limit"}),(0,oa.jsx)("th",{style:{textAlign:"right"},children:"FTE"}),(0,oa.jsx)("th",{style:{textAlign:"right"},children:"E\u011fitimci"})]})}),(0,oa.jsx)("tbody",{children:0===$.teacherRows.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"5",className:"small",children:"Hen\xfcz ders sat\u0131r\u0131 yok."})}):$.teacherRows.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.teacher}),(0,oa.jsx)("td",{style:{textAlign:"right"},children:e.hours.toFixed(2)}),(0,oa.jsx)("td",{style:{textAlign:"right"},children:g}),(0,oa.jsx)("td",{style:{textAlign:"right"},children:e.fte.toFixed(2)}),(0,oa.jsx)("td",{style:{textAlign:"right",fontWeight:800},children:e.needed})]},e.teacher))})]})})]})]})]}),(0,oa.jsxs)("div",{className:"row",style:{alignItems:"stretch"},children:[(0,oa.jsx)("div",{style:{flex:"1 1 520px",minWidth:0},children:(0,oa.jsx)(Wv,{title:"PLANLANAN D\xd6NEM B\u0130LG\u0130LER\u0130",subtitle:"Her s\u0131n\u0131f d\xfczeyi i\xe7in \u015fube say\u0131s\u0131 ve \xf6\u011frenci say\u0131s\u0131 (senaryo).",grades:j,onChange:function(e){if("function"!==typeof o)return;const t=m(m({},k),{},{[f]:e});o(t)},dirtyPaths:d,onDirty:h,pathPrefix:_,gradeColWidth:34,inputWidth:30,gradeOrder:x,allGrades:Pv,kademeConfig:u})}),(0,oa.jsx)("div",{style:{flex:"1 1 520px",minWidth:0},children:(0,oa.jsx)(Wv,{title:"MEVCUT D\xd6NEM B\u0130LG\u0130LER\u0130",subtitle:"Mevcut d\xf6nem \u015fube ve toplam \xf6\u011frenci say\u0131lar\u0131 (kar\u015f\u0131la\u015ft\u0131rma i\xe7in).",grades:s,onChange:S?c:null,dirtyPaths:d,onDirty:h,pathPrefix:"inputs.gradesCurrent",gradeOrder:x,allGrades:Pv,kademeConfig:u})})]}),S?null:(0,oa.jsx)("div",{className:"small",style:{marginTop:6},children:"Note: Mevcut donem bilgileri sadece Y1 icin duzenlenir."}),(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{className:"row",style:{justifyContent:"space-between"},children:(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:800},children:"Ders Da\u011f\u0131l\u0131m\u0131 (Haftal\u0131k)"}),(0,oa.jsx)("div",{className:"small",children:"Her ders sat\u0131r\u0131nda: dersin s\u0131n\u0131flara g\xf6re haftal\u0131k saatini gir. Toplam ders saati = (saat \xd7 \u015fube) toplam\u0131."})]})}),(0,oa.jsxs)("div",{className:"row",style:{marginTop:10},children:[(0,oa.jsx)("input",{className:"input",style:{flex:"0 1 240px",minWidth:200,maxWidth:"100%",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},placeholder:"Bran\u015f \xd6\u011fretmeni (\xf6rn: \u0130ngilizce \xd6\u011fretmeni)",value:F,onChange:e=>D(e.target.value)}),(0,oa.jsx)("input",{className:"input",style:{flex:"1 1 320px",minWidth:220,maxWidth:"100%",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},placeholder:"Ders Ad\u0131 (\xf6rn: English)",value:I,onChange:e=>B(e.target.value)}),(0,oa.jsx)("button",{className:"btn",onClick:function(){const e=zv(F,I);if(!e)return;if(P.includes(e))return;const t=function(e){const t=m({},b||{});return Pv.forEach(n=>{t[n]=m({},t[n]||{}),e in t[n]||(t[n][e]=0)}),t}(e),n=structuredClone(p);n.years=n.years||{},n.years[f]=n.years[f]||{teacherWeeklyMaxHours:Rv,curriculumWeeklyHours:Bv()},n.years[f].curriculumWeeklyHours=t,i({years:n.years}),Pv.forEach(t=>{null===h||void 0===h||h(A("curriculumWeeklyHours.".concat(t,".").concat(e)),0)}),D(""),B("")},children:"Ders Ekle"}),(0,oa.jsx)("div",{className:"small",children:'Not: Dersler veritaban\u0131nda "Bran\u015f||Ders" format\u0131nda saklan\u0131r.'})]}),(0,oa.jsx)("div",{style:{overflowX:"auto",marginTop:12},children:(0,oa.jsxs)("table",{className:"table",style:{tableLayout:"fixed"},children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{style:{minWidth:160,width:160},children:"Bran\u015f \xd6\u011fretmeni"}),(0,oa.jsx)("th",{style:{minWidth:160,width:160},children:"Ders Ad\u0131"}),x.map(e=>(0,oa.jsx)("th",{style:{textAlign:"right",minWidth:Q,width:Q,maxWidth:Q,paddingLeft:2,paddingRight:2},children:e},e)),(0,oa.jsx)("th",{style:{textAlign:"right",minWidth:140,width:140},children:"Toplam Ders Saati"}),(0,oa.jsx)("th",{style:{minWidth:70,width:70},children:"Sil"})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{}),(0,oa.jsx)("th",{className:"small",children:"Planlanan \u015eube"}),x.map(e=>(0,oa.jsx)("th",{className:"small",style:{textAlign:"right",minWidth:Q,width:Q,maxWidth:Q,paddingLeft:2,paddingRight:2},children:Iv(R[e]).toFixed(0)},e)),(0,oa.jsx)("th",{}),(0,oa.jsx)("th",{})]})]}),(0,oa.jsxs)("tbody",{children:[0===M.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:2+x.length+2,className:"small",children:"Henuz ders satiri yok. Ders ekleyerek baslayabilirsin."})}):M.map(e=>{var t,n,r,a;return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:(0,oa.jsx)("input",{className:"input",style:Z,value:(null!==(t=null===(n=z[e.key])||void 0===n?void 0:n.teacher)&&void 0!==t?t:e.teacher)||"",onChange:t=>H(e.key,{teacher:t.target.value}),onBlur:()=>V(e.key),onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.blur()}})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("input",{className:"input",style:Z,value:(null!==(r=null===(a=z[e.key])||void 0===a?void 0:a.lesson)&&void 0!==r?r:e.lesson)||"",onChange:t=>H(e.key,{lesson:t.target.value}),onBlur:()=>V(e.key),onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.blur()}})}),x.map(t=>{var n;return(0,oa.jsx)("td",{style:{textAlign:"right",paddingLeft:2,paddingRight:2},children:(0,oa.jsx)(sv,{className:E("input sm",A("curriculumWeeklyHours.".concat(t,".").concat(e.key))),style:{width:26,boxSizing:"border-box",textAlign:"right",paddingLeft:4,paddingRight:4},min:"0",step:"0.25",value:Iv(null===b||void 0===b||null===(n=b[t])||void 0===n?void 0:n[e.key]),onChange:n=>function(e,t,n){const r=""===n?0:Iv(n),a=Number.isFinite(r)&&r>=0?r:0,l=structuredClone(p);l.years=l.years||{},l.years[f]=l.years[f]||{teacherWeeklyMaxHours:Rv,curriculumWeeklyHours:Bv()},l.years[f].curriculumWeeklyHours=m(m({},b||{}),{},{[e]:m(m({},(null===b||void 0===b?void 0:b[e])||{}),{},{[t]:a})}),i({years:l.years}),null===h||void 0===h||h(A("curriculumWeeklyHours.".concat(e,".").concat(t)),a)}(t,e.key,n)})},t)}),(0,oa.jsx)("td",{style:{textAlign:"right",fontWeight:800},children:Iv(G[e.key]).toFixed(2)}),(0,oa.jsx)("td",{children:(0,oa.jsx)("button",{className:"btn danger",onClick:()=>function(e){const t=m({},b||{});Pv.forEach(n=>{const i=m({},t[n]||{});delete i[e],t[n]=i});const n=structuredClone(p);n.years=n.years||{},n.years[f]=n.years[f]||{teacherWeeklyMaxHours:Rv,curriculumWeeklyHours:Bv()},n.years[f].curriculumWeeklyHours=t,i({years:n.years}),Pv.forEach(t=>{null===h||void 0===h||h(A("curriculumWeeklyHours.".concat(t,".").concat(e)),void 0)})}(e.key),children:"x"})})]},e.key)}),M.length>0?(0,oa.jsxs)("tr",{style:{fontWeight:900},children:[(0,oa.jsx)("td",{children:"TOPLAM"}),(0,oa.jsx)("td",{}),x.map(e=>(0,oa.jsx)("td",{style:{textAlign:"right",paddingLeft:2,paddingRight:2},children:Iv(q[e]).toFixed(0)},e)),(0,oa.jsx)("td",{style:{textAlign:"right"},children:$.totalTeachingHours.toFixed(0)}),(0,oa.jsx)("td",{})]}):null]})]})})]})]})}function Vv(){var e;const{norm:t,setNorm:n,inputs:i,handlePlanningGradesChange:r,setField:a,programType:l,dirtyPaths:s,markDirty:o,normAvgPct:c,normMissingLines:u}=Ee(),d=Array.isArray(u)?u.join(" / "):"";return(0,oa.jsx)("div",{style:{marginTop:12},children:(0,oa.jsx)(bv,{pct:c,title:"Norm",missingLines:u,missingPreview:d,children:(0,oa.jsx)(Hv,{value:t||null,onChange:e=>{n(t=>m(m({},t||{}),e))},lastUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,planningGrades:(null===i||void 0===i?void 0:i.gradesYears)||(null===i||void 0===i?void 0:i.grades),currentGrades:null===i||void 0===i?void 0:i.gradesCurrent,onPlanningGradesChange:i?r:null,onCurrentGradesChange:i?e=>a("gradesCurrent",e):null,kademeConfig:null===i||void 0===i||null===(e=i.temelBilgiler)||void 0===e?void 0:e.kademeler,programType:l,dirtyPaths:s,onDirty:o})})})}const Gv=e=>{const t=Number(e);return Number.isFinite(t)?t:0},qv=e=>Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:0}):"-",$v=[{key:"y1",label:"1.Y\u0131l"},{key:"y2",label:"2.Y\u0131l"},{key:"y3",label:"3.Y\u0131l"}];const Xv=[{key:"okulOncesi",baseLabel:"Okul \xd6ncesi",kademeKey:"okulOncesi"},{key:"ilkokulYerel",baseLabel:"\u0130lkokul",kademeKey:"ilkokul",suffix:"-YEREL"},{key:"ilkokulInt",baseLabel:"\u0130lkokul",kademeKey:"ilkokul",suffix:"-INT."},{key:"ortaokulYerel",baseLabel:"Ortaokul",kademeKey:"ortaokul",suffix:"-YEREL"},{key:"ortaokulInt",baseLabel:"Ortaokul",kademeKey:"ortaokul",suffix:"-INT."},{key:"liseYerel",baseLabel:"Lise",kademeKey:"lise",suffix:"-YEREL"},{key:"liseInt",baseLabel:"Lise",kademeKey:"lise",suffix:"-INT."}],Qv=[{groupKey:"turk",groupLabel:"MERKEZ TARAFINDAN G\xd6REVLEND\u0130R\u0130LEN (T\xdcRK PER.)",roles:[{key:"turk_mudur",label:"M\xfcd\xfcr"},{key:"turk_mdyard",label:"Md.Yrd."},{key:"turk_egitimci",label:"E\u011fitimci (E\u011fitimci, \xd6\u011fretmen, Belletmen vb.)"},{key:"turk_temsil",label:"TEMS\u0130LC\u0130L\u0130K / E\u011e\u0130T\u0130M KURUMU \xc7ALI\u015eANLARI"}]},{groupKey:"yerel",groupLabel:"YEREL KAYNAKTAN TEM\u0130N ED\u0130LEN \xc7ALI\u015eANLAR",roles:[{key:"yerel_yonetici_egitimci",label:"Y\xf6netici ve E\u011fitimci"},{key:"yerel_destek",label:"Destek Per."},{key:"yerel_ulke_temsil_destek",label:"\xdclke Temsilcili\u011fi Destek Per."}]},{groupKey:"international",groupLabel:"INTERNATIONAL",roles:[{key:"int_yonetici_egitimci",label:"Y\xf6netici ve E\u011fitimci"}]}],Zv=Qv.flatMap(e=>e.roles),Jv=(()=>{const e={};return Qv.forEach((t,n)=>{t.roles.forEach((i,r)=>{e[i.key]={groupIndex:n,groupKey:t.groupKey,roleIndex:r,groupLen:t.roles.length,isGroupEnd:r===t.roles.length-1}})}),e})(),eg=e=>e<Qv.length-1?"ik-compact-divider":"",tg=e=>{const t=Jv[e];return t?t.isGroupEnd?t.groupIndex<Qv.length-1?"ik-compact-divider":"":"ik-compact-dot":""};function ng(e,t){const n=m({},e||{}),i=t||{};for(const r of Object.keys(i)){const e=i[r];e&&"object"===typeof e&&!Array.isArray(e)?n[r]=ng(n[r],e):n[r]=e}return n}function ig(){const e={},t={};for(const n of Zv)e[n.key]=0;for(const n of Xv){t[n.key]={};for(const e of Zv)t[n.key][e.key]=0}return{unitCosts:e,headcountsByLevel:t}}function rg(e){const t={unitCostRatio:1,years:{y1:ig(),y2:ig(),y3:ig()}},n=e||{};return null!==n&&void 0!==n&&n.years&&"object"===typeof n.years?ng(t,n):null!==n&&void 0!==n&&n.unitCosts||null!==n&&void 0!==n&&n.headcountsByLevel?ng(t,{years:{y1:n}}):ng(t,n)}function ag(e){const t=Gv(e);return!Number.isFinite(t)||t<=0?1:t}function lg(e,t,n){const i=ag(t),r=n||{y1:1,y2:1,y3:1},a=structuredClone(e||{});a.unitCostRatio=i,a.years=a.years||{},a.years.y1=a.years.y1||ig(),a.years.y2=a.years.y2||ig(),a.years.y3=a.years.y3||ig(),a.years.y1.unitCosts=a.years.y1.unitCosts||{},a.years.y2.unitCosts=a.years.y2.unitCosts||{},a.years.y3.unitCosts=a.years.y3.unitCosts||{};for(const c of Zv){var l,s,o;const e=Gv(null===(l=a.years.y1.unitCosts)||void 0===l?void 0:l[c.key]),t="yerel"===(Jv[c.key]||{}).groupKey,n=t?e*(null!==(s=r.y2)&&void 0!==s?s:1):e*i,u=t?e*(null!==(o=r.y3)&&void 0!==o?o:1):n*i;a.years.y2.unitCosts[c.key]=n,a.years.y3.unitCosts[c.key]=u}return a}function sg(e){const t={},n={},i={},r={};for(const m of Zv){var a;let o=0;for(const t of Xv){var l,s;o+=Gv(null===e||void 0===e||null===(l=e.headcountsByLevel)||void 0===l||null===(s=l[t.key])||void 0===s?void 0:s[m.key])}t[m.key]=o;const c=Gv(null===e||void 0===e||null===(a=e.unitCosts)||void 0===a?void 0:a[m.key]),u=c*o;n[m.key]=u,i[m.key]=c/12,r[m.key]=o>0?u/12/o:0}const o=Object.values(n).reduce((e,t)=>e+Gv(t),0),c=Object.values(t).reduce((e,t)=>e+Gv(t),0),u=e=>e.reduce((e,t)=>e+Gv(n[t]),0),d={turkPersonelMaas:u(["turk_mudur","turk_mdyard","turk_egitimci"]),turkDestekPersonelMaas:u(["turk_temsil"]),yerelPersonelMaas:u(["yerel_yonetici_egitimci"]),yerelDestekPersonelMaas:u(["yerel_destek","yerel_ulke_temsil_destek"]),internationalPersonelMaas:u(["int_yonetici_egitimci"])};return{roleTotals:t,roleAnnualCosts:n,roleMonthlyUnitCosts:i,roleMonthlyPerPersonAvg:r,salaryExpenseMapping:d,totals:{totalAnnual:o,totalHeadcount:c}}}function og(e){let{value:t,kademeConfig:n,onChange:i,onSalaryComputed:a,currencyCode:l="USD",programType:s="local",temelBilgiler:o,dirtyPaths:c,onDirty:u,uiScopeKey:d}=e;const[h,p]=(0,r.useState)(!1),[f,y]=Kl("hr.isCondensed",!0,{scope:d}),v=(0,r.useMemo)(()=>rg(t),[t]),g=(0,r.useMemo)(()=>ag(null===v||void 0===v?void 0:v.unitCostRatio),[null===v||void 0===v?void 0:v.unitCostRatio]),b=(0,r.useMemo)(()=>function(e){const t=(null===e||void 0===e?void 0:e.inflation)||{},n=Gv(null===t||void 0===t?void 0:t.y2);return{y1:1,y2:1+n,y3:(1+n)*(1+Gv(null===t||void 0===t?void 0:t.y3))}}(o),[o]),x=(0,r.useMemo)(()=>sl(n),[n]),k=(0,r.useMemo)(()=>Xv.map(e=>{const t=ol(e.baseLabel,x,e.kademeKey);return m(m({},e),{},{label:e.suffix?"".concat(t).concat(e.suffix):t})}),[x]),j=(0,r.useMemo)(()=>k.filter(e=>{var t;return!1!==(null===(t=x[e.kademeKey])||void 0===t?void 0:t.enabled)&&es(e.key,s)}),[k,x,s]);(0,r.useEffect)(()=>{if(!v)return;if(function(e,t,n){var i,r,a,l,s,o;const c=ag(t),u=n||{y1:1,y2:1,y3:1},d=(null===e||void 0===e||null===(i=e.years)||void 0===i||null===(r=i.y1)||void 0===r?void 0:r.unitCosts)||{},m=(null===e||void 0===e||null===(a=e.years)||void 0===a||null===(l=a.y2)||void 0===l?void 0:l.unitCosts)||{},h=(null===e||void 0===e||null===(s=e.years)||void 0===s||null===(o=s.y3)||void 0===o?void 0:o.unitCosts)||{};for(const y of Zv){var p,f;const e=Gv(null===d||void 0===d?void 0:d[y.key]),t="yerel"===(Jv[y.key]||{}).groupKey,n=t?e*(null!==(p=u.y2)&&void 0!==p?p:1):e*c,i=t?e*(null!==(f=u.y3)&&void 0!==f?f:1):n*c;if(Math.abs(Gv(null===m||void 0===m?void 0:m[y.key])-n)>1e-6)return!1;if(Math.abs(Gv(null===h||void 0===h?void 0:h[y.key])-i)>1e-6)return!1}return!0}(v,g,b))return;const e=lg(v,g,b);null===i||void 0===i||i(e)},[v,g,b,i]);const S=(e,t)=>"inputs.ik.years.".concat(e,".unitCosts.").concat(t),w="inputs.ik.unitCostRatio",N=(e,t,n)=>"inputs.ik.years.".concat(e,".headcountsByLevel.").concat(t,".").concat(n),C=e=>(e=>!!c&&c.has(e))(e)?"input-dirty":"",T=(0,r.useMemo)(()=>{const e={};for(const n of $v){var t;e[n.key]=sg((null===v||void 0===v||null===(t=v.years)||void 0===t?void 0:t[n.key])||ig())}return e},[v]),E=(0,r.useMemo)(()=>{const e={};for(const n of $v){var t;e[n.key]=(null===T||void 0===T||null===(t=T[n.key])||void 0===t?void 0:t.salaryExpenseMapping)||{}}return e},[T]);return(0,r.useEffect)(()=>{null===a||void 0===a||a(E)},[JSON.stringify(E)]),(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:800,textAlign:"center"},children:"PERSONEL SAYILARI VE \u0130\u015eVEREN MAL\u0130YETLER\u0130"}),(0,oa.jsx)("hr",{}),(0,oa.jsxs)("div",{className:"row",style:{marginTop:8},children:[(0,oa.jsxs)("label",{children:[(0,oa.jsx)("div",{className:"small",children:"Y\u0131ll\u0131k Birim Maliyet \xc7arpan\u0131 (Y2/Y3)"}),(0,oa.jsx)(sv,{className:"input sm ".concat(C(w)),min:"0",step:"0.01",value:g,onChange:e=>(e=>{const t=ag(e),n=lg(v,t,b);null===i||void 0===i||i(n),null===u||void 0===u||u(w,t)})(e)})]}),(0,oa.jsxs)("div",{className:"row",style:{marginLeft:"auto"},children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700},children:"G\xf6r\xfcn\xfcm"}),(0,oa.jsx)("button",{type:"button",className:"pill ".concat(f?"":"active"),onClick:()=>y(!1),children:"Geni\u015f"}),(0,oa.jsx)("button",{type:"button",className:"pill ".concat(f?"active":""),onClick:()=>y(!0),children:"Yo\u011fun"})]})]}),(0,oa.jsx)("div",{className:"ik-compact-wrap table-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table ik-compact-table",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"ik-compact-level",rowSpan:3,children:"Kademeler"}),Qv.map((e,t)=>(0,oa.jsx)("th",{colSpan:e.roles.length,className:"ik-compact-group ik-compact-group-dot ".concat(eg(t)),children:e.groupLabel},e.groupKey))]}),(0,oa.jsx)("tr",{children:Zv.map(e=>(0,oa.jsx)("th",{className:"ik-compact-role ".concat(tg(e.key)),children:e.label},e.key))}),(0,oa.jsx)("tr",{children:Zv.map(e=>(0,oa.jsx)("th",{className:"ik-year-head ".concat(tg(e.key)),children:(0,oa.jsx)("div",{className:"ik-year-stack ".concat(f?"ik-year-stack-condensed":""),children:$v.map(t=>(0,oa.jsx)("div",{className:"ik-year-chip",children:t.label},"yr-".concat(e.key,"-").concat(t.key)))})},"yr-".concat(e.key)))})]}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"ik-compact-level ik-compact-title",children:"Birim \u0130\u015fveren Maliyeti / YIL (".concat(l,")")}),Zv.map(e=>(0,oa.jsx)("td",{className:"ik-compact-cell ".concat(tg(e.key)),children:(0,oa.jsx)("div",{className:"ik-stack ".concat(f?"ik-stack-condensed":""),children:$v.map(t=>{var n,r,a,l,s,o;return(0,oa.jsx)("div",{className:"ik-stack-row",title:t.label,children:"y1"===t.key?(0,oa.jsx)(sv,{min:"0",step:"100",className:"ik-stack-input ".concat(C(S(t.key,e.key))),value:Gv(null===v||void 0===v||null===(n=v.years)||void 0===n||null===(r=n[t.key])||void 0===r||null===(a=r.unitCosts)||void 0===a?void 0:a[e.key]),onChange:n=>((e,t,n)=>{if("y1"!==e)return;const r=Gv(n),a=structuredClone(v);a.years=a.years||{},a.years.y1=a.years.y1||ig(),a.years.y1.unitCosts=a.years.y1.unitCosts||{},a.years.y1.unitCosts[t]=r;const l=lg(a,g,b);null===i||void 0===i||i(l),null===u||void 0===u||u(S("y1",t),r)})(t.key,e.key,n)}):(0,oa.jsx)("div",{className:"ik-stack-readonly",children:qv(Gv(null===v||void 0===v||null===(l=v.years)||void 0===l||null===(s=l[t.key])||void 0===s||null===(o=s.unitCosts)||void 0===o?void 0:o[e.key])||0)})},"uc-".concat(e.key,"-").concat(t.key))})})},"uc-".concat(e.key)))]}),j.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"ik-compact-level",children:e.label}),Zv.map(t=>(0,oa.jsx)("td",{className:"ik-compact-cell ".concat(tg(t.key)),children:(0,oa.jsx)("div",{className:"ik-stack ".concat(f?"ik-stack-condensed":""),children:$v.map(n=>{var r,a,l,s;return(0,oa.jsx)("div",{className:"ik-stack-row",title:n.label,children:(0,oa.jsx)(sv,{min:"0",step:"1",className:"ik-stack-input ".concat(C(N(n.key,e.key,t.key))),value:Gv(null===v||void 0===v||null===(r=v.years)||void 0===r||null===(a=r[n.key])||void 0===a||null===(l=a.headcountsByLevel)||void 0===l||null===(s=l[e.key])||void 0===s?void 0:s[t.key]),onChange:r=>((e,t,n,r)=>{const a=Math.max(0,Math.trunc(Gv(r))),l=structuredClone(v);l.years=l.years||{},l.years[e]=l.years[e]||ig(),l.years[e].headcountsByLevel=l.years[e].headcountsByLevel||{},l.years[e].headcountsByLevel[t]=l.years[e].headcountsByLevel[t]||{},l.years[e].headcountsByLevel[t][n]=a,null===i||void 0===i||i(l),null===u||void 0===u||u(N(e,t,n),a)})(n.key,e.key,t.key,r)})},"".concat(e.key,"-").concat(t.key,"-").concat(n.key))})})},"".concat(e.key,"-").concat(t.key)))]},e.key)),(0,oa.jsxs)("tr",{className:"ik-total-row row-group-start",children:[(0,oa.jsx)("td",{className:"ik-compact-level",children:"TOPLAM YILLIK MAL\u0130YET"}),Zv.map(e=>(0,oa.jsx)("td",{className:"ik-compact-cell ".concat(tg(e.key)),children:(0,oa.jsx)("div",{className:"ik-stack ".concat(f?"ik-stack-condensed":""),children:$v.map(t=>{var n,i;return(0,oa.jsx)("div",{className:"ik-stack-row",title:t.label,children:(0,oa.jsx)("div",{className:"ik-stack-value",children:qv((null===T||void 0===T||null===(n=T[t.key])||void 0===n||null===(i=n.roleAnnualCosts)||void 0===i?void 0:i[e.key])||0)})},"totcost-".concat(e.key,"-").concat(t.key))})})},"totcost-".concat(e.key)))]}),(0,oa.jsxs)("tr",{className:"ik-total-row row-group-start",children:[(0,oa.jsx)("td",{className:"ik-compact-level small",children:"Ortalama Ayl\u0131k / Ki\u015fi (Bilgi)"}),Zv.map(e=>(0,oa.jsx)("td",{className:"ik-compact-cell ".concat(tg(e.key)),children:(0,oa.jsx)("div",{className:"ik-stack ".concat(f?"ik-stack-condensed":""),children:$v.map(t=>{var n,i;return(0,oa.jsx)("div",{className:"ik-stack-row",title:t.label,children:(0,oa.jsx)("div",{className:"ik-stack-muted",children:qv((null===T||void 0===T||null===(n=T[t.key])||void 0===n||null===(i=n.roleMonthlyPerPersonAvg)||void 0===i?void 0:i[e.key])||0)})},"avgm-".concat(e.key,"-").concat(t.key))})})},"avgm-".concat(e.key)))]}),(0,oa.jsxs)("tr",{className:"ik-total-row row-group-start",children:[(0,oa.jsx)("td",{className:"ik-compact-level",children:"TOPLAM PERSONEL SAYISI"}),Zv.map(e=>(0,oa.jsx)("td",{className:"ik-compact-cell ".concat(tg(e.key)),children:(0,oa.jsx)("div",{className:"ik-stack ".concat(f?"ik-stack-condensed":""),children:$v.map(t=>{var n,i;return(0,oa.jsx)("div",{className:"ik-stack-row",title:t.label,children:(0,oa.jsx)("div",{className:"ik-stack-value",children:qv((null===T||void 0===T||null===(n=T[t.key])||void 0===n||null===(i=n.roleTotals)||void 0===i?void 0:i[e.key])||0)})},"totcnt-".concat(e.key,"-").concat(t.key))})})},"totcnt-".concat(e.key)))]})]})]})}),(0,oa.jsx)("div",{className:"grid3",style:{marginTop:12},children:$v.map(e=>{var t,n,i,r;return(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsxs)("div",{className:"label",children:[e.label," Toplam Y\u0131ll\u0131k Maliyet"]}),(0,oa.jsx)("div",{className:"value",children:qv((null===T||void 0===T||null===(t=T[e.key])||void 0===t||null===(n=t.totals)||void 0===n?void 0:n.totalAnnual)||0)}),(0,oa.jsxs)("div",{className:"small",style:{marginTop:2},children:["Personel: ",qv((null===T||void 0===T||null===(i=T[e.key])||void 0===i||null===(r=i.totals)||void 0===r?void 0:r.totalHeadcount)||0)]})]},"sum-".concat(e.key))})}),(0,oa.jsx)("hr",{}),(0,oa.jsx)("div",{className:"table-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Gider Anahtar\u0131"}),$v.map(e=>(0,oa.jsx)("th",{className:"cell-num",children:"".concat(e.label," (").concat(l,")")},"map-".concat(e.key)))]})}),(0,oa.jsx)("tbody",{children:["turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas"].map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"},children:e}),$v.map(t=>{var n;return(0,oa.jsx)("td",{className:"cell-num",style:{fontWeight:800},children:qv((null===E||void 0===E||null===(n=E[t.key])||void 0===n?void 0:n[e])||0)},"".concat(e,"-").concat(t.key))})]},e))})]})}),(0,oa.jsx)("hr",{}),(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsx)("div",{children:(0,oa.jsx)("div",{style:{fontWeight:700},children:"Kural Notlar\u0131"})}),(0,oa.jsx)("button",{className:"btn",onClick:()=>p(e=>!e),children:h?"Hide":"Show"})]}),h?(0,oa.jsxs)("div",{style:{marginTop:10},children:[(0,oa.jsxs)("div",{className:"card",style:{background:"#f9fafb"},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:"5.x \u2013 Y\xf6netim / Temsil"}),(0,oa.jsx)("pre",{className:"small",style:{margin:0,whiteSpace:"pre-wrap"},children:"5.1.1.1. Okul m\xfcd\xfcr\xfcn\xfcn \xe7al\u0131\u015fma s\xfcresi \xfclkelerin yasal s\xfcrelerinin azami ve asgari s\u0131n\u0131rlar\u0131n\u0131 a\u015fmamak kayd\u0131yla 40-45 saattir. 5.1.1.2. T\xfcrkiye Maarif Vakf\u0131 b\xfcnyesinde t\xfcm bran\u015flar\u0131 okul \xf6ncesinden liseye kadar bulunan kamp\xfcs \u015feklindeki okullar\u0131n e\u011fitim hizmetlerinin y\xfcr\xfct\xfclmesi ile ilgili olarak okul a\xe7\u0131ld\u0131\u011f\u0131nda T\xfcrk Okul M\xfcd\xfcr\xfc atan\u0131r. 5.1.1.3. \xdclke Temsilcisinin olmad\u0131\u011f\u0131 ve en fazla 300 \xf6\u011frencinin bulundu\u011fu yerlerde okul m\xfcd\xfcr\xfc \xfclke temsilcisi taraf\u0131ndan \xdclke Temsilcisi Vekili olarak g\xf6revlendirilebilir. 5.2.1.1. Okul m\xfcd\xfcr yard\u0131mc\u0131s\u0131n\u0131n \xe7al\u0131\u015fma s\xfcresi \xfclkelerin yasal s\xfcrelerinin azami ve asgari s\u0131n\u0131rlar\u0131n\u0131 a\u015fmamak kayd\u0131yla 40-45 saattir. 5.2.1.2. Okul m\xfcd\xfcr yard\u0131mc\u0131s\u0131 kamp\xfcs \u015feklindeki okullarda \xf6\u011frenci say\u0131s\u0131 500 e ula\u015f\u0131ld\u0131\u011f\u0131nda T\xfcrk Okul M\xfcd\xfcr Yard\u0131mc\u0131s\u0131 atanabilir."})]}),(0,oa.jsxs)("div",{className:"card",style:{background:"#f9fafb",marginTop:10},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:"5.4 \u2013 \xd6\u011fretmen"}),(0,oa.jsx)("pre",{className:"small",style:{margin:0,whiteSpace:"pre-wrap"},children:"5.4.1.1. \xd6\u011fretmenin \xe7al\u0131\u015fma s\xfcresi \xfclkelerin yasal s\xfcrelerinin azami ve asgari s\u0131n\u0131rlar\u0131n\u0131 a\u015fmamak kayd\u0131yla ortalama 40 saattir. 5.4.1.2. Bir \xf6\u011fretmene haftal\u0131k olarak 26 saat ders verilir. 5.4.1.3. Bir \xf6\u011fretmene haftal\u0131k olarak 8 saat ek ders verilir. T\xfcrkiye'den g\xf6revlendirilen \xf6\u011fretmenlerin haftal\u0131k ders saati 24 saat olarak belirlenmi\u015ftir. 5.4.1.4. Genel ve mesleki bilgi derslerinde bir \xf6\u011fretmene haftal\u0131k 26 saat ders verilir. E\u011fer bu bran\u015flarda haftal\u0131k ders saati 36 saat ders \xe7\u0131k\u0131yorsa 2 \xf6\u011fretmen istihdam edilir. Ayr\u0131ca beden e\u011fitimi, m\xfczik, g\xf6rsel sanatlar gibi bran\u015flarda haftal\u0131k ders saati 24 saat olarak belirlenmi\u015ftir."})]}),(0,oa.jsxs)("div",{className:"card",style:{background:"#f9fafb",marginTop:10},children:[(0,oa.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:"6.x \u2013 G\xfcvenlik / Temizlik"}),(0,oa.jsx)("pre",{className:"small",style:{margin:0,whiteSpace:"pre-wrap"},children:"6.1.1. Okulun G\xfcvenli\u011fi: Okulda 7 g\xfcn 24 saat (3 vardiya) \u015feklinde g\xfcvenlik personeli istihdam edilir. 6.3.1. Temizlik Personeli: Okulda hijyenin sa\u011flanmas\u0131na y\xf6nelik yeteri kadar temizlik personeli istihdam edilir. 6.3.1.1. Okul \xf6ncesi kademesinde 50 \xf6\u011frenciye 1 personel istihdam\u0131 yap\u0131l\u0131r. 6.3.1.2. \u0130lkokul, ortaokul ve lise kademelerinde 150 \xf6\u011frenciye 1 personel istihdam\u0131 yap\u0131l\u0131r."})]})]}):null]})}function cg(e){const t=Number(null===e||void 0===e?void 0:e.pct);return Number.isFinite(t)?t:0}function ug(){var e,t,n;const{inputs:i,setField:r,programType:a,inputCurrencyCode:l,dirtyPaths:s,markDirty:o,uiScopeKey:c,handleIkSalaryComputed:u,progMap:d}=Ee();return i?(0,oa.jsx)("div",{style:{marginTop:12},children:(0,oa.jsx)(bv,{pct:cg(null===d||void 0===d?void 0:d.ik),title:"IK / HR",missingLines:null===d||void 0===d||null===(e=d.ik)||void 0===e?void 0:e.missingLines,missingPreview:null===d||void 0===d||null===(t=d.ik)||void 0===t?void 0:t.missingPreview,children:(0,oa.jsx)(og,{value:i.ik,kademeConfig:null===(n=i.temelBilgiler)||void 0===n?void 0:n.kademeler,currencyCode:l,programType:a,temelBilgiler:i.temelBilgiler,onChange:e=>{r("ik",e)},onSalaryComputed:u,dirtyPaths:s,onDirty:o,uiScopeKey:c})})}):null}const dg=(e,t,n)=>Math.min(n,Math.max(t,e)),mg=e=>{const t=Number(e);return Number.isFinite(t)?t:0};function hg(e){let{yearKey:t,discounts:n,grossTuition:i,tuitionStudents:r,avgTuitionFee:a,factor:l}=e;const s=mg(r),o=mg(i),c=mg(a);if(o<=0||s<=0)return 0;const u=(e,t,n)=>{if(e)return"y2"===n?null===e||void 0===e?void 0:e[t+"Y2"]:"y3"===n?null===e||void 0===e?void 0:e[t+"Y3"]:null===e||void 0===e?void 0:e[t]},d=(e,t,n)=>!!e&&("y2"===n?null!=(null===e||void 0===e?void 0:e[t+"Y2"])&&""!==(null===e||void 0===e?void 0:e[t+"Y2"]):"y3"===n?null!=(null===e||void 0===e?void 0:e[t+"Y3"])&&""!==(null===e||void 0===e?void 0:e[t+"Y3"]):null!=(null===e||void 0===e?void 0:e[t])&&""!==(null===e||void 0===e?void 0:e[t])),m=(e,t)=>e?"y2"===t?null===e||void 0===e?void 0:e.studentCountY2:"y3"===t?null===e||void 0===e?void 0:e.studentCountY3:null===e||void 0===e?void 0:e.studentCount:null;let h=0;for(const f of n||[]){if(!f)continue;const e=String(f.mode||"percent"),n=m(f,t),i=null==n||""===n?null:Math.max(0,Math.round(mg(n))),r=null!=i&&s>0?dg(i/s,0,1):null,a=null!=r?r:dg(mg(u(f,"ratio",t)),0,1),o=u(f,"value",t),p=mg(o);if("fixed"===e){const e=d(f,"value",t)?Math.max(0,p):Math.max(0,p)*(null!==l&&void 0!==l?l:1);c>0&&(h+=a*e/c)}else{h+=a*dg(p,0,1)}}const p=o*dg(h,0,1);return Math.min(p,o)}const pg=e=>{const t=Number(e);return Number.isFinite(t)?t:0},fg=e=>Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:2}):"-",yg=e=>Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:0}):"-",vg=e=>Number.isFinite(e)?(100*e).toFixed(2)+"%":"-",gg=["y1","y2","y3"],bg=Object.freeze([]),xg=[{key:"okulOncesi",label:"Okul \xd6ncesi"},{key:"ilkokulYerel",label:"\u0130lkokul-YEREL"},{key:"ilkokulInt",label:"\u0130lkokul-INT."},{key:"ortaokulYerel",label:"Ortaokul-YEREL"},{key:"ortaokulInt",label:"Ortaokul-INT."},{key:"liseYerel",label:"Lise-YEREL"},{key:"liseInt",label:"Lise-INT."}],kg=[{key:"yemek",label:"Yemek"},{key:"uniforma",label:"\xdcniforma"},{key:"kitap",label:"Kitap"},{key:"ulasim",label:"Ula\u015f\u0131m"}],jg=[{key:"yurt",label:"Yurt Gelirleri"},{key:"yazOkulu",label:"Yaz Okulu Dersleri Gelirleri"}],Sg=[{key:"gayrimenkulKira",label:"Gayrimenkul Kira Gelirleri ve Di\u011fer Gelirler"},{key:"isletmeGelirleri",label:"\u0130\u015fletme Gelirleri (Kantin, Kafeterya, Sosyal Faaliyet ve Spor Kul\xfcpleri vb.)"},{key:"tesisKira",label:"Bina ve Tesislerin Konaklama, Sosyal, K\xfclt\xfcr, Spor vb. Ama\xe7l\u0131 Kullan\u0131m\u0131ndan Kaynakl\u0131 Tesis Kira Gelirleri"},{key:"egitimDisiHizmet",label:"E\u011fitim D\u0131\u015f\u0131 Verilen Hizmetler (Dan\u0131\u015fmanl\u0131k vb.) Kar\u015f\u0131l\u0131\u011f\u0131 Gelirler"},{key:"yazOkuluOrganizasyon",label:"Yaz Okullar\u0131, Organizasyon, Kurs vb. \u0130kinci E\u011fitim Gelirleri"},{key:"kayitUcreti",label:"Kay\u0131t \xdccreti"},{key:"bagislar",label:"Ba\u011f\u0131\u015flar"},{key:"stkKamu",label:"STK/Kamu S\xfcbvansiyonlar\u0131"},{key:"faizPromosyon",label:"Faiz, Banka Promosyon/Komisyon vb. Kaynakl\u0131 Gelirler"}];function wg(e,t){const n=ul(e,t);return{kg:pg(n.okulOncesi),ilkokul:pg(n.ilkokul),ortaokul:pg(n.ortaokul),lise:pg(n.lise),total:pg(n.total)}}function Ng(e,t,n){const i=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[],a=new Map(r.map(e=>{var t,i;return[String(null!==(t=null!==(i=null===e||void 0===e?void 0:e[n])&&void 0!==i?i:null===e||void 0===e?void 0:e.key)&&void 0!==t?t:""),e]})),l=i.map(e=>{var t,i;const r=String(null!==(t=null!==(i=null===e||void 0===e?void 0:e[n])&&void 0!==i?i:null===e||void 0===e?void 0:e.key)&&void 0!==t?t:""),l=a.get(r);return l?m(m(m({},e),l),{},{key:e.key,label:e.label}):e}),s=new Set(i.map(e=>{var t,i;return String(null!==(t=null!==(i=null===e||void 0===e?void 0:e[n])&&void 0!==i?i:null===e||void 0===e?void 0:e.key)&&void 0!==t?t:"")}));return[...l,...r.filter(e=>{var t,i;return!s.has(String(null!==(t=null!==(i=null===e||void 0===e?void 0:e[n])&&void 0!==i?i:null===e||void 0===e?void 0:e.key)&&void 0!==t?t:""))})]}function Cg(e,t,n){var i,r,a,l,s;const o={tuition:{rows:xg.map(e=>({key:e.key,label:e.label,studentCount:0,unitFee:0}))},nonEducationFees:{rows:kg.map(e=>({key:e.key,label:e.label,studentCount:0,studentCountY2:0,studentCountY3:0,unitFee:0}))},dormitory:{rows:jg.map(e=>({key:e.key,label:e.label,studentCount:0,studentCountY2:0,studentCountY3:0,unitFee:0}))},otherInstitutionIncome:{rows:Sg.map(e=>({key:e.key,label:e.label,amount:0}))},governmentIncentives:0},c=e&&"object"===typeof e?e:{},u=!c.tuition&&(null!=c.tuitionFeePerStudentYearly||null!=c.lunchFeePerStudentYearly||null!=c.dormitoryFeePerStudentYearly||null!=c.otherFeePerStudentYearly),d=wg(t,n),h=m(m(m({},o),c),{},{tuition:m(m(m({},o.tuition),c.tuition||{}),{},{rows:Ng(o.tuition.rows,null===(i=c.tuition)||void 0===i?void 0:i.rows,"key")}),nonEducationFees:m(m(m({},o.nonEducationFees),c.nonEducationFees||{}),{},{rows:Ng(o.nonEducationFees.rows,null===(r=c.nonEducationFees)||void 0===r?void 0:r.rows,"key")}),dormitory:m(m(m({},o.dormitory),c.dormitory||{}),{},{rows:Ng(o.dormitory.rows,null===(a=c.dormitory)||void 0===a?void 0:a.rows,"key")}),otherInstitutionIncome:m(m(m({},o.otherInstitutionIncome),c.otherInstitutionIncome||{}),{},{rows:Ng(o.otherInstitutionIncome.rows,null===(l=c.otherInstitutionIncome)||void 0===l?void 0:l.rows,"key")}),governmentIncentives:null!==(s=c.governmentIncentives)&&void 0!==s?s:o.governmentIncentives}),p=e=>(Array.isArray(e)?e:[]).map(e=>{const t=pg(null===e||void 0===e?void 0:e.studentCount),n=null==(null===e||void 0===e?void 0:e.studentCountY2)?t:pg(null===e||void 0===e?void 0:e.studentCountY2),i=null==(null===e||void 0===e?void 0:e.studentCountY3)?t:pg(null===e||void 0===e?void 0:e.studentCountY3);return m(m({},e),{},{studentCount:t,studentCountY2:n,studentCountY3:i})});if(h.nonEducationFees.rows=p(h.nonEducationFees.rows),h.dormitory.rows=p(h.dormitory.rows),u){const e=pg(c.tuitionFeePerStudentYearly),t=pg(c.lunchFeePerStudentYearly),n=pg(c.dormitoryFeePerStudentYearly);h.tuition.rows=h.tuition.rows.map(t=>t.unitFee?t:m(m({},t),{},{unitFee:e})),h.nonEducationFees.rows=h.nonEducationFees.rows.map(e=>"yemek"!==e.key||e.unitFee?e:m(m({},e),{},{unitFee:t})),h.dormitory.rows=h.dormitory.rows.map(e=>"yurt"!==e.key||e.unitFee?e:m(m({},e),{},{unitFee:n}));const i=h.tuition.rows.some(e=>pg(e.studentCount)>0);i||(h.tuition.rows=h.tuition.rows.map((e,t)=>{let n=0;return"okulOncesi"===e.key?n=d.kg:"ilkokulYerel"===e.key?n=d.ilkokul:"ortaokulYerel"===e.key?n=d.ortaokul:"liseYerel"===e.key&&(n=d.lise),m(m({},e),{},{studentCount:n})}))}return h}function Tg(e){var t,n,i,a;let{gelirler:l,temelBilgiler:s,baseYear:o,onChange:c,grades:u,gradesYears:d,discounts:h,currencyCode:p="USD",dirtyPaths:f,onDirty:y}=e;const v=(0,r.useMemo)(()=>{const e=d&&"object"===typeof d?d:null,t=u||{},n=(null===e||void 0===e?void 0:e.y1)||t,i=(null===e||void 0===e?void 0:e.y2)||n;return{y1:n,y2:i,y3:(null===e||void 0===e?void 0:e.y3)||i}},[d,u]),g=(0,r.useMemo)(()=>{const e=null===s||void 0===s?void 0:s.kademeler;return{y1:wg(v.y1,e),y2:wg(v.y2,e),y3:wg(v.y3,e)}},[v,null===s||void 0===s?void 0:s.kademeler]),b=g.y1,x=(0,r.useMemo)(()=>Cg(l,v.y1,null===s||void 0===s?void 0:s.kademeler),[l,v,null===s||void 0===s?void 0:s.kademeler]),k=(0,r.useMemo)(()=>Jl({temelBilgiler:s}),[s]),j=(0,r.useMemo)(()=>({okulOncesi:ol("Okul \xd6ncesi",null===s||void 0===s?void 0:s.kademeler,"okulOncesi"),ilkokulYerel:"".concat(ol("\u0130lkokul",null===s||void 0===s?void 0:s.kademeler,"ilkokul"),"-YEREL"),ilkokulInt:"".concat(ol("\u0130lkokul",null===s||void 0===s?void 0:s.kademeler,"ilkokul"),"-INT."),ortaokulYerel:"".concat(ol("Ortaokul",null===s||void 0===s?void 0:s.kademeler,"ortaokul"),"-YEREL"),ortaokulInt:"".concat(ol("Ortaokul",null===s||void 0===s?void 0:s.kademeler,"ortaokul"),"-INT."),liseYerel:"".concat(ol("Lise",null===s||void 0===s?void 0:s.kademeler,"lise"),"-YEREL"),liseInt:"".concat(ol("Lise",null===s||void 0===s?void 0:s.kademeler,"lise"),"-INT.")}),[null===s||void 0===s?void 0:s.kademeler]),S=(0,r.useMemo)(()=>({okulOncesi:"okulOncesi",ilkokulYerel:"ilkokul",ilkokulInt:"ilkokul",ortaokulYerel:"ortaokul",ortaokulInt:"ortaokul",liseYerel:"lise",liseInt:"lise"}),[]),w=(0,r.useMemo)(()=>function(e){const t=(null===e||void 0===e?void 0:e.inflation)||{},n=pg(t.y2);return{y1:1,y2:1+n,y3:(1+n)*(1+pg(t.y3))}}(s),[s]),N=(e,t,n)=>"inputs.gelirler.".concat(e,".rows.").concat(t,".").concat(n),C=e=>"inputs.gelirler.otherInstitutionIncome.rows.".concat(e,".amount"),T="inputs.gelirler.governmentIncentives",E=(e,t)=>e+((e=>!!f&&f.has(e))(t)?" input-dirty":""),A=(0,r.useMemo)(()=>{var e;return(null===(e=x.tuition)||void 0===e?void 0:e.rows)||bg},[null===(t=x.tuition)||void 0===t?void 0:t.rows]),_=(0,r.useMemo)(()=>A.filter(e=>{var t,n;const i=S[e.key];return(!i||!1!==(null===s||void 0===s||null===(t=s.kademeler)||void 0===t||null===(n=t[i])||void 0===n?void 0:n.enabled))&&es(e.key,k)}),[A,S,null===s||void 0===s?void 0:s.kademeler,k]),P=(0,r.useMemo)(()=>{var e;return(null===(e=x.nonEducationFees)||void 0===e?void 0:e.rows)||bg},[null===(n=x.nonEducationFees)||void 0===n?void 0:n.rows]),M=(0,r.useMemo)(()=>{var e;return(null===(e=x.dormitory)||void 0===e?void 0:e.rows)||bg},[null===(i=x.dormitory)||void 0===i?void 0:i.rows]),L=(0,r.useMemo)(()=>{var e;return(null===(e=x.otherInstitutionIncome)||void 0===e?void 0:e.rows)||bg},[null===(a=x.otherInstitutionIncome)||void 0===a?void 0:a.rows]),R=(0,r.useMemo)(()=>new Map(P.map(e=>[String(e.key),e])),[P]),O=(0,r.useMemo)(()=>new Map(M.map(e=>[String(e.key),e])),[M]),F=(0,r.useCallback)((e,t)=>{var n,i;if(!e)return 0;const r="y1"===t?e.studentCount:"y2"===t?null!==(n=e.studentCountY2)&&void 0!==n?n:e.studentCount:null!==(i=e.studentCountY3)&&void 0!==i?i:e.studentCount;return pg(r)},[]),D=(0,r.useCallback)((e,t)=>{const n=(null===g||void 0===g?void 0:g[t])||(null===g||void 0===g?void 0:g.y1)||b;return"okulOncesi"===e?n.kg:"ilkokulYerel"===e||"ilkokulInt"===e?n.ilkokul:"ortaokulYerel"===e||"ortaokulInt"===e?n.ortaokul:"liseYerel"===e||"liseInt"===e?n.lise:0},[b,g]),I=(0,r.useCallback)((e,t,n)=>"tuition"===e?pg(D(t,n)):"nonEducationFees"===e?F(R.get(String(t)),n):"dormitory"===e?F(O.get(String(t)),n):0,[O,F,R,D]),B=(0,r.useMemo)(()=>{const e={y1:0,y2:0,y3:0};for(const t of gg)e[t]=_.reduce((e,n)=>e+I("tuition",n.key,t),0);return e},[I,_]),z=(0,r.useMemo)(()=>{const e={};for(const r of gg){var t,n,i;const a=null!==(t=null===w||void 0===w?void 0:w[r])&&void 0!==t?t:1,l=_.reduce((e,t)=>e+I("tuition",t.key,r)*(pg(t.unitFee)*a),0),s=P.reduce((e,t)=>e+I("nonEducationFees",t.key,r)*(pg(t.unitFee)*a),0),o=M.reduce((e,t)=>e+I("dormitory",t.key,r)*(pg(t.unitFee)*a),0),c=l+s+o,u=L.reduce((e,t)=>e+pg(t.amount)*a,0),d=pg(x.governmentIncentives)*a,m=u+d,p=c+m,f=null!==(n=null===g||void 0===g||null===(i=g[r])||void 0===i?void 0:i.total)&&void 0!==n?n:b.total,y=(null===B||void 0===B?void 0:B[r])>0?B[r]:f,v=hg({yearKey:r,discounts:h,grossTuition:l,tuitionStudents:y,avgTuitionFee:y>0?l/y:0,factor:a}),k=c-v,j=p-v,S=y>0?k/y:null,N=j>0?m/j:null;e[r]={tuitionTotal:l,nonEdTotal:s,dormTotal:o,activityGross:c,otherInstitutionTotal:u,govt:d,otherTotal:m,grossTotal:p,totalDiscounts:v,netActivity:k,netIncome:j,netCiroPerStudent:S,otherIncomeRatio:N}}return e},[h,M,w,x.governmentIncentives,P,L,b,g,B,_,I]);function U(e,t){const n=structuredClone(x),i=e.split(".");let r=n;for(let a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];r[i[i.length-1]]=t,c(n)}function Y(e,t,n,i){var r;const a=""===i?0:pg(i),l=((null===(r=x[e])||void 0===r?void 0:r.rows)||[]).map(e=>String(e.key)!==String(t)?e:m(m({},e),{},{[n]:a}));U(e+".rows",l),null===y||void 0===y||y(N(e,t,n),a)}const K=(0,r.useMemo)(()=>{const e=Number.isFinite(Number(o))?Number(o):null,t=t=>{const n=t+1,i=null!=e?e+t:null,r=null!=i?i+1:null,a=null!=i&&null!=r?"".concat(i,"-").concat(r):"";return{n:n,start:i,end:r,range:a,labelLong:a?"".concat(n,".Y\u0131l (").concat(a," E\u011e\u0130T\u0130M \xd6\u011eRET\u0130M YILI)"):"".concat(n,".Y\u0131l"),labelShort:a?"".concat(n,".Y\u0131l (").concat(a,")"):"".concat(n,".Y\u0131l")}};return{y1:t(0),y2:t(1),y3:t(2)}},[o]),W=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unitFee";const r={y1:0,y2:0,y3:0},a={y1:0,y2:0,y3:0};for(const o of t){const e=pg(o[i]),t=e*w.y2,l=e*w.y3,s=I(n,o.key,"y1"),c=I(n,o.key,"y2"),u=I(n,o.key,"y3");a.y1+=s,a.y2+=c,a.y3+=u,r.y1+=s*e,r.y2+=c*t,r.y3+=u*l}const l="tuition"===n,s="tuition"===n;return(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"section-head ".concat(s?"is-tuition":""),children:(0,oa.jsx)("div",{className:"section-title",children:e})}),(0,oa.jsx)("div",{className:"table-scroll income-section-table",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table table-3y income-3block ".concat(s?"is-tuition":""),children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[(0,oa.jsx)("th",{rowSpan:2,children:"Kalem"}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left",style:{textAlign:"center"},children:K.y1.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left",style:{textAlign:"center"},children:K.y2.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left",style:{textAlign:"center"},children:K.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left",style:{width:130,textAlign:"right"},children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:{width:120,textAlign:"right"},children:"Birim \xdccret (".concat(p,")")}),(0,oa.jsx)("th",{style:{width:140,textAlign:"right"},children:"Toplam (".concat(p,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:130,textAlign:"right"},children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:{width:120,textAlign:"right"},children:"Birim \xdccret (".concat(p,")")}),(0,oa.jsx)("th",{style:{width:140,textAlign:"right"},children:"Toplam (".concat(p,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:130,textAlign:"right"},children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:{width:120,textAlign:"right"},children:"Birim \xdccret (".concat(p,")")}),(0,oa.jsx)("th",{style:{width:140,textAlign:"right"},children:"Toplam (".concat(p,")")})]})]}),(0,oa.jsxs)("tbody",{children:[t.map((e,t)=>{const r=pg(e[i]),a=r*w.y2,s=r*w.y3,o=I(n,e.key,"y1"),c=I(n,e.key,"y2"),u=I(n,e.key,"y3"),d=o*r,m=c*a,h=u*s,p=l&&j[e.key]||e.label;return(0,oa.jsxs)("tr",{className:0===t?"row-group-start":"",children:[(0,oa.jsx)("td",{children:p}),(0,oa.jsx)("td",{className:"sep-left cell-count",children:(0,oa.jsx)(sv,{className:E("input xs",N(n,e.key,"studentCount")),min:"0",step:"1",value:o,disabled:l,onChange:t=>Y(n,e.key,"studentCount",t)})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)(sv,{className:E("input xs",N(n,e.key,i)),min:"0",step:"0.01",value:r,onChange:t=>Y(n,e.key,i,t)})}),(0,oa.jsx)("td",{className:"cell-num",children:fg(d)}),(0,oa.jsx)("td",{className:"sep-left cell-count",children:l?(0,oa.jsx)("span",{className:"muted",children:yg(c)}):(0,oa.jsx)(sv,{className:E("input xs",N(n,e.key,"studentCountY2")),min:"0",step:"1",value:c,onChange:t=>Y(n,e.key,"studentCountY2",t)})}),(0,oa.jsx)("td",{className:"cell-num muted",children:fg(a)}),(0,oa.jsx)("td",{className:"cell-num",children:fg(m)}),(0,oa.jsx)("td",{className:"sep-left cell-count",children:l?(0,oa.jsx)("span",{className:"muted",children:yg(u)}):(0,oa.jsx)(sv,{className:E("input xs",N(n,e.key,"studentCountY3")),min:"0",step:"1",value:u,onChange:t=>Y(n,e.key,"studentCountY3",t)})}),(0,oa.jsx)("td",{className:"cell-num muted",children:fg(s)}),(0,oa.jsx)("td",{className:"cell-num",children:fg(h)})]},e.key)}),(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"TOPLAM"}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:l?yg(a.y1):""}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:fg(r.y1)}),(0,oa.jsx)("td",{className:"cell-count muted sep-left",children:l?yg(a.y2):""}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:fg(r.y2)}),(0,oa.jsx)("td",{className:"cell-count muted sep-left",children:l?yg(a.y3):""}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:fg(r.y3)})]})]})]})})]})};return(0,oa.jsxs)("div",{className:"card income-table",children:[W("E\u011e\u0130T\u0130M FAAL\u0130YET GEL\u0130RLER\u0130 / YIL (".concat(p,")"),_,"tuition"),W("\xd6\u011eREN\u0130M DI\u015eI \xdcCRETLER / YIL (".concat(p,")"),P,"nonEducationFees"),W("YURT / KONAKLAMA GEL\u0130RLER\u0130 / YIL (".concat(p,")"),M,"dormitory"),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"\xd6\u011eRENC\u0130 \xdcCRETLER\u0130 HAR\u0130\xc7 KURUMUN D\u0130\u011eER GEL\u0130RLER\u0130 (BR\xdcT) / YIL (".concat(p,")")})}),(0,oa.jsx)("div",{className:"table-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table table-3y",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[(0,oa.jsx)("th",{rowSpan:2,children:"Gelir Kalemi"}),(0,oa.jsx)("th",{className:"sep-left",style:{width:160,textAlign:"center"},children:K.y1.labelLong}),(0,oa.jsx)("th",{className:"sep-left",style:{width:160,textAlign:"center"},children:K.y2.labelLong}),(0,oa.jsx)("th",{className:"sep-left",style:{width:160,textAlign:"center"},children:K.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left",style:{width:140,textAlign:"right"},children:"Tutar (".concat(p,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140,textAlign:"right"},children:"Tutar (".concat(p,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140,textAlign:"right"},children:"Tutar (".concat(p,")")})]})]}),(0,oa.jsxs)("tbody",{children:[L.map((e,t)=>{const n=pg(e.amount),i=n*w.y2,r=n*w.y3;return(0,oa.jsxs)("tr",{className:0===t?"row-group-start":"",children:[(0,oa.jsx)("td",{children:e.label}),(0,oa.jsx)("td",{className:"sep-left cell-num",children:(0,oa.jsx)(sv,{className:E("input xs",C(e.key)),min:"0",step:"0.01",value:n,onChange:t=>function(e,t){var n;const i=""===t?0:pg(t),r=((null===(n=x.otherInstitutionIncome)||void 0===n?void 0:n.rows)||[]).map(t=>String(t.key)!==String(e)?t:m(m({},t),{},{amount:i}));U("otherInstitutionIncome.rows",r),null===y||void 0===y||y(C(e),i)}(e.key,t)})}),(0,oa.jsx)("td",{className:"cell-num muted sep-left",children:fg(i)}),(0,oa.jsx)("td",{className:"cell-num muted sep-left",children:fg(r)})]},e.key)}),(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"TOPLAM"}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y1.otherInstitutionTotal)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y2.otherInstitutionTotal)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y3.otherInstitutionTotal)})]})]})]})}),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"DEVLET TE\u015eV\u0130KLER\u0130 / YIL (".concat(p,")")})}),(0,oa.jsx)("div",{className:"table-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table table-3y",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[(0,oa.jsx)("th",{rowSpan:2}),(0,oa.jsx)("th",{className:"sep-left",style:{width:160,textAlign:"center"},children:K.y1.labelLong}),(0,oa.jsx)("th",{className:"sep-left",style:{width:160,textAlign:"center"},children:K.y2.labelLong}),(0,oa.jsx)("th",{className:"sep-left",style:{width:160,textAlign:"center"},children:K.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left",style:{width:140,textAlign:"right"},children:"Tutar (".concat(p,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140,textAlign:"right"},children:"Tutar (".concat(p,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140,textAlign:"right"},children:"Tutar (".concat(p,")")})]})]}),(0,oa.jsx)("tbody",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"Devlet Te\u015fvikleri"}),(0,oa.jsx)("td",{className:"sep-left cell-num",children:(0,oa.jsx)(sv,{className:E("input xs",T),min:"0",step:"0.01",value:pg(x.governmentIncentives),onChange:e=>{const t=""===e?0:pg(e);null===y||void 0===y||y(T,t),U("governmentIncentives",t)}})}),(0,oa.jsx)("td",{className:"cell-num muted",children:fg(z.y2.govt)}),(0,oa.jsx)("td",{className:"cell-num muted",children:fg(z.y3.govt)})]})})]})}),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"\xd6ZET"})}),(0,oa.jsx)("div",{className:"table-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table table-3y",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[(0,oa.jsx)("th",{rowSpan:2}),(0,oa.jsx)("th",{className:"sep-left",style:{textAlign:"center",width:200},children:K.y1.labelLong}),(0,oa.jsx)("th",{className:"sep-left",style:{textAlign:"center",width:200},children:K.y2.labelLong}),(0,oa.jsx)("th",{className:"sep-left",style:{textAlign:"center",width:200},children:K.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left",style:{textAlign:"right",width:160},children:p}),(0,oa.jsx)("th",{className:"sep-left",style:{textAlign:"right",width:160},children:p}),(0,oa.jsx)("th",{className:"sep-left",style:{textAlign:"right",width:160},children:p})]})]}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"FAAL\u0130YET GEL\u0130RLER\u0130 (Br\xfct)"}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y1.activityGross)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y2.activityGross)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y3.activityGross)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"BURS VE \u0130ND\u0130R\u0130MLER (\xd6nizleme)"}),(0,oa.jsxs)("td",{className:"cell-num sep-left",children:["-",fg(z.y1.totalDiscounts)]}),(0,oa.jsxs)("td",{className:"cell-num sep-left",children:["-",fg(z.y2.totalDiscounts)]}),(0,oa.jsxs)("td",{className:"cell-num sep-left",children:["-",fg(z.y3.totalDiscounts)]})]}),(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"NET FAAL\u0130YET GEL\u0130RLER\u0130"}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y1.netActivity)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y2.netActivity)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y3.netActivity)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:"Net Ki\u015fi Ba\u015f\u0131 Ciro (Tuition \xf6\u011frenci say\u0131s\u0131)"}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:null==z.y1.netCiroPerStudent?"-":fg(z.y1.netCiroPerStudent)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:null==z.y2.netCiroPerStudent?"-":fg(z.y2.netCiroPerStudent)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:null==z.y3.netCiroPerStudent?"-":fg(z.y3.netCiroPerStudent)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"D\u0130\u011eER GEL\u0130RLER (Br\xfct + Devlet Te\u015fvikleri)"}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y1.otherTotal)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y2.otherTotal)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y3.otherTotal)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:"Di\u011fer Gelirler % (Net Toplam Gelir i\xe7inde)"}),(0,oa.jsx)("td",{className:"cell-pct sep-left",children:null==z.y1.otherIncomeRatio?"-":vg(z.y1.otherIncomeRatio)}),(0,oa.jsx)("td",{className:"cell-pct sep-left",children:null==z.y2.otherIncomeRatio?"-":vg(z.y2.otherIncomeRatio)}),(0,oa.jsx)("td",{className:"cell-pct sep-left",children:null==z.y3.otherIncomeRatio?"-":vg(z.y3.otherIncomeRatio)})]}),(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"NET TOPLAM GEL\u0130R"}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y1.netIncome)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y2.netIncome)}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:fg(z.y3.netIncome)})]})]})]})})]})}function Eg(e){const t=Number(null===e||void 0===e?void 0:e.pct);return Number.isFinite(t)?t:0}function Ag(){var e,t,n;const{inputs:i,setField:r,baseYear:a,inputCurrencyCode:l,dirtyPaths:s,markDirty:o,progMap:c}=Ee();return i?(0,oa.jsx)("div",{style:{marginTop:12},children:(0,oa.jsx)(bv,{pct:Eg(null===c||void 0===c?void 0:c.gelirler),title:"Gelirler",missingLines:null===c||void 0===c||null===(e=c.gelirler)||void 0===e?void 0:e.missingLines,missingPreview:null===c||void 0===c||null===(t=c.gelirler)||void 0===t?void 0:t.missingPreview,children:(0,oa.jsx)(Tg,{gelirler:i.gelirler,temelBilgiler:i.temelBilgiler,baseYear:a,gradesYears:i.gradesYears,grades:(null===(n=i.gradesYears)||void 0===n?void 0:n.y1)||i.grades,discounts:i.discounts,currencyCode:l,onChange:e=>{r("gelirler",e)},dirtyPaths:s,onDirty:o})})}):null}const _g=(e,t,n)=>Math.min(n,Math.max(t,e)),Pg=e=>{const t=Number(e);return Number.isFinite(t)?t:0},Mg=e=>Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:0}):"-",Lg=e=>Number.isFinite(e)?"".concat((100*e).toFixed(0),"%"):"-",Rg={minWidth:360,width:360},Og=["y1","y2","y3"];function Fg(e,t){const n=String(e||""),i=Number.isFinite(Number(t))?Number(t):1,r=Math.max(28,28*i)/Math.max(80,6.2*n.length);return Math.min(1,Math.max(.65,r)).toFixed(2)}const Dg=new Set(["turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas"]),Ig=[{key:"ulkeTemsilciligi",no:1,code:632,label:"\xdclke Temsilcili\u011fi Giderleri (Temsilcilik Per. Gid. HAR\u0130\xc7)"},{key:"genelYonetim",no:2,code:632,label:"Genel Y\xf6netim Giderleri (Ofis Giderleri, K\u0131rtasiye, Aidatlar,Sosyal Yard\u0131mlar, Ara\xe7 Kiralama, Sigorta vb.)"},{key:"kira",no:3,code:622,group:"E\u011fitim Hizmetleri Maliyeti",label:"\u0130\u015fletme Giderleri (Kira)"},{key:"emsalKira",no:4,code:622,label:"\u0130\u015fletme Giderleri (Emsal Kira, Bina Tahsis veya Vak\u0131f'a ait ise Emsal Kira Bedeli Yaz\u0131lacak)"},{key:"enerjiKantin",no:5,code:622,label:"\u0130\u015fletme Giderleri (Elektrik, Su, Is\u0131tma, So\u011futma, Veri/Ses \u0130leti\u015fim vb. Kantin)"},{key:"turkPersonelMaas",no:6,code:622,label:"Yurt d\u0131\u015f\u0131 T\xdcRK Personel Maa\u015f Giderleri (M\xfcd\xfcr, M\xfcd\xfcr Yard\u0131mc\u0131s\u0131,Y\xf6netici, E\u011fitimci, \xd6\u011fretmen, Belletmen vb.)"},{key:"turkDestekPersonelMaas",no:7,code:622,label:"Yurt d\u0131\u015f\u0131 T\xdcRK DESTEK Personel Maa\u015f Giderleri (E\u011fitim faaliyetinde bulunmayan di\u011fer \xe7al\u0131\u015fanlar. \xdclke Temsilcisi, Temsilcilik destek vb.)"},{key:"yerelPersonelMaas",no:8,code:622,label:"Yurt d\u0131\u015f\u0131 YEREL Personel Maa\u015f Giderleri (Y\xf6netici, E\u011fitimci, \xd6\u011fretmen, Belletmen vb.)"},{key:"yerelDestekPersonelMaas",no:9,code:622,label:"Yurt d\u0131\u015f\u0131 YEREL DESTEK ve \xdclke Temsilci\u011fi DESTEK Personel Maa\u015f Giderleri (E\u011fitim faaliyetinde bulunmayan di\u011fer \xe7al\u0131\u015fanlar)"},{key:"internationalPersonelMaas",no:10,code:622,label:"Yurt d\u0131\u015f\u0131 INTERNATIONAL Personel Maa\u015f Giderleri (Y\xf6netici, E\u011fitimci, \xd6\u011fretmen, Belletmen vb.)"},{key:"disaridanHizmet",no:11,code:632,label:"D\u0131\u015far\u0131dan Sa\u011flanan Mal ve Hizmet Al\u0131mlar\u0131 (G\xfcvenlik,Temizlik,Avukatl\u0131k, Dan\u0131\u015fmanl\u0131k, \u0130\u015f Sa\u011fl\u0131\u011f\u0131 ve G\xfcvenli\u011fi, Mali M\xfc\u015favir vb.)"},{key:"egitimAracGerec",no:12,code:622,label:"E\u011fitim Ara\xe7 ve Gere\xe7leri (Okul ve S\u0131n\u0131flar i\xe7in K\u0131rtasiye Malzemeleri, Kitaplar, vb.) - (\xd6\u011frencilere d\xf6nem ba\u015f\u0131 verilen)"},{key:"finansalGiderler",no:13,code:632,label:"Finansal Giderler (Prim \xf6demeleri, Komisyon ve Kredi Giderleri, Teminat Mektuplar\u0131)"},{key:"egitimAmacliHizmet",no:14,code:622,label:"E\u011fitim Ama\xe7l\u0131 Hizmet Al\u0131mlar\u0131 (\u0130zinler ve lisanslama, Cambridge Lisanslamalar\u0131 vb.)"},{key:"sharedPayrollAllocation",no:15,code:622,label:"Payla\u015f\u0131lan Bordro (Da\u011f\u0131t\u0131m)"},{key:"temsilAgirlama",no:16,code:632,label:"Temsil ve A\u011f\u0131rlama - Kamp\xfcs baz\u0131nda (\xd6\u011flen Yeme\u011fi Giderleri Hari\xe7) mutfak giderleri vs.)"},{key:"ulkeIciUlasim",no:17,code:622,label:"\xdclke \u0130\xe7i Ula\u015f\u0131m ve Konaklama / U\xe7ak Bileti Dahil / PERSONEL ULA\u015eIM"},{key:"ulkeDisiUlasim",no:18,code:632,label:"\xdclke D\u0131\u015f\u0131 Ula\u015f\u0131m ve Konaklama / U\xe7ak Bileti Dahil / (TMV Merkez Misafir A\u011f\u0131rlama, T\xfcrk Personel)"},{key:"vergilerResmiIslemler",no:21,code:632,label:"Vergiler Resmi \u0130\u015flemler (Mahkeme,Dava ve \u0130cra, Resmi \u0130zinler,Tescil ve Kurulu\u015f \u0130\u015flemleri, Noter vb.)"},{key:"vergiler",no:22,code:632,label:"Vergiler (Kira Stopaj dahil)"},{key:"demirbasYatirim",no:23,code:622,label:"Demirba\u015f, Arsa, Bina, Ta\u015f\u0131t ve Di\u011fer Yat\u0131r\u0131m Al\u0131mlar\u0131 (Lisanslama, Yaz\u0131l\u0131m ve program, Telif haklar\u0131 vb. dahil)"},{key:"rutinBakim",no:24,code:622,label:"Rutin Bak\u0131m, Onar\u0131m Giderleri (Boya, Tamirat, Tadilat, Makine Te\xe7hizat, Ara\xe7, Ofis Malzeme Tamiri vb.)"},{key:"pazarlamaOrganizasyon",no:25,code:631,label:"Pazarlama, Tan\u0131t\u0131m Organizasyon, Etkinlikler (\xd6\u011frenci Faaliyetleri Dahil)"},{key:"reklamTanitim",no:26,code:631,label:"Reklam, Tan\u0131t\u0131m, Bas\u0131m, \u0130lan"},{key:"tahsilEdilemeyenGelirler",no:29,code:622,label:"Tahsil Edilemeyen Gelirler"}],Bg=[{key:"yemek",no:27,code:622,label:"Yemek (\xd6\u011frenci ve Personel \xf6\u011flen yeme\u011fi i\xe7in yap\u0131lan harcamalar (Enerji, g\u0131da,yak\u0131t,elektrik,gaz vs. ve org. gideri))"},{key:"uniforma",no:28,code:621,label:"\xdcniforma (\xd6\u011frenci \xdcniforma maliyeti (Liste fiyat\u0131 de\u011fil, maliyet fiyat\u0131))"},{key:"kitapKirtasiye",no:29,code:621,label:"Kitap-K\u0131rtasiye (\xd6\u011frencilere d\xf6nem ba\u015f\u0131 verdi\u011fimiz materyallerin maliyeti)"},{key:"ulasimServis",no:30,code:622,label:"Ula\u015f\u0131m (Okul Servisi) \xd6\u011frencilerimiz i\xe7in kullan\u0131lan servis maliyeti"}],zg=[{key:"yurtGiderleri",no:31,code:622,label:"Yurt Giderleri (Kamp\xfcs giderleri i\xe7inde g\xf6sterilmeyecek; yurt i\xe7in yap\u0131lan giderler)"},{key:"digerYurt",no:32,code:622,label:"Di\u011fer (Yaz Okulu Giderleri vs)"}],Ug={yemek:"yemek",uniforma:"uniforma",kitapKirtasiye:"kitap",ulasimServis:"ulasim"},Yg={yurtGiderleri:"yurt",digerYurt:"yazOkulu"},Kg=(e,t)=>{var n,i;return e?Pg("y2"===t?null!==(n=null===e||void 0===e?void 0:e.studentCountY2)&&void 0!==n?n:null===e||void 0===e?void 0:e.studentCount:"y3"===t&&null!==(i=null===e||void 0===e?void 0:e.studentCountY3)&&void 0!==i?i:null===e||void 0===e?void 0:e.studentCount):0},Wg=[{name:"MAG\u0130S BA\u015eARI BURSU"},{name:"MAAR\u0130F YETENEK BURSU"},{name:"\u0130HT\u0130YA\xc7 BURSU"},{name:"OKUL BA\u015eARI BURSU"},{name:"TAM E\u011e\u0130T\u0130M BURSU"},{name:"BARINMA BURSU"},{name:"T\xdcRK\xc7E BA\u015eARI BURSU"},{name:"VAKFIN ULUSLARARASI Y\xdcK\xdcML\xdcL\xdcKLER\u0130NDEN KAYNAKLI \u0130ND\u0130R\u0130M"},{name:"VAKIF \xc7ALI\u015eANI \u0130ND\u0130R\u0130M\u0130"},{name:"KARDE\u015e \u0130ND\u0130R\u0130M\u0130"},{name:"ERKEN KAYIT \u0130ND\u0130R\u0130M\u0130"},{name:"PE\u015e\u0130N \xd6DEME \u0130ND\u0130R\u0130M\u0130"},{name:"KADEME GE\xc7\u0130\u015e \u0130ND\u0130R\u0130M\u0130"},{name:"TEMS\u0130L \u0130ND\u0130R\u0130M\u0130"},{name:"KURUM \u0130ND\u0130R\u0130M\u0130"},{name:"\u0130ST\u0130SNA\u0130 \u0130ND\u0130R\u0130M"},{name:"YEREL MEVZUATIN \u015eART KO\u015eTU\u011eU \u0130ND\u0130R\u0130M"},{name:"Payla\u015f\u0131lan Burs/\u0130ndirim (Da\u011f\u0131t\u0131m)"}];function Hg(e,t){const n=m({},e||{}),i=t||{};for(const r of Object.keys(i)){const e=i[r];e&&"object"===typeof e&&!Array.isArray(e)?n[r]=Hg(n[r],e):n[r]=e}return n}const Vg=["okulOncesi","ilkokulYerel","ilkokulInt","ortaokulYerel","ortaokulInt","liseYerel","liseInt"],Gg=["turk_mudur","turk_mdyard","turk_egitimci","turk_temsil","yerel_yonetici_egitimci","yerel_destek","yerel_ulke_temsil_destek","int_yonetici_egitimci"];function qg(e){const t=(null===e||void 0===e?void 0:e.unitCosts)||{},n=(null===e||void 0===e?void 0:e.headcountsByLevel)||{},i={};for(const l of Gg){let e=0;for(const t of Vg){var r;e+=Pg(null===n||void 0===n||null===(r=n[t])||void 0===r?void 0:r[l])}i[l]=Pg(null===t||void 0===t?void 0:t[l])*e}const a=e=>e.reduce((e,t)=>e+Pg(i[t]),0);return{turkPersonelMaas:a(["turk_mudur","turk_mdyard","turk_egitimci"]),turkDestekPersonelMaas:a(["turk_temsil"]),yerelPersonelMaas:a(["yerel_yonetici_egitimci"]),yerelDestekPersonelMaas:a(["yerel_destek","yerel_ulke_temsil_destek"]),internationalPersonelMaas:a(["int_yonetici_egitimci"])}}function $g(e){var t,n,i,a;let{baseYear:l,giderler:s,onChange:o,grades:c,gelirler:u,discounts:d,onDiscountsChange:h,currencyCode:p="USD",temelBilgiler:f,ik:y,dirtyPaths:v,onDirty:g,uiScopeKey:b}=e;const x=(0,r.useMemo)(()=>function(e){const t=(null===e||void 0===e?void 0:e.inflation)||{},n=Pg(null===t||void 0===t?void 0:t.y2);return{y1:1,y2:1+n,y3:(1+n)*(1+Pg(null===t||void 0===t?void 0:t.y3))}}(f),[f]),[k,j]=Kl("expenses.showAccountCol",!1,{scope:b}),S=(0,r.useMemo)(()=>{const e=Number.isFinite(Number(l))?Number(l):null,t=t=>{const n=t+1,i=null!=e?e+t:null,r=null!=i?i+1:null,a=null!=i&&null!=r?"".concat(i,"-").concat(r):"";return{n:n,start:i,end:r,range:a,labelLong:a?"".concat(n,".Y\u0131l (").concat(a," E\u011e\u0130T\u0130M \xd6\u011eRET\u0130M YILI)"):"".concat(n,".Y\u0131l"),labelShort:a?"".concat(n,".Y\u0131l (").concat(a,")"):"".concat(n,".Y\u0131l")}};return{y1:t(0),y2:t(1),y3:t(2)}},[l]),w=(0,r.useMemo)(()=>function(e){return(Array.isArray(e)?e:[]).reduce((e,t)=>e+Pg(null===t||void 0===t?void 0:t.studentsPerBranch),0)}(c),[c]),N=e=>"inputs.giderler.isletme.items.".concat(e),C=(e,t)=>"inputs.giderler.ogrenimDisi.items.".concat(e,".").concat(t),T=(e,t)=>"inputs.giderler.yurt.items.".concat(e,".").concat(t),E=(e,t)=>"inputs.discounts.".concat(e,".").concat(t),A=(e,t)=>e+((e=>!!v&&v.has(e))(t)?" input-dirty":""),_=(0,r.useMemo)(()=>Hg(function(){const e={};for(const i of Ig)e[i.key]=0;const t={};for(const i of Bg)t[i.key]={studentCount:0,unitCost:0,unitCostY2:0,unitCostY3:0};const n={};for(const i of zg)n[i.key]={studentCount:0,unitCost:0};return{isletme:{items:e},ogrenimDisi:{items:t},yurt:{items:n}}}(),s||{}),[s]),P=(0,r.useMemo)(()=>{const e=(null===y||void 0===y?void 0:y.years)||{};return{y1:qg((null===e||void 0===e?void 0:e.y1)||{}),y2:qg((null===e||void 0===e?void 0:e.y2)||{}),y3:qg((null===e||void 0===e?void 0:e.y3)||{})}},[y]),M=(0,r.useMemo)(()=>function(e,t,n){var i,r,a;const l=e||{},s=Array.isArray(null===l||void 0===l||null===(i=l.tuition)||void 0===i?void 0:i.rows)?l.tuition.rows:[],o=Array.isArray(null===l||void 0===l||null===(r=l.nonEducationFees)||void 0===r?void 0:r.rows)?l.nonEducationFees.rows:[],c=Array.isArray(null===l||void 0===l||null===(a=l.dormitory)||void 0===a?void 0:a.rows)?l.dormitory.rows:[],u=(e,t)=>{var n,i,r;return e?Pg("y2"===t?null!==(n=null===e||void 0===e?void 0:e.studentCountY2)&&void 0!==n?n:null===e||void 0===e?void 0:e.studentCount:"y3"===t&&null!==(i=null!==(r=null===e||void 0===e?void 0:e.studentCountY3)&&void 0!==r?r:null===e||void 0===e?void 0:e.studentCountY2)&&void 0!==i?i:null===e||void 0===e?void 0:e.studentCount):0},d=e=>s.length?s.reduce((t,n)=>t+u(n,e),0):t,m=e=>{var t;const i=null!==(t=null===n||void 0===n?void 0:n[e])&&void 0!==t?t:1;return s.length?s.reduce((t,n)=>t+u(n,e)*Pg(null===n||void 0===n?void 0:n.unitFee)*i,0):d(e)*Pg(l.tuitionFeePerStudentYearly)*i},h=e=>{var i;const r=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:1;return o.length?o.reduce((t,n)=>t+u(n,e)*Pg(null===n||void 0===n?void 0:n.unitFee)*r,0):t*Pg(l.lunchFeePerStudentYearly)*r},p=e=>{var i;const r=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:1;return c.length?c.reduce((t,n)=>t+u(n,e)*Pg(null===n||void 0===n?void 0:n.unitFee)*r,0):t*Pg(l.dormitoryFeePerStudentYearly)*r},f={};for(const y of Og){const e=m(y),t=d(y),n=e+h(y)+p(y),i=t>0?e/t:0;f[y]={grossTuition:e,tuitionStudents:t,avgTuitionFee:i,activityGross:n}}return f}(u,w,x),[u,w,x]),L=(0,r.useMemo)(()=>{var e;const t=Array.isArray(null===u||void 0===u||null===(e=u.nonEducationFees)||void 0===e?void 0:e.rows)?u.nonEducationFees.rows:[];return new Map(t.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]))},[u]),R=(0,r.useMemo)(()=>{var e;const t=Array.isArray(null===u||void 0===u||null===(e=u.dormitory)||void 0===e?void 0:e.rows)?u.dormitory.rows:[];return new Map(t.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]))},[u]),O=Pg(null===M||void 0===M||null===(t=M.y1)||void 0===t?void 0:t.tuitionStudents),F=(0,r.useMemo)(()=>{const e={};for(const n of Og){var t;const i=(null===M||void 0===M?void 0:M[n])||{};e[n]=hg({yearKey:n,discounts:d,grossTuition:i.grossTuition,tuitionStudents:i.tuitionStudents,avgTuitionFee:i.avgTuitionFee,factor:null!==(t=null===x||void 0===x?void 0:x[n])&&void 0!==t?t:1})}return e},[d,x,M]),D={y1:Pg(null===M||void 0===M||null===(n=M.y1)||void 0===n?void 0:n.activityGross)-Pg(null===F||void 0===F?void 0:F.y1),y2:Pg(null===M||void 0===M||null===(i=M.y2)||void 0===i?void 0:i.activityGross)-Pg(null===F||void 0===F?void 0:F.y2),y3:Pg(null===M||void 0===M||null===(a=M.y3)||void 0===a?void 0:a.activityGross)-Pg(null===F||void 0===F?void 0:F.y3)},I=(e,t)=>{var n,i,r,a,l;const s=Math.max(Pg(null===_||void 0===_||null===(n=_.isletme)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e]),Pg(null===P||void 0===P||null===(r=P.y1)||void 0===r?void 0:r[e])),o=Pg(null===P||void 0===P||null===(a=P[t])||void 0===a?void 0:a[e]);return o>0?o:"y1"===t?s:s*(null!==(l=null===x||void 0===x?void 0:x[t])&&void 0!==l?l:1)},B=(e,t)=>{var n,i,r;if(Dg.has(e))return I(e,t);const a=Pg(null===_||void 0===_||null===(n=_.isletme)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e]);return"y1"===t?a:a*(null!==(r=null===x||void 0===x?void 0:x[t])&&void 0!==r?r:1)},z=(0,r.useMemo)(()=>{const e={y1:0,y2:0,y3:0};for(const t of Ig)e.y1+=B(t.key,"y1"),e.y2+=B(t.key,"y2"),e.y3+=B(t.key,"y3");return e},[_,P,x]),U=(0,r.useMemo)(()=>{var e;const t={y1:0,y2:0,y3:0,studentsY1:0,studentsY2:0,studentsY3:0},n=Array.isArray(null===u||void 0===u||null===(e=u.nonEducationFees)||void 0===e?void 0:e.rows)?u.nonEducationFees.rows:[],i=new Map(n.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]));for(const l of Bg){var r,a;const e=(null===(r=_.ogrenimDisi)||void 0===r||null===(a=r.items)||void 0===a?void 0:a[l.key])||{},n=Ug[l.key],s=n?i.get(n):null,o=Kg(s,"y1"),c=Kg(s,"y2"),u=Kg(s,"y3"),d=Pg(e.unitCost),m=Pg(e.unitCostY2),h=Pg(e.unitCostY3);t.studentsY1+=o,t.studentsY2+=c,t.studentsY3+=u,t.y1+=o*d,t.y2+=c*m,t.y3+=u*h}return t},[_,u]),Y=(0,r.useMemo)(()=>{var e;const t={y1:0,y2:0,y3:0,studentsY1:0,studentsY2:0,studentsY3:0},n=Array.isArray(null===u||void 0===u||null===(e=u.dormitory)||void 0===e?void 0:e.rows)?u.dormitory.rows:[],i=new Map(n.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]));for(const o of zg){var r,a,l,s;const e=(null===(r=_.yurt)||void 0===r||null===(a=r.items)||void 0===a?void 0:a[o.key])||{},n=Yg[o.key],c=n?i.get(n):null,u=Kg(c,"y1"),d=Kg(c,"y2"),m=Kg(c,"y3"),h=Pg(e.unitCost),p=h*(null!==(l=null===x||void 0===x?void 0:x.y2)&&void 0!==l?l:1),f=h*(null!==(s=null===x||void 0===x?void 0:x.y3)&&void 0!==s?s:1);t.studentsY1+=u,t.studentsY2+=d,t.studentsY3+=m,t.y1+=u*h,t.y2+=d*p,t.y3+=m*f}return t},[_,u,x]),K={y1:z.y1+U.y1+Y.y1,y2:z.y2+U.y2+Y.y2,y3:z.y3+U.y3+Y.y3};(0,r.useEffect)(()=>{if(!h)return;if(!Number.isFinite(O)||O<=0)return;const e=Array.isArray(d)?d:[];let t=!1;const n=e.map(e=>{if(!e)return e;if(null==e.studentCount||""===e.studentCount)return e;const n=Number(e.studentCount);if(!Number.isFinite(n))return e;const i=Math.max(0,Math.round(n)),r=_g(i/O,0,1),a=_g(Pg(e.ratio),0,1);return Math.abs(r-a)<1e-6?e:(t=!0,m(m({},e),{},{ratio:r}))});t&&h(n)},[O,d,h]);const W=(e,t)=>t>0?e/t-1:null,H=(0,r.useMemo)(()=>{const e=new Map;for(const t of Ig)e.set(t.key,t);return e},[]),V=(0,r.useMemo)(()=>[{label:null,keys:["ulkeTemsilciligi","genelYonetim"]},{label:"E\u011fitim Hizmetleri Maliyetleri",bandClass:"exp-band-edu",keys:["kira","emsalKira","enerjiKantin","turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas","disaridanHizmet","egitimAracGerec","finansalGiderler","egitimAmacliHizmet"]},{label:null,keys:["temsilAgirlama"]},{label:null,keys:["ulkeIciUlasim"]},{label:null,keys:["ulkeDisiUlasim"]},{label:"Vergiler",keys:["vergilerResmiIslemler","vergiler"]},{label:null,keys:["demirbasYatirim","rutinBakim"]},{label:"Pazarlama, Tan\u0131t\u0131m",keys:["pazarlamaOrganizasyon","reklamTanitim"]},{label:null,keys:["tahsilEdilemeyenGelirler"]}],[]);return(0,oa.jsxs)("div",{className:"card expenses-card expenses-table-container",children:[(0,oa.jsx)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"flex-start"},children:(0,oa.jsx)("button",{className:"btn",type:"button",onClick:()=>j(e=>!e),children:k?"Hesap kolonunu gizle":"Hesap kolonunu g\xf6ster"})}),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"G\u0130DERLER (\u0130\u015eLETME) / YIL (".concat(p,")")})}),(0,oa.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table table-3y expenses-3block expenses-main",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[(0,oa.jsx)("th",{rowSpan:2,className:"exp-group-col",style:{width:30}}),k?(0,oa.jsx)("th",{rowSpan:2,style:{width:70},children:"Hesap"}):null,(0,oa.jsx)("th",{rowSpan:2,className:"exp-label-col",style:Rg,children:"Gider Kalemi"}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y1.labelLong}),(0,oa.jsx)("th",{colSpan:4,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y2.labelLong}),(0,oa.jsx)("th",{colSpan:4,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left exp-col-total cell-num",children:"Toplam (".concat(p,")")}),(0,oa.jsx)("th",{className:"exp-col-pct cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"\u0130\u015fletme Giderleri"}),(0,oa.jsx)("div",{children:"Toplam\u0131 i\xe7indeki %"})]})}),(0,oa.jsx)("th",{className:"exp-col-pct cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"Toplam Ciro"}),(0,oa.jsx)("div",{children:"i\xe7indeki %"})]})}),(0,oa.jsx)("th",{className:"sep-left exp-col-yoy cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"Tahmini"}),(0,oa.jsx)("div",{children:"art\u0131\u015f %"})]})}),(0,oa.jsx)("th",{className:"exp-col-total cell-num",children:"Toplam (".concat(p,")")}),(0,oa.jsx)("th",{className:"exp-col-pct cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"\u0130\u015fletme Giderleri"}),(0,oa.jsx)("div",{children:"Toplam\u0131 i\xe7indeki %"})]})}),(0,oa.jsx)("th",{className:"exp-col-pct cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"Toplam Ciro"}),(0,oa.jsx)("div",{children:"i\xe7indeki %"})]})}),(0,oa.jsx)("th",{className:"sep-left exp-col-yoy cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"Tahmini"}),(0,oa.jsx)("div",{children:"art\u0131\u015f %"})]})}),(0,oa.jsx)("th",{className:"exp-col-total cell-num",children:"Toplam (".concat(p,")")}),(0,oa.jsx)("th",{className:"exp-col-pct cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"\u0130\u015fletme Giderleri"}),(0,oa.jsx)("div",{children:"Toplam\u0131 i\xe7indeki %"})]})}),(0,oa.jsx)("th",{className:"exp-col-pct cell-num",children:(0,oa.jsxs)("div",{className:"exp-th-wrap",children:[(0,oa.jsx)("div",{children:"Toplam Ciro"}),(0,oa.jsx)("div",{children:"i\xe7indeki %"})]})})]})]}),(0,oa.jsxs)("tbody",{children:[V.flatMap(e=>{const t=e.keys.map(e=>H.get(e)).filter(Boolean);return t.map((n,i)=>{var r,a;const l=B(n.key,"y1"),s=B(n.key,"y2"),c=B(n.key,"y3"),u=W(s,l),d=W(c,s),h=z.y1>0?l/z.y1:null,p=z.y2>0?s/z.y2:null,f=z.y3>0?c/z.y3:null,y=D.y1>0?l/D.y1:null,v=D.y2>0?s/D.y2:null,b=D.y3>0?c/D.y3:null,x=Dg.has(n.key)?I(n.key,"y1"):Pg(null===(r=_.isletme)||void 0===r||null===(a=r.items)||void 0===a?void 0:a[n.key]);return(0,oa.jsxs)("tr",{className:"".concat(e.bandClass||"").concat(0===i?" row-group-start":""),children:[e.label?0===i?(0,oa.jsx)("td",{rowSpan:t.length,className:"exp-group-cell",children:(0,oa.jsx)("div",{className:"exp-group-label",style:{"--exp-scale":Fg(e.label,t.length)},title:e.label,children:e.label})}):null:(0,oa.jsx)("td",{className:"exp-group-blank"}),k?(0,oa.jsx)("td",{children:n.code}):null,(0,oa.jsx)("td",{className:"exp-label-col",style:Rg,title:n.label,children:n.label}),(0,oa.jsx)("td",{className:"sep-left cell-num",children:(0,oa.jsx)(sv,{className:A("input xxs num",N(n.key)),min:"0",step:"0.01",value:x,disabled:Dg.has(n.key),title:Dg.has(n.key)?"Bu sat\u0131r HR (\u0130K) tab\u0131ndan otomatik hesaplan\u0131r":"Sadece 1. y\u0131l\u0131 gir, 2-3. y\u0131l otomatik",onChange:e=>function(e,t){var n;const i=""===t?0:Pg(t);if(Dg.has(e))return;const r=m(m({},_),{},{isletme:m(m({},_.isletme||{}),{},{items:m(m({},(null===(n=_.isletme)||void 0===n?void 0:n.items)||{}),{},{[e]:i})})});o(r),null===g||void 0===g||g(N(e),i)}(n.key,e)})}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(h)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(y)}),(0,oa.jsx)("td",{className:"cell-pct sep-left",children:Lg(u)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(s)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(p)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(v)}),(0,oa.jsx)("td",{className:"cell-pct sep-left",children:Lg(d)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(c)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(f)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(b)})]},n.key)})}),(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{className:"exp-group-blank"}),(0,oa.jsx)("td",{colSpan:k?2:1,children:"TOPLAM"}),(0,oa.jsx)("td",{className:"cell-num sep-left",children:Mg(z.y1)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(1)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(D.y1>0?z.y1/D.y1:null)}),(0,oa.jsx)("td",{className:"cell-pct sep-left",children:Lg(W(z.y2,z.y1))}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(z.y2)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(1)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(D.y2>0?z.y2/D.y2:null)}),(0,oa.jsx)("td",{className:"cell-pct sep-left",children:Lg(W(z.y3,z.y2))}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(z.y3)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(1)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(D.y3>0?z.y3/D.y3:null)})]})]})]})}),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"G\u0130DERLER (\xd6\u011eREN\u0130M DI\u015eI H\u0130ZMETLERE Y\xd6NEL\u0130K SATILAN MAL VE H\u0130ZMETLER) / YIL"})}),(0,oa.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[k?(0,oa.jsx)("th",{rowSpan:2,style:{width:70},children:"Hesap"}):null,(0,oa.jsx)("th",{rowSpan:2,className:"exp-label-col",style:Rg,children:"Gider Kalemi"}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y1.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y2.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:140},children:"Birim (".concat(S.y1.range,")")}),(0,oa.jsx)("th",{style:{width:160},children:"Toplam (".concat(S.y1.range,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:140},children:"Birim (".concat(S.y2.range,")")}),(0,oa.jsx)("th",{style:{width:160},children:"Toplam (".concat(S.y2.range,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:140},children:"Birim (".concat(S.y3.range,")")}),(0,oa.jsx)("th",{style:{width:160},children:"Toplam (".concat(S.y3.range,")")})]})]}),(0,oa.jsxs)("tbody",{children:[Bg.map((e,t)=>{var n,i,r,a,l,s,c;const u=(null===(n=_.ogrenimDisi)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e.key])||{},d="yemek"===e.key?"yemek":"uniforma"===e.key?"uniforma":"kitapKirtasiye"===e.key?"kitap":"ulasimServis"===e.key?"ulasim":null,h=d?L.get(d):null,p=Pg(null===h||void 0===h?void 0:h.studentCount),f=Pg(null!==(r=null===h||void 0===h?void 0:h.studentCountY2)&&void 0!==r?r:null===h||void 0===h?void 0:h.studentCount),y=Pg(null!==(a=null!==(l=null===h||void 0===h?void 0:h.studentCountY3)&&void 0!==l?l:null===h||void 0===h?void 0:h.studentCountY2)&&void 0!==a?a:null===h||void 0===h?void 0:h.studentCount),v=Pg(u.unitCost),b=v*(null!==(s=x.y2)&&void 0!==s?s:1),j=v*(null!==(c=x.y3)&&void 0!==c?c:1),S=p*v,w=f*b,N=y*j;return(0,oa.jsxs)("tr",{className:0===t?"row-group-start":"",children:[k?(0,oa.jsx)("td",{children:e.code}):null,(0,oa.jsx)("td",{children:e.label}),(0,oa.jsx)("td",{className:"sep-left cell-count",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(p)})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)(sv,{className:A("input xs num",C(e.key,"unitCost")),min:"0",step:"0.01",value:v,onChange:t=>function(e,t,n){var i,r,a;const l=(null===(i=_.ogrenimDisi)||void 0===i||null===(r=i.items)||void 0===r?void 0:r[e])||{studentCount:0,unitCost:0},s=""===n?0:Pg(n),c=m(m({},_),{},{ogrenimDisi:m(m({},_.ogrenimDisi||{}),{},{items:m(m({},(null===(a=_.ogrenimDisi)||void 0===a?void 0:a.items)||{}),{},{[e]:m(m({},l),{},{[t]:s})})})});o(c),null===g||void 0===g||g(C(e,t),s)}(e.key,"unitCost",t)})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(S)}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(f)})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)("div",{children:Mg(b)})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(w)}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(y)})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)("div",{children:Mg(j)})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(N)})]},e.key)}),(()=>{const e=L,t=Bg.reduce((t,n)=>{var i,r,a,l,s,o,c;const u=(null===(i=_.ogrenimDisi)||void 0===i||null===(r=i.items)||void 0===r?void 0:r[n.key])||{},d="yemek"===n.key?"yemek":"uniforma"===n.key?"uniforma":"kitapKirtasiye"===n.key?"kitap":"ulasimServis"===n.key?"ulasim":null,m=d?e.get(d):null,h=Pg(null===m||void 0===m?void 0:m.studentCount),p=Pg(null!==(a=null===m||void 0===m?void 0:m.studentCountY2)&&void 0!==a?a:null===m||void 0===m?void 0:m.studentCount),f=Pg(null!==(l=null!==(s=null===m||void 0===m?void 0:m.studentCountY3)&&void 0!==s?s:null===m||void 0===m?void 0:m.studentCountY2)&&void 0!==l?l:null===m||void 0===m?void 0:m.studentCount),y=Pg(u.unitCost),v=y*(null!==(o=x.y2)&&void 0!==o?o:1),g=y*(null!==(c=x.y3)&&void 0!==c?c:1);return t.s1+=h,t.s2+=p,t.s3+=f,t.y1+=h*y,t.y2+=p*v,t.y3+=f*g,t},{s1:0,s2:0,s3:0,y1:0,y2:0,y3:0});return(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{colSpan:k?2:1,children:"TOPLAM"}),(0,oa.jsx)("td",{className:"cell-count sep-left"}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(t.y1)}),(0,oa.jsx)("td",{className:"cell-count sep-left"}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(t.y2)}),(0,oa.jsx)("td",{className:"cell-count sep-left"}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(t.y3)})]})})()]})]})}),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"G\u0130DERLER (YURT, KONAKLAMA) / YIL"})}),(0,oa.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[k?(0,oa.jsx)("th",{rowSpan:2,style:{width:70},children:"Hesap"}):null,(0,oa.jsx)("th",{rowSpan:2,className:"exp-label-col",style:Rg,children:"Gider Kalemi"}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y1.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y2.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:140},children:"Birim (".concat(S.y1.range,")")}),(0,oa.jsx)("th",{style:{width:160},children:"Toplam (".concat(S.y1.range,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:140},children:"Birim (".concat(S.y2.range,")")}),(0,oa.jsx)("th",{style:{width:160},children:"Toplam (".concat(S.y2.range,")")}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:140},children:"Birim (".concat(S.y3.range,")")}),(0,oa.jsx)("th",{style:{width:160},children:"Toplam (".concat(S.y3.range,")")})]})]}),(0,oa.jsxs)("tbody",{children:[zg.map((e,t)=>{var n,i,r,a,l;const s=(null===(n=_.yurt)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e.key])||{},c="yurtGiderleri"===e.key?"yurt":"digerYurt"===e.key?"yazOkulu":null,u=c?R.get(c):null,d=Pg(null===u||void 0===u?void 0:u.studentCount),h=Pg(null!==(r=null===u||void 0===u?void 0:u.studentCountY2)&&void 0!==r?r:null===u||void 0===u?void 0:u.studentCount),p=Pg(null!==(a=null!==(l=null===u||void 0===u?void 0:u.studentCountY3)&&void 0!==l?l:null===u||void 0===u?void 0:u.studentCountY2)&&void 0!==a?a:null===u||void 0===u?void 0:u.studentCount),f=Pg(s.unitCost),y=f*x.y2,v=f*x.y3,b=d*f,j=h*y,S=p*v;return(0,oa.jsxs)("tr",{className:0===t?"row-group-start":"",children:[k?(0,oa.jsx)("td",{children:e.code}):null,(0,oa.jsx)("td",{children:e.label}),(0,oa.jsx)("td",{className:"sep-left cell-count",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(d)})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)(sv,{className:A("input xs num",T(e.key,"unitCost")),min:"0",step:"0.01",value:f,onChange:t=>function(e,t,n){var i,r,a;const l=(null===(i=_.yurt)||void 0===i||null===(r=i.items)||void 0===r?void 0:r[e])||{studentCount:0,unitCost:0},s=""===n?0:Pg(n),c=m(m({},_),{},{yurt:m(m({},_.yurt||{}),{},{items:m(m({},(null===(a=_.yurt)||void 0===a?void 0:a.items)||{}),{},{[e]:m(m({},l),{},{[t]:s})})})});o(c),null===g||void 0===g||g(T(e,t),s)}(e.key,"unitCost",t)})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(b)}),(0,oa.jsx)("td",{className:"sep-left cell-count",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(h)})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(y)})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(j)}),(0,oa.jsx)("td",{className:"sep-left cell-count",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(p)})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)("div",{className:"cell-num",children:Mg(v)})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(S)})]},e.key)}),(()=>{const e=R,t=zg.reduce((t,n)=>{var i,r,a,l,s;const o=(null===(i=_.yurt)||void 0===i||null===(r=i.items)||void 0===r?void 0:r[n.key])||{},c="yurtGiderleri"===n.key?"yurt":"digerYurt"===n.key?"yazOkulu":null,u=c?e.get(c):null,d=Pg(null===u||void 0===u?void 0:u.studentCount),m=Pg(null!==(a=null===u||void 0===u?void 0:u.studentCountY2)&&void 0!==a?a:null===u||void 0===u?void 0:u.studentCount),h=Pg(null!==(l=null!==(s=null===u||void 0===u?void 0:u.studentCountY3)&&void 0!==s?s:null===u||void 0===u?void 0:u.studentCountY2)&&void 0!==l?l:null===u||void 0===u?void 0:u.studentCount),p=Pg(o.unitCost),f=p*x.y2,y=p*x.y3;return t.s1+=d,t.s2+=m,t.s3+=h,t.y1+=d*p,t.y2+=m*f,t.y3+=h*y,t},{s1:0,s2:0,s3:0,y1:0,y2:0,y3:0});return(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{colSpan:k?2:1,children:"TOPLAM"}),(0,oa.jsx)("td",{className:"cell-count sep-left"}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(t.y1)}),(0,oa.jsx)("td",{className:"cell-count sep-left"}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(t.y2)}),(0,oa.jsx)("td",{className:"cell-count sep-left"}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(t.y3)})]})})()]})]})}),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"BURS VE \u0130ND\u0130R\u0130MLER / YIL"})}),(0,oa.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table",children:[(0,oa.jsxs)("thead",{children:[(0,oa.jsxs)("tr",{className:"group",children:[(0,oa.jsx)("th",{rowSpan:2,className:"exp-label-col",style:Rg,children:"Burs / \u0130ndirim"}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y1.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y2.labelLong}),(0,oa.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:S.y3.labelLong})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"Burslu \xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:120},children:"Ort. %"}),(0,oa.jsx)("th",{style:{width:150},children:"Toplam"}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"Burslu \xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:120},children:"Ort. %"}),(0,oa.jsx)("th",{style:{width:150},children:"Toplam"}),(0,oa.jsx)("th",{className:"sep-left",style:{width:140},children:"Burslu \xd6\u011frenci"}),(0,oa.jsx)("th",{style:{width:120},children:"Ort. %"}),(0,oa.jsx)("th",{style:{width:150},children:"Toplam"})]})]}),(0,oa.jsx)("tbody",{children:(e=>{const t=Array.isArray(d)?d:[],n=new Map(t.map(e=>[String((null===e||void 0===e?void 0:e.name)||""),e])),i=e=>{var t,n;return Pg(null===M||void 0===M||null===(t=M[e])||void 0===t?void 0:t.tuitionStudents)||Pg(null===M||void 0===M||null===(n=M.y1)||void 0===n?void 0:n.tuitionStudents)},r=(e,t)=>{const n=i(t),r="y1"===t?null===e||void 0===e?void 0:e.studentCount:"y2"===t?null===e||void 0===e?void 0:e.studentCountY2:null===e||void 0===e?void 0:e.studentCountY3,a="y1"===t?null===e||void 0===e?void 0:e.ratio:"y2"===t?null===e||void 0===e?void 0:e.ratioY2:null===e||void 0===e?void 0:e.ratioY3,l=null!=r&&""!==r?Math.max(0,Math.round(Pg(r))):null;if(n>0){const e=null!=l?l:Math.round(_g(Pg(a),0,1)*n);return Math.min(e,n)}return null!=l?l:0},a=(e,t)=>{const n="y1"===t?null===e||void 0===e?void 0:e.value:"y2"===t?null===e||void 0===e?void 0:e.valueY2:null===e||void 0===e?void 0:e.valueY3;return _g(Pg(n),0,1)},l=(e,t,n,i)=>{const r=(e=>{var t;return Pg(null===M||void 0===M||null===(t=M[e])||void 0===t?void 0:t.avgTuitionFee)})(t);if("fixed"===String((null===e||void 0===e?void 0:e.mode)||"percent")){var a;const i="y1"===t?null===e||void 0===e?void 0:e.value:"y2"===t?null===e||void 0===e?void 0:e.valueY2:null===e||void 0===e?void 0:e.valueY3,r="y2"===t&&null!=(null===e||void 0===e?void 0:e.valueY2)&&""!==(null===e||void 0===e?void 0:e.valueY2)||"y3"===t&&null!=(null===e||void 0===e?void 0:e.valueY3)&&""!==(null===e||void 0===e?void 0:e.valueY3),l=Pg(i),s=r?l:l*(null!==(a=null===x||void 0===x?void 0:x[t])&&void 0!==a?a:1);return n*Math.max(0,s)}return r*n*i},s=(e,n,r,a)=>{if(!h)return;const l=i(n),s=""===r||null==r,o=s?0:Math.max(0,Math.round(Pg(r))),c=l>0?Math.min(o,l):o,u=_g(Pg(a)/100,0,1),d=_g(c/(l>0?l:1),0,1),p=[...t],f=p.findIndex(t=>String((null===t||void 0===t?void 0:t.name)||"")===e),y=f>=0?p[f]:{name:e,mode:"percent"},v=s?void 0:c,b="y1"===n?{studentCount:v,ratio:d,value:u,mode:"percent"}:"y2"===n?{studentCountY2:v,ratioY2:d,valueY2:u,mode:"percent"}:{studentCountY3:v,ratioY3:d,valueY3:u,mode:"percent"};f>=0?p[f]=m(m({},y),b):p.push(m(m({},y),b)),h(p),"y1"===n?(null===g||void 0===g||g(E(e,"ratio"),d),null===g||void 0===g||g(E(e,"value"),u)):"y2"===n?(null===g||void 0===g||g(E(e,"ratioY2"),d),null===g||void 0===g||g(E(e,"valueY2"),u)):(null===g||void 0===g||g(E(e,"ratioY3"),d),null===g||void 0===g||g(E(e,"valueY3"),u))},o=Wg.map(e=>{const t=n.get(e.name)||{name:e.name,mode:"percent",value:0,ratio:0},i=r(t,"y1"),s=r(t,"y2"),o=r(t,"y3"),c=a(t,"y1"),u=a(t,"y2"),d=a(t,"y3"),m=l(t,"y1",i,c),h=l(t,"y2",s,u),p=l(t,"y3",o,d);return{name:e.name,c1:i,c2:s,c3:o,p1:c,p2:u,p3:d,a1:m,a2:h,a3:p}}),c=o.reduce((e,t)=>(e.s1+=Pg(t.c1),e.s2+=Pg(t.c2),e.s3+=Pg(t.c3),e.a1+=Pg(t.a1),e.a2+=Pg(t.a2),e.a3+=Pg(t.a3),e.w1+=Pg(t.c1)*_g(t.p1,0,1),e.w2+=Pg(t.c2)*_g(t.p2,0,1),e.w3+=Pg(t.c3)*_g(t.p3,0,1),e),{s1:0,s2:0,s3:0,a1:0,a2:0,a3:0,w1:0,w2:0,w3:0}),u=c.s1>0?c.w1/c.s1:0,p=c.s2>0?c.w2/c.s2:0,f=c.s3>0?c.w3/c.s3:0,y=Pg(null===M||void 0===M||null===(e=M.y1)||void 0===e?void 0:e.grossTuition),v=i("y1");return(0,oa.jsxs)(oa.Fragment,{children:[o.map((e,t)=>(0,oa.jsxs)("tr",{className:0===t?"row-group-start":"",children:[(0,oa.jsx)("td",{children:e.name}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:(0,oa.jsx)(sv,{className:A("input xs num",E(e.name,"ratio")),min:"0",step:"1",value:e.c1,onChange:t=>s(e.name,"y1",t,100*e.p1),disabled:!h})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)(sv,{className:A("input xs num",E(e.name,"value")),min:"0",max:"100",step:"0.1",value:(100*e.p1).toFixed(1),onChange:t=>s(e.name,"y1",e.c1,t),disabled:!h})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(e.a1)}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:(0,oa.jsx)(sv,{className:A("input xs num",E(e.name,"ratioY2")),min:"0",step:"1",value:e.c2,onChange:t=>s(e.name,"y2",t,100*e.p2),disabled:!h})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)(sv,{className:A("input xs num",E(e.name,"valueY2")),min:"0",max:"100",step:"0.1",value:(100*e.p2).toFixed(1),onChange:t=>s(e.name,"y2",e.c2,t),disabled:!h})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(e.a2)}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:(0,oa.jsx)(sv,{className:A("input xs num",E(e.name,"ratioY3")),min:"0",step:"1",value:e.c3,onChange:t=>s(e.name,"y3",t,100*e.p3),disabled:!h})}),(0,oa.jsx)("td",{className:"cell-num",children:(0,oa.jsx)(sv,{className:A("input xs num",E(e.name,"valueY3")),min:"0",max:"100",step:"0.1",value:(100*e.p3).toFixed(1),onChange:t=>s(e.name,"y3",e.c3,t),disabled:!h})}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(e.a3)})]},e.name)),(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"TOPLAM"}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:Mg(c.s1)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(u)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(c.a1)}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:Mg(c.s2)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(p)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(c.a2)}),(0,oa.jsx)("td",{className:"cell-count sep-left",children:Mg(c.s3)}),(0,oa.jsx)("td",{className:"cell-pct",children:Lg(f)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(c.a3)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:"Burs/\u0130ndirimli \xd6\u011frenci Oran\u0131 (Y1)"}),(0,oa.jsx)("td",{className:"small cell-pct",colSpan:9,children:Lg(v>0?c.s1/v:0)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:"Burs/\u0130ndirimlerin \xd6\u011frenci \xdccret Gelirleri \u0130\xe7indeki % (Y1)"}),(0,oa.jsx)("td",{className:"small cell-pct",colSpan:9,children:Lg(y>0?c.a1/y:0)})]})]})})()})]})}),(0,oa.jsx)("div",{className:"section-head",children:(0,oa.jsx)("div",{className:"section-title",children:"\xd6ZET"})}),(0,oa.jsx)("div",{className:"table-scroll",style:{marginTop:8},children:(0,oa.jsxs)("table",{className:"table data-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{}),(0,oa.jsx)("th",{style:{width:170},children:"Y1"}),(0,oa.jsx)("th",{style:{width:170},children:"Y2"}),(0,oa.jsx)("th",{style:{width:170},children:"Y3"})]})}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"\u0130\u015fletme Giderleri"}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(z.y1)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(z.y2)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(z.y3)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"\xd6\u011frenim D\u0131\u015f\u0131 Maliyetler"}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(U.y1)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(U.y2)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(U.y3)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"Yurt/Konaklama Giderleri"}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(Y.y1)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(Y.y2)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(Y.y3)})]}),(0,oa.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"Toplam Gider"}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(K.y1)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(K.y2)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(K.y3)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:"Net Ciro (Gelirler - \u0130ndirimler)"}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(D.y1)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(D.y2)}),(0,oa.jsx)("td",{className:"cell-num",children:Mg(D.y3)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{className:"small",children:"Gider / Net Ciro"}),(0,oa.jsx)("td",{className:"cell-num",children:D.y1>0?Lg(K.y1/D.y1):"-"}),(0,oa.jsx)("td",{className:"cell-num",children:D.y2>0?Lg(K.y2/D.y2):"-"}),(0,oa.jsx)("td",{className:"cell-num",children:D.y3>0?Lg(K.y3/D.y3):"-"})]})]})]})}),(0,oa.jsx)("div",{className:"small",style:{marginTop:10},children:"\u0130pucu: HR (\u0130K) tab\u0131ndaki 1/2/3. y\u0131l personel say\u0131lar\u0131 ve birim maliyetleri girildi\u011finde, maa\u015f sat\u0131rlar\u0131 burada otomatik g\xfcncellenir (1. y\u0131l giri\u015f alan\u0131 kilitlenir)."})]})}function Xg(){const{inputs:e,setField:t,baseYear:n,inputCurrencyCode:i,dirtyPaths:r,markDirty:a,uiScopeKey:l,expensesAvgPct:s,expensesMissingLines:o}=Ee();if(!e)return null;const c=Array.isArray(o)?o.join(" / "):"";return(0,oa.jsx)("div",{style:{marginTop:12},children:(0,oa.jsx)(bv,{pct:s,title:"Giderler",missingLines:o,missingPreview:c,children:(0,oa.jsx)($g,{baseYear:n,giderler:e.giderler,temelBilgiler:e.temelBilgiler,ik:e.ik,grades:e.grades,gelirler:e.gelirler,discounts:e.discounts,currencyCode:i,onDiscountsChange:e=>{t("discounts",e)},onChange:e=>{t("giderler",e)},dirtyPaths:r,onDirty:a,uiScopeKey:l})})})}const Qg=[{key:"magisBasariBursu",name:"MAGIS BASARI BURSU"},{key:"maarifYetenekBursu",name:"MAARIF YETENEK BURSU"},{key:"ihtiyacBursu",name:"IHTIYAC BURSU"},{key:"okulBasariBursu",name:"OKUL BASARI BURSU"},{key:"tamEgitimBursu",name:"TAM EGITIM BURSU"},{key:"barinmaBursu",name:"BARINMA BURSU"},{key:"turkceBasariBursu",name:"TURKCE BASARI BURSU"},{key:"uluslararasiYukumlulukIndirimi",name:"VAKFIN ULUSLARARASI YUKUMLULUKLERINDEN KAYNAKLI INDIRIM"},{key:"vakifCalisaniIndirimi",name:"VAKIF CALISANI INDIRIMI"},{key:"kardesIndirimi",name:"KARDES INDIRIMI"},{key:"erkenKayitIndirimi",name:"ERKEN KAYIT INDIRIMI"},{key:"pesinOdemeIndirimi",name:"PESIN ODEME INDIRIMI"},{key:"kademeGecisIndirimi",name:"KADEME GECIS INDIRIMI"},{key:"temsilIndirimi",name:"TEMSIL INDIRIMI"},{key:"kurumIndirimi",name:"KURUM INDIRIMI"},{key:"istisnaiIndirim",name:"ISTISNAI INDIRIM"},{key:"yerelMevzuatIndirimi",name:"YEREL MEVZUATIN SART KOSTUGU INDIRIM"}],Zg=Qg.slice(0,7),Jg=Qg.slice(7);function eb(e){const t=Number(e);return Number.isFinite(t)?t:0}function tb(e,t,n){const i=eb(e);return Math.min(n,Math.max(t,i))}function nb(e){return Math.max(0,eb(e))}function ib(e,t){const n=Number(e),i=Number(t);return Number.isFinite(n)&&Number.isFinite(i)&&0!==i?n/i:null}function rb(e){const t={"\u015f":"s","\u015e":"s","\u0131":"i","\u0130":"i","\u011f":"g","\u011e":"g","\xfc":"u","\xdc":"u","\xf6":"o","\xd6":"o","\xe7":"c","\xc7":"c"};return String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split("").map(e=>{var n;return null!==(n=t[e])&&void 0!==n?n:e}).join("").toLowerCase().replace(/\([^)]*\)/g," ").replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim()}function ab(e){return(null===e||void 0===e?void 0:e.key)||(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.title)||(null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.description)||(null===e||void 0===e?void 0:e.item_name)||""}function lb(e){return eb((null===e||void 0===e?void 0:e.studentCount)||(null===e||void 0===e?void 0:e.count)||(null===e||void 0===e?void 0:e.students)||(null===e||void 0===e?void 0:e.qty)||(null===e||void 0===e?void 0:e.quantity)||0)}function sb(e,t){let n=0;for(const i of t)i&&(e===i?n=Math.max(n,100):e.startsWith(i)?n=Math.max(n,80):e.includes(i)?n=Math.max(n,60):new RegExp("(^|\\s)".concat(i,"(\\s|$)")).test(e)&&(n=Math.max(n,70)));return n}function ob(e,t){const n=t.map(rb);let i={score:0,count:0};for(const r of e||[]){const e=sb(rb(ab(r)),n),t=lb(r);(e>i.score||e===i.score&&t>i.count)&&(i={score:e,count:t})}return i.count}const cb=e=>{const t=Number(e);return Number.isFinite(t)?t:null};function ub(e){return String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9 ]/gi," ").trim().toUpperCase()}const db={okuloncesi:"okulOncesi",ilkokul:"ilkokul",ilkokulyerel:"ilkokul",ilkokulint:"ilkokul",ortaokul:"ortaokul",ortaokulyerel:"ortaokul",ortaokulint:"ortaokul",lise:"lise",liseyerel:"lise",liseint:"lise"};function mb(e){var t,n;const i=null==(r=null!==(t=null!==(n=null===e||void 0===e?void 0:e.key)&&void 0!==n?n:null===e||void 0===e?void 0:e.label)&&void 0!==t?t:null===e||void 0===e?void 0:e.level)?"":String(r).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"").toLowerCase();var r;return i&&db[i]||null}function hb(e){let{name:t,key:n,tuitionStudents:i,avgTuition:r,toUsd:a,inputDiscounts:l,currentCount:s}=e;const o=ub(t),c=l.get(o)||{name:t,mode:"percent",value:0,ratio:0},u=null!=c.studentCount&&""!==c.studentCount?Math.max(0,Math.round(eb(c.studentCount))):null,d=tb(c.ratio,0,1),m=i>0?Math.round(null!=u?u:d*i):0,h=i>0?Math.min(m,i):null!=u?u:0,p=String(c.mode||"percent").trim().toLowerCase(),f=eb(c.value),y=tb(f,0,1),v=Math.max(0,a(f)),g=Number.isFinite(r)&&r>0?tb(v/r,0,1):null,b="fixed"===p?g:y;return{name:t,planned:h,cost:"fixed"===p?h*v:eb(r)*h*y,cur:null!==s&&void 0!==s?s:null,key:n,rate:b}}function pb(){var e,t,n,i,r,a,l,s,o,c,u,d,h,p,f,y,v,g,b,x,k,j,S,w,N,C,T,E,A,_,P,M,L,R,O,F,D,I,B,z,U,Y,K,W,H,V,G,q,$,X,Q,Z,J,ee,te,ne,ie,re,ae,le,se,oe,ce,ue,de,me,he,pe,fe,ye,ve,ge,be,xe;let{school:ke,scenario:je,inputs:Se,report:we,prevReport:Ne,prevCurrencyMeta:Ce,currencyMeta:Te,programType:Ee}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const Ae=Ee||Jl(Se,je),_e=String((null===je||void 0===je?void 0:je.input_currency)||"USD").toUpperCase(),Pe=Number((null===je||void 0===je?void 0:je.fx_usd_to_local)||0),Me="LOCAL"===_e&&Pe>0,Le=e=>{const t=Number(e);return Number.isFinite(t)?Me?t/Pe:t:0},Re=Number((null===Ce||void 0===Ce?void 0:Ce.fx_usd_to_local)||0),Oe=Number((null===Se||void 0===Se||null===(e=Se.temelBilgiler)||void 0===e||null===(t=e.performans)||void 0===t?void 0:t.prevYearRealizedFxUsdToLocal)||0),Fe=Oe>0,De=Re>0?Re:Fe?Oe:null,Ie=e=>{const t=cb(e);return null==t?null:"LOCAL"===_e?Fe?t/Oe:null:t},Be=[(null===ke||void 0===ke?void 0:ke.name)||(null===ke||void 0===ke?void 0:ke.school_name)||"Okul",(null===je||void 0===je?void 0:je.name)||"",(null===je||void 0===je?void 0:je.academic_year)||""].filter(Boolean).join(" > "),ze=(null===Se||void 0===Se?void 0:Se.temelBilgiler)||{},Ue=sl(null===ze||void 0===ze?void 0:ze.kademeler),Ye=(null===ze||void 0===ze?void 0:ze.okulEgitimBilgileri)||{},Ke=(null===ze||void 0===ze?void 0:ze.ucretArtisOranlari)||{},We=(null===ze||void 0===ze?void 0:ze.ikMevcut)||{},He=(null===ze||void 0===ze||null===(n=ze.performans)||void 0===n?void 0:n.gerceklesen)||{},Ve=(null===ze||void 0===ze?void 0:ze.rakipAnalizi)||{},Ge=(null===ze||void 0===ze?void 0:ze.inflation)||{},qe=(null===ze||void 0===ze?void 0:ze.bursIndirimOgrenciSayilari)||{},$e=(null===Se||void 0===Se?void 0:Se.kapasite)||{},Xe=(null===$e||void 0===$e?void 0:$e.byKademe)||{},Qe=eb(null===$e||void 0===$e||null===(i=$e.totals)||void 0===i?void 0:i.cur)||Object.values(Xe).reduce((e,t)=>{var n;return e+eb(null===t||void 0===t||null===(n=t.caps)||void 0===n?void 0:n.cur)},0)||eb(null===$e||void 0===$e?void 0:$e.currentStudents),Ze=eb(null===$e||void 0===$e||null===(r=$e.years)||void 0===r?void 0:r.y1)||eb(null===$e||void 0===$e||null===(a=$e.totals)||void 0===a?void 0:a.y1)||Object.values(Xe).reduce((e,t)=>{var n;return e+eb(null===t||void 0===t||null===(n=t.caps)||void 0===n?void 0:n.y1)},0)||Qe,Je=Array.isArray(null===Se||void 0===Se?void 0:Se.gradesCurrent)?null===Se||void 0===Se?void 0:Se.gradesCurrent:[],et=Je.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.studentsPerBranch),0),tt=eb(null===$e||void 0===$e?void 0:$e.currentStudents)||et,nt=Je.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.branchCount),0),it=ib(tt,nt),rt=Array.isArray(null===Se||void 0===Se||null===(l=Se.gradesYears)||void 0===l?void 0:l.y1)?null===Se||void 0===Se?void 0:Se.gradesYears.y1:[],at=rt.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.studentsPerBranch),0),lt=rt.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.branchCount),0),st=ib(at,Qe),ot=ib(at,lt),ct=(null===Ye||void 0===Ye?void 0:Ye.sabahciOglenci)||"",ut=(null===Ye||void 0===Ye?void 0:Ye.uygulananProgram)||("international"===Ae?"Uluslararasi":"Ulusal"),dt=Array.isArray(null===Se||void 0===Se||null===(s=Se.gelirler)||void 0===s||null===(o=s.tuition)||void 0===o?void 0:o.rows)?Se.gelirler.tuition.rows:[],mt=Array.isArray(null===Se||void 0===Se||null===(c=Se.gelirler)||void 0===c||null===(u=c.nonEducationFees)||void 0===u?void 0:u.rows)?Se.gelirler.nonEducationFees.rows:[],ht=Array.isArray(null===Se||void 0===Se||null===(d=Se.gelirler)||void 0===d||null===(h=d.dormitory)||void 0===h?void 0:h.rows)?Se.gelirler.dormitory.rows:[],pt=Array.isArray(null===Se||void 0===Se||null===(p=Se.gelirler)||void 0===p||null===(f=p.otherInstitutionIncome)||void 0===f?void 0:f.rows)?Se.gelirler.otherInstitutionIncome.rows:[],ft=Array.isArray(null===Se||void 0===Se||null===(y=Se.gelirler)||void 0===y||null===(v=y.dormitory)||void 0===v?void 0:v.rows)?Se.gelirler.dormitory.rows:[],yt=new Map(ft.map(e=>{return[(t=null===e||void 0===e?void 0:e.key,String(t||"").trim().toLowerCase()),e];var t})),vt=eb(null===(g=yt.get("yurt"))||void 0===g?void 0:g.studentCount),gt=eb(null===(b=yt.get("yazokulu"))||void 0===b?void 0:b.studentCount),bt=dt.filter(e=>{var t;const n=mb(e);return(!n||!1!==(null===(t=Ue[n])||void 0===t?void 0:t.enabled))&&es(null===e||void 0===e?void 0:e.key,Ae)}),xt=new Map;for(const m of mt){const e=String((null===m||void 0===m?void 0:m.key)||"").trim().toLowerCase();e&&xt.set(e,m)}const kt=Le(null!==(x=null===(k=xt.get("uniforma"))||void 0===k?void 0:k.unitFee)&&void 0!==x?x:0),jt=Le(null!==(j=null===(S=xt.get("kitap"))||void 0===S?void 0:S.unitFee)&&void 0!==j?j:0),St=Le(null!==(w=null===(N=xt.get("ulasim"))||void 0===N?void 0:N.unitFee)&&void 0!==w?w:0),wt=Le(null!==(C=null===(T=xt.get("yemek"))||void 0===T?void 0:T.unitFee)&&void 0!==C?C:0),Nt=(null===Se||void 0===Se||null===(E=Se.gelirler)||void 0===E||null===(A=E.nonEducationFees)||void 0===A?void 0:A.rows)||(null===Se||void 0===Se||null===(_=Se.gelirler)||void 0===_||null===(P=_.nonEducationFees)||void 0===P?void 0:P.items)||[],Ct=ob(Nt,["yemek","ogrenci yemegi","ogrenci yemegi ucreti","ogrenci yeme\u011fi","yemek ucreti","lunch","meal","meal fee","food"]),Tt=ob(Nt,["uniforma","okul uniformasi","okul \xfcniformasi","forma","kiyafet","k\u0131yafet","uniform","uniform fee"]),Et=ob(Nt,["kitap","kirtasiye","k\u0131rtasiye","kitap kirtasiye","kitap-kirtasiye","book","books","stationery","book stationery"]),At=ob(Nt,["servis","ogrenci servisi","ogrenci servis","ulasim","ula\u015fim","servis ucreti","transport","transportation","bus","school bus"]),_t=bt.map(e=>{const t=nb(null===Ke||void 0===Ke?void 0:Ke[null===e||void 0===e?void 0:e.key]);return function(e,t,n,i,r,a,l){const s=l(null===e||void 0===e?void 0:e.unitFee),o=t,c=n,u=i,d=r,m=s+o+c+u+d;return{key:String((null===e||void 0===e?void 0:e.key)||(null===e||void 0===e?void 0:e.level)||(null===e||void 0===e?void 0:e.label)||""),level:(null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.level)||(null===e||void 0===e?void 0:e.key)||"",edu:s,uniform:o,books:c,transport:u,meal:d,raisePct:a,total:m,studentCount:eb(null===e||void 0===e?void 0:e.studentCount)}}(e,kt,jt,St,wt,t,Le)}),Pt=_t.reduce((e,t)=>e+eb(t.studentCount),0);const Mt=_t.reduce((e,t)=>e+t.edu*t.studentCount,0),Lt=Pt?Mt/Pt:_t.length?_t.reduce((e,t)=>e+t.edu,0)/_t.length:0,Rt={key:"total",level:"TOPLAM",edu:_t.reduce((e,t)=>e+t.edu,0),uniform:_t.reduce((e,t)=>e+t.uniform,0),books:_t.reduce((e,t)=>e+t.books,0),transport:_t.reduce((e,t)=>e+t.transport,0),meal:_t.reduce((e,t)=>e+t.meal,0),raisePct:null,total:_t.reduce((e,t)=>e+t.total,0),studentCount:Pt},Ot={key:"average",level:"ORTALAMA UCRET",edu:Lt,uniform:_t.length?kt:0,books:_t.length?jt:0,transport:_t.length?St:0,meal:_t.length?wt:0,raisePct:null,total:_t.length?kt+jt+St+wt+Lt:0,studentCount:Pt},Ft=[..._t,Rt,Ot],Dt=(null===we||void 0===we||null===(M=we.years)||void 0===M||null===(L=M.y1)||void 0===L?void 0:L.income)||{},It=(null===we||void 0===we||null===(R=we.years)||void 0===R||null===(O=R.y1)||void 0===O?void 0:O.expenses)||{},Bt=eb(null===Dt||void 0===Dt?void 0:Dt.grossTuition)||Mt,zt=eb(null===Dt||void 0===Dt?void 0:Dt.nonEducationFeesTotal)||mt.reduce((e,t)=>e+Le(null===t||void 0===t?void 0:t.unitFee)*eb(null===t||void 0===t?void 0:t.studentCount),0),Ut=eb(null===Dt||void 0===Dt?void 0:Dt.dormitoryRevenuesTotal)||ht.reduce((e,t)=>e+Le(null===t||void 0===t?void 0:t.unitFee)*eb(null===t||void 0===t?void 0:t.studentCount),0),Yt=Le(null!==(F=null===Se||void 0===Se||null===(D=Se.gelirler)||void 0===D?void 0:D.governmentIncentives)&&void 0!==F?F:0),Kt=pt.reduce((e,t)=>e+Le(null===t||void 0===t?void 0:t.amount),0),Wt=Kt+Yt,Ht=eb(null===Dt||void 0===Dt?void 0:Dt.otherIncomeTotal)||Wt,Vt=eb(null===Dt||void 0===Dt?void 0:Dt.totalGrossIncome)||Bt+zt+Ut+Ht,Gt=e=>{const t=xt.get(e)||{};return Le(null===t||void 0===t?void 0:t.unitFee)*eb(null===t||void 0===t?void 0:t.studentCount)},qt={uniforma:Gt("uniforma"),kitap:Gt("kitap"),yemek:Gt("yemek"),ulasim:Gt("ulasim")},$t=[{name:"Egitim Ucreti",amount:Bt},{name:"Uniforma",amount:qt.uniforma},{name:"Kitap Kirtasiye",amount:qt.kitap},{name:"Yemek",amount:qt.yemek},{name:"Servis",amount:qt.ulasim},{name:"Yurt Gelirleri",amount:Ut},{name:"Diger (kantin, kira vb.)",amount:Kt},{name:"Devlet Tesvikleri",amount:Yt}].map(e=>({name:e.name,amount:e.amount,ratio:ib(e.amount,Vt)})),Xt=$t,Qt=Vt||Xt.reduce((e,t)=>Number.isFinite(t.amount)?e+Number(t.amount):e,0),Zt=mt.map(e=>({name:(null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.key)||"",amount:Le(null===e||void 0===e?void 0:e.unitFee)*eb(null===e||void 0===e?void 0:e.studentCount)})).filter(e=>e.name&&Number.isFinite(e.amount)&&0!==e.amount),Jt=[...pt.map(e=>({name:(null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.key)||"",amount:Le(null===e||void 0===e?void 0:e.amount)})).filter(e=>e.name&&Number.isFinite(e.amount)&&0!==e.amount),...null!==Se&&void 0!==Se&&null!==(I=Se.gelirler)&&void 0!==I&&I.governmentIncentives?[{name:"Devlet Tesvikleri",amount:Le(null===Se||void 0===Se||null===(B=Se.gelirler)||void 0===B?void 0:B.governmentIncentives)}]:[]],en=(null===Se||void 0===Se||null===(z=Se.giderler)||void 0===z||null===(U=z.ogrenimDisi)||void 0===U?void 0:U.items)||{},tn=Le(eb(null===en||void 0===en||null===(Y=en.yemek)||void 0===Y?void 0:Y.unitCost)),nn=Le(eb(null===en||void 0===en||null===(K=en.uniforma)||void 0===K?void 0:K.unitCost)),rn=Le(eb(null!==(W=null!==(H=null===en||void 0===en||null===(V=en.kitapKirtasiye)||void 0===V?void 0:V.unitCost)&&void 0!==H?H:null===en||void 0===en||null===(G=en.kitap)||void 0===G?void 0:G.unitCost)&&void 0!==W?W:null===en||void 0===en||null===(q=en.kirtasiye)||void 0===q?void 0:q.unitCost)),an=Le(eb(null!==($=null!==(X=null===en||void 0===en||null===(Q=en.ulasimServis)||void 0===Q?void 0:Q.unitCost)&&void 0!==X?X:null===en||void 0===en||null===(Z=en.servis)||void 0===Z?void 0:Z.unitCost)&&void 0!==$?$:null===en||void 0===en||null===(J=en.ulasim)||void 0===J?void 0:J.unitCost)),ln=(null===Se||void 0===Se||null===(ee=Se.giderler)||void 0===ee||null===(te=ee.yurt)||void 0===te?void 0:te.items)||{},sn=tn*Ct,on=nn*Tt,cn=rn*Et,un=an*At,dn=Le(eb(null===ln||void 0===ln||null===(ne=ln.yurtGiderleri)||void 0===ne?void 0:ne.unitCost))*vt,mn=Le(eb(null===ln||void 0===ln||null===(ie=ln.digerYurt)||void 0===ie?void 0:ie.unitCost))*gt,hn=Math.max(0,dn+mn),pn={yemek:sn,uniforma:on,kitapKirtasiye:cn,ulasimServis:un,total:sn+on+cn+un},fn={yurtGiderleri:dn,digerYurt:mn,total:hn},yn=((e,t,n)=>{const i=(null===Se||void 0===Se||null===(e=Se.ik)||void 0===e||null===(t=e.years)||void 0===t||null===(n=t.y1)||void 0===n?void 0:n.headcountsByLevel)||{},r=Object.keys(i),a=e=>r.reduce((t,n)=>{var r;return t+eb(null===i||void 0===i||null===(r=i[n])||void 0===r?void 0:r[e])},0);return{turkPersonelYoneticiEgitimci:a("turk_mudur")+a("turk_mdyard")+a("turk_egitimci"),turkPersonelTemsilcilik:a("turk_temsil"),yerelKadroluEgitimci:a("yerel_yonetici_egitimci"),yerelUcretliVakaterEgitimci:a("yerel_ucretli_egitimci"),yerelDestek:a("yerel_destek"),yerelTemsilcilik:a("yerel_ulke_temsil_destek"),international:a("int_yonetici_egitimci")}})(),vn=(null===Se||void 0===Se||null===(re=Se.giderler)||void 0===re||null===(ae=re.isletme)||void 0===ae?void 0:ae.items)||{},gn=["ulkeTemsilciligi","genelYonetim","kira","emsalKira","enerjiKantin","turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas","sharedPayrollAllocation","disaridanHizmet","egitimAracGerec","finansalGiderler","egitimAmacliHizmet","temsilAgirlama","ulkeIciUlasim","ulkeDisiUlasim","vergilerResmiIslemler","vergiler","demirbasYatirim","rutinBakim","pazarlamaOrganizasyon","reklamTanitim","tahsilEdilemeyenGelirler"].reduce((e,t)=>e+Le(eb(null===vn||void 0===vn?void 0:vn[t])),0),bn=["turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas"].reduce((e,t)=>e+Le(eb(null===vn||void 0===vn?void 0:vn[t])),0),xn=Le(null===vn||void 0===vn?void 0:vn.turkPersonelMaas)+Le(null===vn||void 0===vn?void 0:vn.turkDestekPersonelMaas),kn=Le(null===vn||void 0===vn?void 0:vn.yerelPersonelMaas)+Le(null===vn||void 0===vn?void 0:vn.yerelDestekPersonelMaas)+Le(null===vn||void 0===vn?void 0:vn.internationalPersonelMaas),jn=Le(eb(null===vn||void 0===vn?void 0:vn.tahsilEdilemeyenGelirler)),Sn=jn,wn=Math.max(0,gn-bn-jn),Nn=[{item:"Turk Personel Yonetici ve Egitimci Sayisi",current:eb(null===We||void 0===We?void 0:We.turkPersonelYoneticiEgitimci),planned:null===yn||void 0===yn?void 0:yn.turkPersonelYoneticiEgitimci},{item:"Turk Personel Temsilcilik Personeli Sayisi",current:eb(null===We||void 0===We?void 0:We.turkPersonelTemsilcilik),planned:null===yn||void 0===yn?void 0:yn.turkPersonelTemsilcilik},{item:"Yerel Kadrolu Egitimci Personel Sayisi",current:eb(null===We||void 0===We?void 0:We.yerelKadroluEgitimci),planned:null===yn||void 0===yn?void 0:yn.yerelKadroluEgitimci},{item:"Yerel Ucretli (Vaka) Egitimci Personel Sayisi",current:eb(null===We||void 0===We?void 0:We.yerelUcretliVakaterEgitimci),planned:null===yn||void 0===yn?void 0:yn.yerelUcretliVakaterEgitimci},{item:"Yerel Destek Personel Sayisi",current:eb(null===We||void 0===We?void 0:We.yerelDestek),planned:null===yn||void 0===yn?void 0:yn.yerelDestek},{item:"Yerel Personel Temsilcilik Personeli Sayisi",current:eb(null===We||void 0===We?void 0:We.yerelTemsilcilik),planned:null===yn||void 0===yn?void 0:yn.yerelTemsilcilik},{item:"International Personel Sayisi",current:eb(null===We||void 0===We?void 0:We.international),planned:null===yn||void 0===yn?void 0:yn.international}],Cn=dt.length?dt.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.studentCount),0):0,Tn=dt.length?dt.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.studentCount)*Le(null===t||void 0===t?void 0:t.unitFee),0):0,En=Cn>0?Tn/Cn:Le(null!==(le=null===Se||void 0===Se||null===(se=Se.gelirler)||void 0===se?void 0:se.tuitionFeePerStudentYearly)&&void 0!==le?le:0),An=new Set(Zg.map(e=>ub(e.name))),_n=Array.isArray(null===Se||void 0===Se?void 0:Se.discounts)?Se.discounts:[];let Pn=0,Mn=0;for(const m of _n){const e=String((null===m||void 0===m?void 0:m.mode)||"percent").trim().toLowerCase(),t=eb(null===m||void 0===m?void 0:m.value),n=tb(t,0,1),i=Math.max(0,Le(t)),r=null!=(null===m||void 0===m?void 0:m.studentCount)&&""!==(null===m||void 0===m?void 0:m.studentCount)?Math.max(0,Math.round(eb(null===m||void 0===m?void 0:m.studentCount))):null,a=tb(null===m||void 0===m?void 0:m.ratio,0,1),l=Cn>0?Math.round(null!=r?r:a*Cn):0,s=Cn>0?Math.min(l,Cn):null!=r?r:0,o="fixed"===e?s*i:En*s*n,c=ub((null===m||void 0===m?void 0:m.name)||(null===m||void 0===m?void 0:m.key)||"");An.has(c)?Pn+=o:Mn+=o}const Ln=null!=cb(null===It||void 0===It?void 0:It.scholarshipsTotal)?eb(null===It||void 0===It?void 0:It.scholarshipsTotal):Pn,Rn=null!=cb(null===It||void 0===It?void 0:It.discountsTotal)?eb(null===It||void 0===It?void 0:It.discountsTotal):Mn,On=eb(gn+pn.total+fn.total+Ln+Rn),Fn=[{name:"IK Giderleri (Toplam)",amount:null!=cb(null===It||void 0===It?void 0:It.hrTotal)?eb(null===It||void 0===It?void 0:It.hrTotal):bn},{name:"Isletme Giderleri (IK Haric)",amount:wn},{name:"Egitim Disi Hizmet Maliyetleri",amount:null!=cb(null===It||void 0===It?void 0:It.nonTuitionServicesCostTotal)?eb(null===It||void 0===It?void 0:It.nonTuitionServicesCostTotal):pn.total},{name:"Yurt Maliyetleri",amount:fn.total},{name:"Indirimler",amount:Rn},{name:"Burslar",amount:Ln}].map(e=>({name:e.name,amount:e.amount,ratio:ib(e.amount,On)})),Dn=dt.length?dt.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.studentCount),0):at||tt||0,In=dt.length?dt.reduce((e,t)=>e+eb(null===t||void 0===t?void 0:t.studentCount)*Le(null===t||void 0===t?void 0:t.unitFee),0):Dn*Le(null!==(oe=null===Se||void 0===Se||null===(ce=Se.gelirler)||void 0===ce?void 0:ce.tuitionFeePerStudentYearly)&&void 0!==oe?oe:0),Bn=Dn>0?In/Dn:0,zn=function(e){const t=new Map;for(const n of e||[]){const e=ub(null===n||void 0===n?void 0:n.name);e&&t.set(e,n)}return t}((null===Se||void 0===Se?void 0:Se.discounts)||[]),Un=Zg.map(e=>hb({name:e.name,key:e.key,tuitionStudents:Dn,avgTuition:Bn,toUsd:Le,inputDiscounts:zn,currentCount:nb(null===qe||void 0===qe?void 0:qe[e.key])})),Yn=Jg.map(e=>hb({name:e.name,key:e.key,tuitionStudents:Dn,avgTuition:Bn,toUsd:Le,inputDiscounts:zn,currentCount:nb(null===qe||void 0===qe?void 0:qe[e.key])})),Kn=(null===Ne||void 0===Ne||null===(ue=Ne.years)||void 0===ue?void 0:ue.y1)||{},Wn=cb(null===Kn||void 0===Kn||null===(de=Kn.students)||void 0===de?void 0:de.totalStudents),Hn=cb(null===Kn||void 0===Kn||null===(me=Kn.income)||void 0===me?void 0:me.netIncome),Vn=cb(null===Kn||void 0===Kn||null===(he=Kn.expenses)||void 0===he?void 0:he.totalExpenses),Gn=cb(null===Kn||void 0===Kn||null===(pe=Kn.income)||void 0===pe?void 0:pe.totalDiscounts),qn=null!=Hn&&null!=Vn?Hn-Vn:null,$n=cb(null===He||void 0===He?void 0:He.ogrenciSayisi),Xn=Ie(null===He||void 0===He?void 0:He.gelirler),Qn=Ie(null===He||void 0===He?void 0:He.giderler),Zn=Ie(null===He||void 0===He?void 0:He.bursVeIndirimler),Jn=null!=Xn&&null!=Qn?Xn-Qn:null,ei=cb(null===He||void 0===He?void 0:He.karZarar),ti=null!=Jn?Jn:null!=ei?Ie(ei):null,ni=[{metric:"Ogrenci Sayisi",planned:Wn,actual:$n},{metric:"Gelirler",planned:Hn,actual:Xn},{metric:"Giderler",planned:Vn,actual:Qn},{metric:"Kar Zarar",planned:qn,actual:ti},{metric:"Burs ve Indirimler",planned:Gn,actual:Zn}].map(e=>{return m(m({},e),{},{variance:(t=e.planned,n=e.actual,null!=t&&null!=n&&0!==Number(t)?(n-t)/t:null)});var t,n}),ii="international"===Ae?"INT.":"YEREL",ri=["okulOncesi","ilkokul","ortaokul","lise"].filter(e=>{var t;return!1!==(null===Ue||void 0===Ue||null===(t=Ue[e])||void 0===t?void 0:t.enabled)}).map(e=>{const t=(null===Ve||void 0===Ve?void 0:Ve[e])||{},n=ol("okulOncesi"===e?"Okul Oncesi":"ilkokul"===e?"Ilkokul":"ortaokul"===e?"Ortaokul":"Lise",Ue,e);return{level:"okulOncesi"===e?n:"".concat(n," - ").concat(ii),a:Le(null===t||void 0===t?void 0:t.a),b:Le(null===t||void 0===t?void 0:t.b),c:Le(null===t||void 0===t?void 0:t.c)}}),ai=Un.reduce((e,t)=>e+eb(t.cost),0),li=Yn.reduce((e,t)=>e+eb(t.cost),0),si=ai+li,oi=(()=>{const e=eb(null===Dt||void 0===Dt?void 0:Dt.activityGross);return e>0?e:Bt+zt+Ut})(),ci=e=>e.reduce((e,t)=>e+eb(t.planned),0),ui=at>0?at:Dn,di=(e,t)=>{const n=ci(e),i=ui>0?t/ui:null,r=Ze>0?n/Ze:null,a=oi>0?t>0?t/oi:0:null,l=((e,t)=>{const n=ci(e);if(n<=0)return null;const i=e.reduce((e,n)=>{const i=eb(n.planned);if(i<=0)return e;let r=cb(n.rate);if(null==r){if(!Number.isFinite(t)||t<=0)return e;r=eb(n.cost)/(i*t)}return e+i*tb(r,0,1)},0);return i/n})(e,Bn);return{perTargetStudent:i,studentShare:r,revenueShare:a,weightedAvgRate:l,plannedStudents:n,totalCost:t}},mi={targetStudents:ui,parentStudentRevenue:oi,scholarships:di(Un,ai),discounts:di(Yn,li)},hi=(()=>{const e=_t.map(e=>e.raisePct).filter(e=>Number.isFinite(e));return e.length?e.reduce((e,t)=>e+t,0)/e.length:null})(),pi=Object.values(Ve||{}).some(e=>["a","b","c"].some(t=>{const n=Number(null===e||void 0===e?void 0:e[t]);return Number.isFinite(n)&&n>0})),fi=function(e){const t=String(e||"").trim(),n=t.match(/(\d{4})\s*-\s*(\d{4})/);if(n){const e=Number(n[1]);if(Number.isFinite(e))return e}const i=t.match(/^(\d{4})$/);if(i){const e=Number(i[1]);if(Number.isFinite(e))return e}return null}(null===je||void 0===je?void 0:je.academic_year),yi=(()=>{const e=Number.isFinite(fi)?fi:2026,t=["y2023","y2024","y2025"];return[e-3,e-2,e-1].map((e,n)=>{const i=cb(null===Ge||void 0===Ge?void 0:Ge["y".concat(e)]),r=cb(null===Ge||void 0===Ge?void 0:Ge[t[n]]);return{year:e,value:null!=i?i:r}})})(),vi={y2023:cb(null===Ge||void 0===Ge?void 0:Ge.y2023),y2024:cb(null===Ge||void 0===Ge?void 0:Ge.y2024),y2025:cb(null===Ge||void 0===Ge?void 0:Ge.y2025)},gi=cb(null===Ge||void 0===Ge?void 0:Ge.currentSeasonAvgFee),bi=null==gi?null:Le(gi),xi=cb(null===Ge||void 0===Ge?void 0:Ge.finalFee),ki=null!=xi?Le(xi):Number.isFinite(null===Ot||void 0===Ot?void 0:Ot.total)?Ot.total:null,ji=cb(null!==(fe=null!==(ye=null===Ge||void 0===Ge?void 0:Ge.uncollectableRevenuePct)&&void 0!==ye?ye:null===Ge||void 0===Ge?void 0:Ge.badDebtPct)&&void 0!==fe?fe:null===Ge||void 0===Ge?void 0:Ge.tahsilEdilemeyenGelirPct),Si=Vt,wi=Si-On,Ni=ib(wi,Si),Ci=at>0?ib(On,at):null,Ti=[{no:"1",desc:"Planlanan Donem Kapasite Kullanim Orani (%)",value:st,valueType:"percent"},{no:"2",desc:"Insan Kaynaklari Planlamasi (Turk + Yerel + International)",value:Object.values(yn).reduce((e,t)=>e+eb(t),0),valueType:"number"},{no:"3",desc:"Gelir Planlamasi",value:Si,valueType:"currency"},{no:"4",desc:"Gider Planlamasi",value:On,valueType:"currency"},{no:"",desc:"Gelir - Gider Farki",value:wi,valueType:"currency"},{no:"5",desc:"Tahsil Edilemeyecek Gelirler (Onceki Donemin Tahsil Edilemeyen yuzdelik rakami)",value:jn,valueType:"currency"},{no:"6",desc:"Giderlerin Sapma Yuzdeligi (%... Olarak Hesaplanabilir)",value:null===Ge||void 0===Ge?void 0:Ge.expenseDeviationPct,valueType:"percent"},{no:"7",desc:"Burs ve Indirim Giderleri (Fizibilite-G71)",value:si,valueType:"currency"},{no:"",desc:"Ogrenci Basina Maliyet (Tum Giderler (Parametre 4 / Planlanan Ogrenci Sayisi))",value:Ci,valueType:"currency"},{no:"8",desc:"Rakip Kurumlarin Analizi (VAR / YOK)",value:pi?"VAR":"YOK"},{no:"",desc:"Planlanan Donem Egitim Ucretleri Artis Orani",value:hi,valueType:"percent"},{no:"9",desc:"Yerel Mevzuatta uygunluk (yasal azami artis, Protokol Sinirliliklari, Son 3 yilin resmi enflasyon orn.)",value:null},{no:"10",desc:"Mevcut Egitim Sezonu Ucreti (ortalama)",value:bi,valueType:"currency"},{no:"",desc:"Nihai Ucret",value:ki,valueType:"currency"}],Ei=(()=>{const e=[{name:"IK Giderleri (Turk Personel)",amount:xn,targetPct:.15},{name:"IK (Yerel Personel)",amount:kn,targetPct:.45},{name:"Isletme Giderleri",amount:wn},{name:"Yemek (Ogrenci Yemegi)",amount:pn.yemek},{name:"Uniforma",amount:pn.uniforma},{name:"Kitap- Kirtasiye",amount:pn.kitapKirtasiye},{name:"Ogrenci Servisi",amount:pn.ulasimServis},{name:"Yurt Giderleri",amount:fn.total},{name:"Indirimler",amount:li,targetPct:.08},{name:"Burslar",amount:ai,targetPct:.05},{name:"Tahsil Edilemeyecek Gelirler",amount:jn,targetPct:.02}],t=e.reduce((e,t)=>Number.isFinite(Number(t.amount))?e+Number(t.amount):e,0),n=t;return e.map(e=>m(m({},e),{},{ratio:Number.isFinite(Number(e.amount))&&n?ib(e.amount,n):null}))})(),Ai=(null===Te||void 0===Te?void 0:Te.local_currency_code)||(null===Ce||void 0===Ce?void 0:Ce.local_currency_code)||null,_i={realized_fx_usd_to_local:Fe?Oe:null,planned_fx_usd_to_local:De>0?De:null,local_currency_code:Ai};return{currencyCode:"USD",headerLabel:Be,academicStartYear:fi,programType:ut,periodStartDate:(null===Ye||void 0===Ye?void 0:Ye.egitimBaslamaTarihi)||"",schoolCapacity:Qe,currentStudents:tt,compulsoryEducation:(null===Ye||void 0===Ye?void 0:Ye.zorunluEgitimDonemleri)||"",lessonDuration:null!==(ve=null===Ye||void 0===Ye?void 0:Ye.birDersSuresiDakika)&&void 0!==ve?ve:null,dailyLessonHours:null!==(ge=null===Ye||void 0===Ye?void 0:Ye.gunlukDersSaati)&&void 0!==ge?ge:null,weeklyLessonHours:null!==(be=null===Ye||void 0===Ye?void 0:Ye.haftalikDersSaatiToplam)&&void 0!==be?be:null,shiftSystem:ct,teacherWeeklyHoursAvg:null!==(xe=null===Ye||void 0===Ye?void 0:Ye.ogretmenHaftalikDersOrt)&&void 0!==xe?xe:null,classroomUtilization:it,transitionExamInfo:(null===Ye||void 0===Ye?void 0:Ye.gecisSinaviBilgisi)||"",tuitionTable:Ft,parameters:Ti,capacity:{buildingCapacity:Qe,currentStudents:tt,plannedStudents:at,plannedUtilization:st,plannedBranches:lt,totalBranches:nt,usedBranches:nt,avgStudentsPerClass:ib(tt,nt),avgStudentsPerClassPlanned:ot},hr:Nn,revenues:$t,revenuesMeta:{nonEducationBreakdown:Zt,otherIncomeBreakdown:Jt},expenses:Fn,scholarships:Un,discounts:Yn,discountAnalysis:mi,performance:ni,performanceMeta:_i,competitors:ri,revenuesDetailed:Xt,revenuesDetailedTotal:Qt,revenueTotal:Si,expenseTotal:On,netTotal:wi,avgTuition:Lt,margin:Ni,parametersMeta:{expenseDeviationPct:null===Ge||void 0===Ge?void 0:Ge.expenseDeviationPct,currentSeasonAvgFeeUsd:bi,perStudentCost:Ci,plannedRaiseAvg:hi,scholarshipsAndDiscountsTotal:si,uncollectableRevenuePct:ji,uncollectableExpenseAmount:Sn,inflationHistory:vi,inflationYears:yi,inflationBaseYear:fi,competitorStatus:pi?"VAR":"YOK",finalFeeUsd:ki,serviceCosts:pn,dormCosts:fn,hrTurkCost:xn,hrYerelCost:kn,detailedExpenses:Ei,detailedExpenseTotal:Ei.reduce((e,t)=>Number.isFinite(Number(t.amount))?e+Number(t.amount):e,0),discountAnalysis:mi}}}function fb(e){const t=Number(e);return Number.isFinite(t)}function yb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!fb(e))return"\u2014";const n=Number(e),{maximumFractionDigits:i=0,minimumFractionDigits:r=0,style:a,currency:l}=t;try{return new Intl.NumberFormat("tr-TR",{maximumFractionDigits:i,minimumFractionDigits:r,style:a,currency:l}).format(n)}catch(Bb){return String(n)}}function vb(e,t){if(!fb(e))return"\u2014";const n=String(t||"").trim();return yb(e,n?{style:"currency",currency:n,maximumFractionDigits:0}:{maximumFractionDigits:0})}function gb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return fb(e)?yb(100*Number(e),{maximumFractionDigits:t,minimumFractionDigits:0})+"%":"\u2014"}const bb={textAlign:"right"};function xb(e){return fb(e)?yb(e,{maximumFractionDigits:0,minimumFractionDigits:0}):"\u2014"}function kb(e,t){var n,i;return e&&"object"===typeof e?m(m({},e),{},{amount:fb(e.amount)?t(e.amount):null!==(n=e.amount)&&void 0!==n?n:"\u2014",ratio:fb(e.ratio)?gb(e.ratio,0):null!==(i=e.ratio)&&void 0!==i?i:"\u2014"}):e}function jb(e,t){var n,i,r;return e&&"object"===typeof e?m(m({},e),{},{cur:fb(e.cur)?xb(e.cur):null!==(n=e.cur)&&void 0!==n?n:"\u2014",planned:fb(e.planned)?xb(e.planned):null!==(i=e.planned)&&void 0!==i?i:"\u2014",cost:fb(e.cost)?t(e.cost):null!==(r=e.cost)&&void 0!==r?r:"\u2014"}):e}const Sb=[{key:"okulOncesi",match:"okul oncesi"},{key:"ilkokul",match:"ilkokul"},{key:"ortaokul",match:"ortaokul"},{key:"lise",match:"lise"}];function wb(e){const t=String((null===e||void 0===e?void 0:e.key)||"").trim();if(t)return t;const n=(i=null===e||void 0===e?void 0:e.level,String(i||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9 ]/gi," ").toLowerCase());var i;if(!n)return null;for(const r of Sb)if(n.includes(r.match))return"okulOncesi"===r.key?"okulOncesi":n.includes("yerel")?"".concat(r.key,"Yerel"):n.includes("int")||n.includes("international")?"".concat(r.key,"Int"):null;return null}function Nb(e){let{title:t,children:n,subtitle:i}=e;return(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:6},children:t}),i?(0,oa.jsx)("div",{className:"small",style:{marginBottom:10},children:i}):null,n]})}function Cb(e){let{columns:t,rows:n}=e;return(0,oa.jsxs)("table",{className:"table",style:{width:"100%"},children:[(0,oa.jsx)("thead",{children:(0,oa.jsx)("tr",{children:t.map(e=>(0,oa.jsx)("th",{style:e.thStyle,children:e.label},e.key))})}),(0,oa.jsx)("tbody",{children:n.length?n.map((e,n)=>(0,oa.jsx)("tr",{children:t.map(t=>(0,oa.jsx)("td",{style:t.tdStyle,children:e[t.key]},t.key))},e.key||n)):(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:t.length,className:"small",children:"Veri yok."})})})]})}function Tb(e){let{label:t,value:n,hint:i}=e;return(0,oa.jsxs)("div",{style:{padding:12,borderRadius:12,border:"1px solid rgba(0,0,0,0.08)"},children:[(0,oa.jsx)("div",{className:"small",style:{opacity:.8,marginBottom:6},children:t}),(0,oa.jsx)("div",{style:{fontWeight:900,fontSize:18,lineHeight:1.15},children:n}),i?(0,oa.jsx)("div",{className:"small",style:{opacity:.75,marginTop:6},children:i}):null]})}function Eb(e){var t,n,i,a,l;const{school:s,scenario:o,mode:c="detailed",inputs:u,report:d,prevReport:h,prevCurrencyMeta:p,programType:f,reportCurrency:y="usd",currencyMeta:v}=e||{},g=(0,r.useMemo)(()=>pb({school:s,scenario:o,inputs:u,report:d,prevReport:h,prevCurrencyMeta:p,currencyMeta:v,programType:f}),[s,o,u,d,h,p,v,f]),b=(0,r.useMemo)(()=>f||Jl(u,o),[f,u,o]),x=(0,r.useMemo)(()=>{if(g.headerLabel)return g.headerLabel;const e=(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.school_name)||"Okul",t=(null===o||void 0===o?void 0:o.academic_year)||"";return[e,(null===o||void 0===o?void 0:o.name)||"",t].filter(Boolean).join(" \u203a ")},[g.headerLabel,s,o]),k=g.currencyCode||"USD",j=Number((null===v||void 0===v?void 0:v.fx_usd_to_local)||0),S="LOCAL"===(null===v||void 0===v?void 0:v.input_currency)&&j>0&&(null===v||void 0===v?void 0:v.local_currency_code),w="local"===y&&S,N=(null===v||void 0===v?void 0:v.local_currency_code)||"LOCAL",C=w?N:k,T=(0,r.useCallback)(e=>{const t=Number(e);return Number.isFinite(t)?w?t*j:t:e},[w,j]),E=(0,r.useCallback)(e=>vb(T(e),C),[T,C]),A=g.performanceMeta||{},_=Number(A.realized_fx_usd_to_local||0),P=Number(A.planned_fx_usd_to_local||0),M=A.local_currency_code||N||"LOCAL",L=_>0,R=w,O=R&&(P>0?P:L?_:null),F=R&&L?_:null,D=R?M:k,I=R?N:k,B=R&&!O,z=R&&!F,U=(0,r.useCallback)(e=>{const t=Number(e);return Number.isFinite(t)?R?O?vb(t*O,D):"\u2014":vb(t,D):"\u2014"},[R,O,D]),Y=(0,r.useCallback)(e=>{const t=Number(e);return Number.isFinite(t)?R?F?vb(t*F,I):"\u2014":vb(t,I):"\u2014"},[R,F,I]),K=R&&(B||z)?"\xd6nceki d\xf6nem USD kar\u015f\u0131la\u015ft\u0131rmas\u0131 i\xe7in ortalama kur girilmelidir.":null,W=(0,r.useCallback)(e=>{const t=Number(e);return Number.isFinite(t)?"local"===y&&S?vb(t*j,N):vb(t,k):"?"},[y,S,j,N,k]),H=(0,r.useMemo)(()=>[{k:"E\u011fitim \xd6\u011fretim D\xf6neminin Ba\u015flama Tarihi",v:g.periodStartDate||"\u2014"},{k:"Okul Kapasitesi",v:fb(g.schoolCapacity)?yb(g.schoolCapacity):"\u2014"},{k:"Mevcut \xd6\u011frenci Say\u0131s\u0131",v:fb(g.currentStudents)?yb(g.currentStudents):"\u2014"},{k:"Zorunlu E\u011fitim D\xf6nemleri",v:g.compulsoryEducation||"\u2014"},{k:"Bir Ders S\xfcresi",v:g.lessonDuration||"\u2014"},{k:"G\xfcnl\xfck Ders Saati",v:g.dailyLessonHours||"\u2014"},{k:"Haftal\u0131k Ders Saati Toplam\u0131 (Bir S\u0131n\u0131f\u0131n)",v:g.weeklyLessonHours||"\u2014"},{k:"Okulda Sabah\xe7\u0131 / \xd6\u011flenci Uygulamas\u0131",v:g.shiftSystem||"\u2014"},{k:"\xd6\u011fretmen Haftal\u0131k Ders Saati Ortalamas\u0131",v:g.teacherWeeklyHoursAvg||"\u2014"},{k:"Fiili Derslik Kullan\u0131m Y\xfczdeli\u011fi (\xf6\u011frenci say\u0131s\u0131/s\u0131n\u0131f say\u0131s\u0131)",v:fb(g.classroomUtilization)?yb(g.classroomUtilization,{maximumFractionDigits:2}):"\u2014"},{k:"Kademeler Aras\u0131nda Ge\xe7i\u015f S\u0131nav\u0131 (Varsa) Bilgileri",v:g.transitionExamInfo||"\u2014"},{k:"Okulda Uygulanan Program (ulusal, uluslararas\u0131)",v:g.programType||"\u2014"}].map((e,t)=>m({key:String(t)},e)),[g]),V=(0,r.useMemo)(()=>{const e=g.tuitionTable||[];return Array.isArray(e)&&e.length?e:[{level:"Okul \xd6ncesi",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"\u0130lkokul - YEREL",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"\u0130lkokul - INT.",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"Ortaokul - YEREL",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"Ortaokul - INT.",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"Lise - YEREL",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"Lise - INT.",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"TOPLAM",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"},{level:"ORTALAMA \xdcCRET",edu:"\u2014",uniform:"\u2014",books:"\u2014",transport:"\u2014",meal:"\u2014",raisePct:"\u2014",total:"\u2014"}]},[g]),G=(0,r.useMemo)(()=>V.filter(e=>function(e,t){const n=wb(e);return!n||es(n,t)}(e,b)),[V,b]),q=(0,r.useMemo)(()=>G.map(e=>function(e,t){var n,i,r,a,l,s,o;return e&&"object"===typeof e?m(m({},e),{},{edu:fb(e.edu)?t(e.edu):null!==(n=e.edu)&&void 0!==n?n:"\u2014",uniform:fb(e.uniform)?t(e.uniform):null!==(i=e.uniform)&&void 0!==i?i:"\u2014",books:fb(e.books)?t(e.books):null!==(r=e.books)&&void 0!==r?r:"\u2014",transport:fb(e.transport)?t(e.transport):null!==(a=e.transport)&&void 0!==a?a:"\u2014",meal:fb(e.meal)?t(e.meal):null!==(l=e.meal)&&void 0!==l?l:"\u2014",raisePct:fb(e.raisePct)?gb(e.raisePct,0):null!==(s=e.raisePct)&&void 0!==s?s:"\u2014",total:fb(e.total)?t(e.total):null!==(o=e.total)&&void 0!==o?o:"\u2014"}):e}(e,E)),[G,E]),$=(0,r.useMemo)(()=>{const e=g.parameters||[];return Array.isArray(e)&&e.length?e:[{no:"1",desc:"Planlanan D\xf6nem Kapasite Kullan\u0131m Oran\u0131 (%)",value:"\u2014"},{no:"2",desc:"\u0130nsan Kaynaklar\u0131 Planlamas\u0131 (T\xfcrk + Yerel + International)",value:"\u2014"},{no:"3",desc:"Gelir Planlamas\u0131",value:"\u2014"},{no:"4",desc:"Gider Planlamas\u0131",value:"\u2014"},{no:"",desc:"Gelir - Gider Fark\u0131",value:"\u2014"},{no:"5",desc:"Tahsil Edilemeyecek Gelirler (\xd6nceki D\xf6nemin Tahsil Edilemeyen y\xfczdelik rakam\u0131)",value:"\u2014"},{no:"6",desc:"Giderlerin Sapma Y\xfczdeli\u011fi (%... Olarak Hesaplanabilir)",value:"\u2014"},{no:"7",desc:"Burs ve \u0130ndirim Giderleri (Fizibilite-G71)",value:"\u2014"},{no:"",desc:"\xd6\u011frenci Ba\u015f\u0131na Maliyet (T\xfcm Giderler (Parametre 4 / Planlanan \xd6\u011frenci Say\u0131s\u0131))",value:"\u2014"},{no:"8",desc:"Rakip Kurumlar\u0131n Analizi (VAR / YOK)",value:"\u2014"},{no:"",desc:"Planlanan D\xf6nem E\u011fitim \xdccretleri Art\u0131\u015f Oran\u0131",value:"\u2014"},{no:"9",desc:"Yerel Mevzuatta uygunluk (yasal azami art\u0131\u015f, Protokol S\u0131n\u0131rl\u0131l\u0131klar\u0131, Son 3 y\u0131l\u0131n resmi enflasyon orn.)",value:"\u2014"},{no:"10",desc:"Mevcut E\u011fitim Sezonu \xdccreti (ortalama)",value:"\u2014"},{no:"",desc:"Nihai \xdccret",value:"\u2014"}]},[g.parameters]),X=(0,r.useCallback)(e=>{if(!e)return"\u2014";const{value:t,valueType:n}=e;if("string"===typeof t&&!n)return t;if(null==t)return"\u2014";switch(n){case"percent":return gb(t);case"currency":return E(t);case"number":return yb(t);default:return"string"===typeof t?t:fb(t)?yb(t):"\u2014"}},[E]),Q=null===(t=g.parametersMeta)||void 0===t?void 0:t.inflationYears,Z=(0,r.useMemo)(()=>{var e;return(null===(e=g.parametersMeta)||void 0===e?void 0:e.inflationHistory)||{}},[null===(n=g.parametersMeta)||void 0===n?void 0:n.inflationHistory]),J=Number(null===(i=g.parametersMeta)||void 0===i?void 0:i.inflationBaseYear),ee=(0,r.useMemo)(()=>{if(Array.isArray(Q)&&3===Q.length)return Q.map(e=>({year:Number.isFinite(null===e||void 0===e?void 0:e.year)?Number(e.year):null,value:null===e||void 0===e?void 0:e.value}));if(Number.isFinite(J)){return[J-3,J-2,J-1].map(e=>({year:e,value:Z["y".concat(e)]}))}return[]},[Q,Z,J]),te=ee.map(e=>e.year?"".concat(e.year," y\u0131l\u0131 oran"):""),ne=ee.map(e=>e.value),ie=(0,r.useMemo)(()=>{const e=[];return $.forEach((t,n)=>{((t,n)=>{e.push({key:t.key||"param-".concat(n),cells:[{content:t.no,colSpan:1},{content:t.desc,colSpan:4},{content:X(t),colSpan:1,align:"right"}]})})(t,n),"9"===String(t.no||"")&&(e.push({key:"param-inflation-head",cells:[{content:"",colSpan:1},{content:"Son 3 Y\u0131l\u0131n Resmi Enflasyon Oranlar\u0131",colSpan:1},{content:te[0],colSpan:1,align:"center"},{content:te[1],colSpan:1,align:"center"},{content:te[2],colSpan:1,align:"center"},{content:"",colSpan:1}]}),e.push({key:"param-inflation-values",cells:[{content:"",colSpan:1},{content:"",colSpan:1},{content:X({value:ne[0],valueType:"percent"}),colSpan:1,align:"center"},{content:X({value:ne[1],valueType:"percent"}),colSpan:1,align:"center"},{content:X({value:ne[2],valueType:"percent"}),colSpan:1,align:"center"},{content:"",colSpan:1}]}))}),e},[$,te,ne,X]),re=(0,r.useMemo)(()=>{const e=g.capacity||{};return[{k:"Bina \xd6\u011frenci Kapasitesi",v:fb(e.buildingCapacity)?yb(e.buildingCapacity):"\u2014"},{k:"Mevcut \xd6\u011frenci Say\u0131s\u0131",v:fb(e.currentStudents)?yb(e.currentStudents):"\u2014"},{k:"Planlanan \xd6\u011frenci Say\u0131s\u0131",v:fb(e.plannedStudents)?yb(e.plannedStudents):"\u2014"},{k:"Planlanan Kapasite Kullan\u0131m\u0131 %",v:fb(e.plannedUtilization)?gb(e.plannedUtilization,2):"\u2014"}]},[g]),ae=(0,r.useMemo)(()=>{const e=g.capacity||{},t=fb(e.plannedStudents)&&fb(e.plannedBranches)&&0!==Number(e.plannedBranches)?Number(e.plannedStudents)/Number(e.plannedBranches):e.avgStudentsPerClassPlanned;return[{k:"Binadaki Toplam \u015eube (Derslik) Say\u0131s\u0131",v:fb(e.totalBranches)?yb(e.totalBranches):"\u2014"},{k:"Mevcut D\xf6nemde Kullan\u0131lan \u015eube (Derslik) Say\u0131s\u0131",v:fb(e.usedBranches)?yb(e.usedBranches):"\u2014"},{k:"Planlanan \u015eube (Derslik) Say\u0131s\u0131",v:fb(e.plannedBranches)?yb(e.plannedBranches):"\u2014"},{k:"S\u0131n\u0131f Ba\u015f\u0131na D\xfc\u015fen Ort. \xd6\u011frenci Say\u0131s\u0131",v:fb(t)?yb(t,{maximumFractionDigits:2}):"\u2014"}]},[g]),le=(0,r.useMemo)(()=>{const e=g.hr||[];return Array.isArray(e)&&e.length?e:[{item:"T\xfcrk Personel Y\xf6netici ve E\u011fitimci Say\u0131s\u0131",current:"\u2014",planned:"\u2014"},{item:"T\xfcrk Personel Temsilcilik Personeli Say\u0131s\u0131",current:"\u2014",planned:"\u2014"},{item:"Yerel Kadrolu E\u011fitimci Personel Say\u0131s\u0131",current:"\u2014",planned:"\u2014"},{item:"Yerel \xdccretli (Vakater) E\u011fitimci Personel Say\u0131s\u0131",current:"\u2014",planned:"\u2014"},{item:"Yerel Destek Personel Say\u0131s\u0131",current:"\u2014",planned:"\u2014"},{item:"Yerel Personel Temsilcilik Personeli Say\u0131s\u0131",current:"\u2014",planned:"\u2014"},{item:"International Personel Say\u0131s\u0131",current:"\u2014",planned:"\u2014"}]},[g]),se=(0,r.useMemo)(()=>{const e=g.revenues||[];return Array.isArray(e)&&e.length?e:[{name:"E\u011fitim \xdccreti",amount:"\u2014",ratio:"\u2014"},{name:"\xdcniforma",amount:"\u2014",ratio:"\u2014"},{name:"Kitap K\u0131rtasiye",amount:"\u2014",ratio:"\u2014"},{name:"Yemek",amount:"\u2014",ratio:"\u2014"},{name:"Servis",amount:"\u2014",ratio:"\u2014"},{name:"Yurt Gelirleri",amount:"\u2014",ratio:"\u2014"},{name:"Di\u011fer (kantin, kira vb.)",amount:"\u2014",ratio:"\u2014"}]},[g]),oe=(0,r.useMemo)(()=>{const e=g.expenses||[];return Array.isArray(e)&&e.length?e:[{name:"IK Giderleri (T\xfcrk Personel)",amount:"\u2014",ratio:"\u2014"},{name:"IK (Yerel Personel)",amount:"\u2014",ratio:"\u2014"},{name:"\u0130\u015fletme Giderleri",amount:"\u2014",ratio:"\u2014"},{name:"Yemek (\xd6\u011frenci Yeme\u011fi)",amount:"\u2014",ratio:"\u2014"},{name:"\xdcniforma",amount:"\u2014",ratio:"\u2014"},{name:"Kitap- K\u0131rtasiye",amount:"\u2014",ratio:"\u2014"},{name:"\xd6\u011frenci Servisi",amount:"\u2014",ratio:"\u2014"}]},[g]),ce=(0,r.useMemo)(()=>se.map(e=>kb(e,E)),[se,E]),ue=(0,r.useMemo)(()=>g.revenuesDetailed||[],[g.revenuesDetailed]),de=Number.isFinite(Number(g.revenuesDetailedTotal))&&Number(g.revenuesDetailedTotal)>0?Number(g.revenuesDetailedTotal):null,me=(0,r.useMemo)(()=>{const e=ue.filter(e=>Number.isFinite(e.amount)&&0!==Number(e.amount)),t=de||e.reduce((e,t)=>Number.isFinite(t.amount)?e+Number(t.amount):e,0);if(!e.length||!Number.isFinite(t)||0===t)return null;const n=e.map((e,n)=>{const i=Number.isFinite(e.amount)&&t?e.amount/t:null;return{key:e.name||n,name:e.name,amount:E(e.amount),ratio:Number.isFinite(i)?gb(i,2):"\u2014"}});return{rows:n,total:E(t)}},[ue,de,E]),he=(0,r.useMemo)(()=>{var e;return(null===(e=g.parametersMeta)||void 0===e?void 0:e.detailedExpenses)||[]},[null===(a=g.parametersMeta)||void 0===a?void 0:a.detailedExpenses]),pe=Number(null===(l=g.parametersMeta)||void 0===l?void 0:l.detailedExpenseTotal)||Number(g.expenseTotal)||0,fe=(0,r.useMemo)(()=>oe.map(e=>kb(e,E)),[oe,E]),ye=(0,r.useMemo)(()=>{if(!Array.isArray(he)||!he.length)return null;const e=pe||he.reduce((e,t)=>Number.isFinite(t.amount)?e+Number(t.amount):e,0),t=he.map((t,n)=>{const i=null!=t.ratio?t.ratio:Number.isFinite(t.amount)&&e>0?Number(t.amount)/e:null,r=Number.isFinite(t.targetPct)&&Number.isFinite(i)&&i>t.targetPct;return{key:t.name||n,name:t.name,amount:Number.isFinite(t.amount)?E(t.amount):"\u2014",ratio:Number.isFinite(i)?gb(i,2):"\u2014",targetLabel:Number.isFinite(t.targetPct)?"(Hedeflenen Maliyet ".concat(gb(t.targetPct,0),")"):"",highlight:r}});return{rows:t,total:e>0?E(e):"\u2014"}},[he,pe,E]),ve=g.discountAnalysis||{},ge=(0,r.useMemo)(()=>ve.scholarships||{},[ve.scholarships]),be=(0,r.useMemo)(()=>ve.discounts||{},[ve.discounts]),xe=[{key:"label",label:"",thStyle:{width:240}},{key:"value",label:"",thStyle:{width:140,textAlign:"right"},tdStyle:bb}],ke=(0,r.useCallback)(e=>Number.isFinite(Number(e))?E(e):"\u2014",[E]),je=(0,r.useCallback)(e=>Number.isFinite(Number(e))?gb(e,0):"\u2014",[]),Se=(0,r.useMemo)(()=>[{key:"sch-per-target",label:"Toplam Burs Hedeflenen \xd6\u011frenci Say\u0131s\u0131na B\xf6l\xfcm\xfc",value:ke(ge.perTargetStudent)},{key:"sch-student-share",label:"Burs \xd6\u011frencilerin Toplam \xd6\u011frenci i\xe7indeki %",value:je(ge.studentShare)},{key:"sch-revenue-share",label:"Burs Velilerden Al\u0131nan \xd6\u011frenci Gelirleri i\xe7indeki %",value:je(ge.revenueShare)},{key:"sch-weighted",label:"A\u011f\u0131rl\u0131kl\u0131 Burs Ortalamas\u0131 %",value:je(ge.weightedAvgRate)}],[ge,ke,je]),we=(0,r.useMemo)(()=>[{key:"disc-per-target",label:"Toplam \u0130ndirimlerin Hedeflenen \xd6\u011frenci Say\u0131s\u0131na B\xf6l\xfcm\xfc",value:ke(be.perTargetStudent)},{key:"disc-student-share",label:"\u0130ndirimli \xd6\u011frencilerin Toplam \xd6\u011frenci i\xe7indeki %",value:je(be.studentShare)},{key:"disc-revenue-share",label:"\u0130ndirimlerin Velilerden Al\u0131nan \xd6\u011frenci Gelirleri i\xe7indeki %",value:je(be.revenueShare)},{key:"disc-weighted",label:"A\u011f\u0131rl\u0131kl\u0131 \u0130ndirim Ortalamas\u0131 %",value:je(be.weightedAvgRate)}],[be,ke,je]),Ne=(0,r.useMemo)(()=>{const e=g.scholarships||[];return Array.isArray(e)&&e.length?e:[{name:"MAG\u0130S Ba\u015far\u0131 Bursu",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Maarif Yetenek Bursu",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"\u0130htiya\xe7 Bursu",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Okul Ba\u015far\u0131 Bursu",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Tam E\u011fitim Bursu",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Bar\u0131nma Bursu",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"T\xfcrk\xe7e Ba\u015far\u0131 Bursu",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Toplam",cur:"\u2014",planned:"\u2014",cost:"\u2014"}]},[g]),Ce=(0,r.useMemo)(()=>{const e=g.discounts||[];return Array.isArray(e)&&e.length?e:[{name:"Vakf\u0131n Uluslararas\u0131 Y\xfck\xfcml\xfcl\xfcklerinden Kaynakl\u0131 \u0130ndirim",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Vak\u0131f \xc7al\u0131\u015fan\u0131 \u0130ndirimi",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Karde\u015f \u0130ndirimi",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Erken Kay\u0131t \u0130ndirimi",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Pe\u015fin \xd6deme \u0130ndirimi",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Kademe Ge\xe7i\u015f \u0130ndirimi",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Temsil \u0130ndirimi",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Kurum \u0130ndirimi",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"\u0130stisnai \u0130ndirim",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Yerel Mevzuat\u0131n \u015eart Ko\u015ftu\u011fu \u0130ndirim",cur:"\u2014",planned:"\u2014",cost:"\u2014"},{name:"Toplam",cur:"\u2014",planned:"\u2014",cost:"\u2014"}]},[g]),Te=(0,r.useMemo)(()=>Ne.map(e=>jb(e,E)),[Ne,E]),Ee=(0,r.useMemo)(()=>Ce.map(e=>jb(e,E)),[Ce,E]),Ae=(0,r.useMemo)(()=>{const e=Ne.reduce((e,t)=>{const n=fb(t.cur)?Number(t.cur):0,i=fb(t.planned)?Number(t.planned):0,r=fb(t.cost)?Number(t.cost):0;return{cur:e.cur+n,planned:e.planned+i,cost:e.cost+r}},{cur:0,planned:0,cost:0});return{cur:xb(e.cur),planned:xb(e.planned),cost:E(e.cost)}},[Ne,E]),_e=(0,r.useMemo)(()=>{const e=Ce.reduce((e,t)=>{const n=fb(t.cur)?Number(t.cur):0,i=fb(t.planned)?Number(t.planned):0,r=fb(t.cost)?Number(t.cost):0;return{cur:e.cur+n,planned:e.planned+i,cost:e.cost+r}},{cur:0,planned:0,cost:0});return{cur:xb(e.cur),planned:xb(e.planned),cost:E(e.cost)}},[Ce,E]),Pe=(0,r.useMemo)(()=>{const e=Array.isArray(g.performance)?g.performance:[],t=(e,t,n)=>fb(e)?"int"===t?xb(e):"money"===t?n(e):"pct"===t?gb(e):yb(e):"\u2014";return e.length?e.map(e=>{const n=e.metric,i="Ogrenci Sayisi"===n?"int":"Gelirler"===n||"Giderler"===n||"Burs ve Indirimler"===n||"Kar Zarar"===n?"money":"number";return{metric:n,planned:t(e.planned,i,U),actual:t(e.actual,i,Y),variance:(r=e.variance,fb(r)?gb(r):"\u2014")};var r}):[{metric:"Ogrenci Sayisi",planned:"\u2014",actual:"\u2014",variance:"\u2014"},{metric:"Gelirler",planned:"\u2014",actual:"\u2014",variance:"\u2014"},{metric:"Giderler",planned:"\u2014",actual:"\u2014",variance:"\u2014"},{metric:"Kar Zarar",planned:"\u2014",actual:"\u2014",variance:"\u2014"},{metric:"Burs ve Indirimler",planned:"\u2014",actual:"\u2014",variance:"\u2014"}]},[g,U,Y]),Me=(0,r.useMemo)(()=>{const e=g.competitors||[];return Array.isArray(e)&&e.length?e:[{level:"Okul \xd6ncesi",a:"\u2014",b:"\u2014",c:"\u2014"},{level:"\u0130lkokul",a:"\u2014",b:"\u2014",c:"\u2014"},{level:"Ortaokul",a:"\u2014",b:"\u2014",c:"\u2014"},{level:"Lise",a:"\u2014",b:"\u2014",c:"\u2014"}]},[g]),Le=(0,r.useMemo)(()=>Me.map(e=>{var t,n,i;return m(m({},e),{},{a:fb(e.a)?E(e.a):null!==(t=e.a)&&void 0!==t?t:"-",b:fb(e.b)?E(e.b):null!==(n=e.b)&&void 0!==n?n:"-",c:fb(e.c)?E(e.c):null!==(i=e.c)&&void 0!==i?i:"-"})}),[Me,E]),Re=(0,r.useMemo)(()=>{var e,t,n,i,r;const a=null!==(e=g.currentStudents)&&void 0!==e?e:null===(t=g.capacity)||void 0===t?void 0:t.currentStudents,l=null!==(n=g.schoolCapacity)&&void 0!==n?n:null===(i=g.capacity)||void 0===i?void 0:i.buildingCapacity,s=null===(r=g.capacity)||void 0===r?void 0:r.plannedUtilization,o=g.revenueTotal,c=g.expenseTotal,u=fb(o)&&fb(c)?Number(o)-Number(c):null,d=fb(o)&&fb(u)&&0!==Number(o)?Number(u)/Number(o):null,m=g.avgTuition;return[{label:"Mevcut \xd6\u011frenci",value:fb(a)?yb(a):"\u2014"},{label:"Kapasite",value:fb(l)?yb(l):"\u2014"},{label:"Kapasite Kullan\u0131m %",value:fb(s)?gb(s):"\u2014"},{label:"Ortalama \xdccret",value:fb(m)?W(m):"\u2014"},{label:"Toplam Gelir",value:fb(o)?W(o):"\u2014"},{label:"Toplam Gider",value:fb(c)?W(c):"\u2014"},{label:"Net",value:fb(u)?W(u):"\u2014"},{label:"Marj",value:fb(d)?gb(d):"\u2014"}]},[g,W]);return"onepager"===String(c||"detailed").toLowerCase()?(0,oa.jsxs)("div",{children:[(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"flex-start"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:900,fontSize:18},children:"Detayl\u0131 Rapor \xb7 Tek Sayfa \xd6zet"}),(0,oa.jsx)("div",{className:"small",style:{marginTop:2},children:x||""})]}),(0,oa.jsxs)("div",{className:"small",style:{textAlign:"right",opacity:.8},children:[(0,oa.jsxs)("div",{children:["G\xf6r\xfcn\xfcm: ",(0,oa.jsx)("b",{children:"\xd6zet"})]}),(0,oa.jsx)("div",{children:"\u015eimdilik iskelet (UI), veri ba\u011flama sonraki ad\u0131m."})]})]}),(0,oa.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:10,marginTop:12},children:Re.map(e=>(0,oa.jsx)(Tb,{label:e.label,value:e.value,hint:e.hint},e.label))}),(0,oa.jsx)("div",{className:"small",style:{marginTop:12,opacity:.85,lineHeight:1.35},children:"Bu g\xf6r\xfcn\xfcm, y\xf6netici/komisyon i\xe7in h\u0131zl\u0131 kontrol ama\xe7l\u0131 \u201ctek sayfa\u201d \xf6zetidir. Detayl\u0131 Excel RAPOR d\xfczeni i\xe7in \u201cDetayl\u0131\u201d g\xf6r\xfcn\xfcm\xfc se\xe7ebilirsiniz."})]}),(0,oa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12},children:[(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:8},children:"\xdccret \xd6zeti"}),(0,oa.jsx)(Cb,{columns:[{key:"level",label:"Kademe"},{key:"edu",label:"E\u011fitim",thStyle:{width:140,textAlign:"right"},tdStyle:bb},{key:"total",label:"Toplam",thStyle:{width:140,textAlign:"right"},tdStyle:bb}],rows:q.filter(e=>!/TOPLAM|ORTALAMA/i.test(String(e.level||""))).slice(0,7).map((e,t)=>({key:String(t),level:e.level,edu:e.edu,total:e.total}))}),(0,oa.jsx)("div",{className:"small",style:{marginTop:8,opacity:.8},children:"Not: Paket \xfccretler ve art\u0131\u015f oranlar\u0131 bir sonraki ad\u0131mda otomatik ba\u011flanacak."})]}),(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:8},children:"\u0130K \xd6zeti"}),(0,oa.jsx)(Cb,{columns:[{key:"item",label:"Kalem"},{key:"planned",label:"Plan",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:le.slice(0,7).map((e,t)=>({key:String(t),item:e.item,planned:e.planned}))}),(0,oa.jsx)("div",{className:"small",style:{marginTop:8,opacity:.8},children:"Not: Mevcut/plan kar\u015f\u0131la\u015ft\u0131rmas\u0131 detayl\u0131 g\xf6r\xfcn\xfcmde."})]})]}),(0,oa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12},children:[(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:8},children:"Gelir Da\u011f\u0131l\u0131m\u0131"}),(0,oa.jsx)(Cb,{columns:[{key:"name",label:"Gelir"},{key:"amount",label:"Tutar",thStyle:{width:160,textAlign:"right"},tdStyle:bb},{key:"ratio",label:"%",thStyle:{width:70,textAlign:"right"},tdStyle:bb}],rows:ce.slice(0,7).map((e,t)=>m({key:String(t)},e))})]}),(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:8},children:"Gider Da\u011f\u0131l\u0131m\u0131"}),(0,oa.jsx)(Cb,{columns:[{key:"name",label:"Gider"},{key:"amount",label:"Tutar",thStyle:{width:160,textAlign:"right"},tdStyle:bb},{key:"ratio",label:"%",thStyle:{width:70,textAlign:"right"},tdStyle:bb}],rows:fe.slice(0,7).map((e,t)=>m({key:String(t)},e))})]})]}),(0,oa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12},children:[(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:8},children:"Burslar"}),(0,oa.jsx)(Cb,{columns:[{key:"name",label:"Burs"},{key:"planned",label:"Plan",thStyle:{width:90,textAlign:"right"},tdStyle:bb},{key:"cost",label:"Maliyet",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:Te.slice(0,8).map((e,t)=>({key:String(t),name:e.name,planned:e.planned,cost:e.cost}))})]}),(0,oa.jsxs)("div",{className:"card",children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:8},children:"\u0130ndirimler"}),(0,oa.jsx)(Cb,{columns:[{key:"name",label:"\u0130ndirim"},{key:"planned",label:"Plan",thStyle:{width:90,textAlign:"right"},tdStyle:bb},{key:"cost",label:"Maliyet",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:Ee.slice(0,8).map((e,t)=>({key:String(t),name:e.name,planned:e.planned,cost:e.cost}))})]})]}),(0,oa.jsx)(Nb,{title:"Rakip Kurum (\xd6zet)",children:(0,oa.jsx)(Cb,{columns:[{key:"level",label:"Kademe"},{key:"a",label:"A",thStyle:{width:120,textAlign:"right"},tdStyle:bb},{key:"b",label:"B",thStyle:{width:120,textAlign:"right"},tdStyle:bb},{key:"c",label:"C",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:Le.map((e,t)=>m({key:String(t)},e))})}),(0,oa.jsxs)(Nb,{title:"Notlar",children:[(0,oa.jsxs)("div",{className:"small",style:{lineHeight:1.45},children:[(0,oa.jsx)("b",{children:"E."})," De\u011ferlendirme ve ",(0,oa.jsx)("b",{children:"F."})," Komisyon g\xf6r\xfc\u015fleri alanlar\u0131 bir sonraki ad\u0131mda role/izin bazl\u0131 ba\u011flanacakt\u0131r."]}),(0,oa.jsx)("div",{style:{marginTop:10,padding:12,border:"1px dashed rgba(0,0,0,0.25)",borderRadius:10,opacity:.85},children:(0,oa.jsx)("div",{className:"small",children:(0,oa.jsx)("i",{children:"Metin alan\u0131 (sonraki ad\u0131mda veri ba\u011flanacak)"})})})]})]}):(0,oa.jsxs)("div",{children:[(0,oa.jsx)(Nb,{title:"A. OKUL E\u011e\u0130T\u0130M B\u0130LG\u0130LER\u0130",children:(0,oa.jsx)(Cb,{columns:[{key:"k",label:"Bilgi"},{key:"v",label:"De\u011fer",thStyle:{width:240,textAlign:"right"},tdStyle:bb}],rows:H})}),(0,oa.jsx)(Nb,{title:"B. OKUL \xdcCRETLER\u0130 TABLOSU (YEN\u0130 E\u011e\u0130T\u0130M D\xd6NEM\u0130)",children:(0,oa.jsx)(Cb,{columns:[{key:"level",label:"Kademe"},{key:"edu",label:"E\u011fitim \xdccreti",thStyle:{textAlign:"right"},tdStyle:bb},{key:"uniform",label:"\xdcniforma",thStyle:{textAlign:"right"},tdStyle:bb},{key:"books",label:"Kitap K\u0131rtasiye",thStyle:{textAlign:"right"},tdStyle:bb},{key:"transport",label:"Ula\u015f\u0131m",thStyle:{textAlign:"right"},tdStyle:bb},{key:"meal",label:"Yemek (*)",thStyle:{textAlign:"right"},tdStyle:bb},{key:"raisePct",label:"Art\u0131\u015f Oran\u0131",thStyle:{textAlign:"right"},tdStyle:bb},{key:"total",label:"Total \xdccret",thStyle:{textAlign:"right"},tdStyle:bb}],rows:q.filter(e=>!/TOPLAM/i.test(String(e.level||""))).map((e,t)=>m({key:String(t)},e))})}),(0,oa.jsxs)(Nb,{title:"C. OKUL \xdcCRET\u0130 HESAPLAMA PARAMETRELER\u0130",children:[(0,oa.jsxs)("table",{className:"table",style:{width:"100%"},children:[(0,oa.jsx)("thead",{children:(0,oa.jsx)("tr",{children:[{key:"no",label:"#",colSpan:1,thStyle:{width:40}},{key:"desc",label:"Parametre",colSpan:4},{key:"value",label:"Veri",colSpan:1,thStyle:{width:220,textAlign:"right"}}].map(e=>(0,oa.jsx)("th",{colSpan:e.colSpan,style:e.thStyle,children:e.label},e.key))})}),(0,oa.jsx)("tbody",{children:ie.length?ie.map((e,t)=>(0,oa.jsx)("tr",{children:e.cells.map((e,t)=>{var n;return(0,oa.jsx)("td",{colSpan:e.colSpan||1,style:"right"===e.align?bb:"center"===e.align?{textAlign:"center"}:void 0,children:null!==(n=e.content)&&void 0!==n?n:""},t)})},e.key||t)):(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:6,className:"small",children:"Veri yok."})})})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.1. Kapasite Kullan\u0131m\u0131"}),(0,oa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"\xd6\u011frenci Kapasite Bilgileri"}),(0,oa.jsx)(Cb,{columns:[{key:"k",label:"Bilgi"},{key:"v",label:"De\u011fer",thStyle:{width:180,textAlign:"right"},tdStyle:bb}],rows:re.map((e,t)=>m({key:String(t)},e))})]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"S\u0131n\u0131f Kapasite Bilgileri"}),(0,oa.jsx)(Cb,{columns:[{key:"k",label:"Bilgi"},{key:"v",label:"De\u011fer",thStyle:{width:180,textAlign:"right"},tdStyle:bb}],rows:ae.map((e,t)=>m({key:String(t)},e))})]})]}),(0,oa.jsx)("div",{className:"small",style:{marginTop:8,opacity:.85},children:"* Belirlenen s\u0131n\u0131f \xf6\u011frenci kapasitesi oran\u0131na g\xf6re %80 - %100 aral\u0131\u011f\u0131 (\xf6rnek: 24 ki\u015filik s\u0131n\u0131f kapasitesine g\xf6re 20-24 aral\u0131\u011f\u0131)"})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.2. \u0130nsan Kaynaklar\u0131"}),(0,oa.jsx)(Cb,{columns:[{key:"item",label:"Kalem"},{key:"current",label:"Mevcut",thStyle:{width:120,textAlign:"right"},tdStyle:bb},{key:"planned",label:"Planlanan",thStyle:{width:140,textAlign:"right"},tdStyle:bb}],rows:le.map((e,t)=>m({key:String(t)},e))})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.3. Gelirler"}),me?(0,oa.jsxs)("table",{className:"table",style:{width:"100%"},children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Gelir"}),(0,oa.jsx)("th",{style:{width:180,textAlign:"right"},children:"Tutar"}),(0,oa.jsx)("th",{style:{width:120,textAlign:"right"},children:"% Oran\u0131"})]})}),(0,oa.jsxs)("tbody",{children:[me.rows.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.name}),(0,oa.jsx)("td",{style:bb,children:e.amount}),(0,oa.jsx)("td",{style:bb,children:e.ratio})]},e.key)),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"Toplam"}),(0,oa.jsx)("td",{style:bb,children:me.total}),(0,oa.jsx)("td",{style:bb,children:gb(1,2)})]})]})]}):(0,oa.jsx)(Cb,{columns:[{key:"name",label:"Gelir"},{key:"amount",label:"Tutar",thStyle:{width:180,textAlign:"right"},tdStyle:bb},{key:"ratio",label:"% Oran\u0131",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:ce.map((e,t)=>m({key:String(t)},e))})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.4. Giderler"}),ye?(0,oa.jsxs)("table",{className:"table",style:{width:"100%"},children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Giderler"}),(0,oa.jsx)("th",{style:{width:180,textAlign:"right"},children:"Tutar"}),(0,oa.jsx)("th",{style:{width:120,textAlign:"right"},children:"% Oran\u0131"})]})}),(0,oa.jsxs)("tbody",{children:[ye.rows.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.name}),(0,oa.jsx)("td",{style:bb,children:e.amount}),(0,oa.jsx)("td",{style:e.highlight?m(m({},bb),{},{background:"#ffd9d9"}):bb,children:e.ratio})]},e.key)),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"Toplam"}),(0,oa.jsx)("td",{style:bb,children:ye.total}),(0,oa.jsx)("td",{style:bb,children:gb(1,2)})]})]})]}):(0,oa.jsx)(Cb,{columns:[{key:"name",label:"Gider"},{key:"amount",label:"Tutar",thStyle:{width:180,textAlign:"right"},tdStyle:bb},{key:"ratio",label:"% Oran\u0131",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:fe.map((e,t)=>m({key:String(t)},e))})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.5. Tahsil Edilemeyecek Gelirler"}),(0,oa.jsx)("div",{className:"small",style:{lineHeight:1.4},children:"\xd6nceki y\u0131llarda tahsil edilemeyen giderlerin hesaplanmas\u0131 suretiyle \xf6\u011frenci ba\u015f\u0131 ortalama bir gider okul fiyatlar\u0131na eklenmelidir."})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.6. Giderlerin Sapma Y\xfczdeli\u011fi"}),(0,oa.jsx)("div",{className:"small",style:{lineHeight:1.4},children:"Hedeflenen \xf6\u011frenci say\u0131s\u0131na uygun olarak hesaplanan i\u015fletme, burs, erken kay\u0131t ve kampanya giderlerinin toplam\u0131ndan sonra yan\u0131lma pay\u0131 olarak belli bir y\xfczdelik belirlenerek \xe7\u0131kan ortalama \xf6\u011frenci fiyat\u0131na eklenmelidir."})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.7. Burs ve \u0130ndirim Oranlar\u0131"}),(0,oa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Burslar"}),(0,oa.jsx)(Cb,{columns:[{key:"name",label:"Burs"},{key:"cur",label:"Mevcut",thStyle:{width:90,textAlign:"right"},tdStyle:bb},{key:"planned",label:"Planlanan",thStyle:{width:110,textAlign:"right"},tdStyle:bb},{key:"cost",label:"Maliyet",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:Te.map((e,t)=>m({key:String(t)},e))}),(0,oa.jsxs)("div",{style:{marginTop:6,display:"flex",justifyContent:"flex-end",gap:12,fontWeight:700},children:[(0,oa.jsxs)("div",{children:["Toplam Mevcut: ",Ae.cur]}),(0,oa.jsxs)("div",{children:["Toplam Planlanan: ",Ae.planned]}),(0,oa.jsxs)("div",{children:["Toplam Maliyet: ",Ae.cost]})]}),(0,oa.jsx)("div",{style:{marginTop:8},children:(0,oa.jsx)(Cb,{columns:xe,rows:Se})})]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"\u0130ndirimler"}),(0,oa.jsx)(Cb,{columns:[{key:"name",label:"\u0130ndirim"},{key:"cur",label:"Mevcut",thStyle:{width:90,textAlign:"right"},tdStyle:bb},{key:"planned",label:"Planlanan",thStyle:{width:110,textAlign:"right"},tdStyle:bb},{key:"cost",label:"Maliyet",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:Ee.map((e,t)=>m({key:String(t)},e))}),(0,oa.jsxs)("div",{style:{marginTop:6,display:"flex",justifyContent:"flex-end",gap:12,fontWeight:700},children:[(0,oa.jsxs)("div",{children:["Toplam Mevcut: ",_e.cur]}),(0,oa.jsxs)("div",{children:["Toplam Planlanan: ",_e.planned]}),(0,oa.jsxs)("div",{children:["Toplam Maliyet: ",_e.cost]})]}),(0,oa.jsx)("div",{style:{marginTop:8},children:(0,oa.jsx)(Cb,{columns:xe,rows:we})})]})]})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.8. Rakip Kurumlar\u0131n Analizi"}),(0,oa.jsx)("div",{className:"small",style:{lineHeight:1.4,marginBottom:8},children:"E\u015fde\u011fer kurumlarla yar\u0131\u015fabilecek e\u011fitim kalitesine ve ekonomik g\xfcce sahip olmak i\xe7in okul \xfccretinin rakip kurumlar ile yar\u0131\u015fabilecek yeterlilikte olmas\u0131 gereklidir."}),(0,oa.jsx)(Cb,{columns:[{key:"level",label:"Kademe"},{key:"a",label:"A Kurum Fiyat\u0131",thStyle:{width:140,textAlign:"right"},tdStyle:bb},{key:"b",label:"B Kurum Fiyat\u0131",thStyle:{width:140,textAlign:"right"},tdStyle:bb},{key:"c",label:"C Kurum Fiyat\u0131",thStyle:{width:140,textAlign:"right"},tdStyle:bb}],rows:Le.map((e,t)=>m({key:String(t)},e))})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.9. Yerel Mevzuatta Uygunluk (yasal azami art\u0131\u015f)"}),(0,oa.jsx)("div",{className:"small",style:{lineHeight:1.4},children:"Belirlenecek \xfccretin \xfclke mevzuat\u0131na uygun olmas\u0131, \xfclkede belirlenen azami \xfccret art\u0131\u015flar\u0131, son \xfc\xe7 y\u0131l\u0131n resmi enflasyon oran\u0131 gibi parametreler dikkate al\u0131nmal\u0131d\u0131r. Ayr\u0131ca ev sahibi \xfclke ile yap\u0131lm\u0131\u015f Protokol y\xfck\xfcml\xfcl\xfckleri de mutlaka dikkate al\u0131nmal\u0131d\u0131r."})]}),(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"C.10. Mevcut E\u011fitim Sezonu \xdccreti"}),(0,oa.jsx)("div",{className:"small",style:{lineHeight:1.4},children:"Belirlenecek \xfccretin mevcut e\u011fitim d\xf6nemi ile uyumlu olmas\u0131na azami \xf6nem g\xf6sterilmeli ve s\xfcrd\xfcr\xfclebilir devaml\u0131l\u0131k ilkesi g\xf6zetilmelidir."})]})]}),(0,oa.jsxs)(Nb,{title:"D. GER\xc7EKLE\u015eEN VE GER\xc7EKLE\u015eMES\u0130 PLANLANAN / PERFORMANS",subtitle:"Bu b\xf6l\xfcm komisyon \xfcyeleri taraf\u0131ndan doldurulacakt\u0131r (uygulamada ayr\u0131ca ba\u011flanacak).",children:[K?(0,oa.jsx)("div",{style:{color:"#d9534f",marginBottom:6},children:K}):null,(0,oa.jsx)(Cb,{columns:[{key:"metric",label:""},{key:"planned",label:"Planlanan",thStyle:{width:180,textAlign:"right"},tdStyle:bb},{key:"actual",label:"Ger\xe7ekle\u015fen",thStyle:{width:180,textAlign:"right"},tdStyle:bb},{key:"variance",label:"Sapma %",thStyle:{width:120,textAlign:"right"},tdStyle:bb}],rows:Pe.map((e,t)=>m({key:String(t)},e))})]}),(0,oa.jsxs)(Nb,{title:"E. DE\u011eERLEND\u0130RME",children:[(0,oa.jsx)("div",{className:"small",style:{lineHeight:1.4},children:"Okulun lokasyon, fiziki \u015fartlar\u0131, varsa kar\u015f\u0131la\u015f\u0131lan zorluklar, b\xf6lgenin demografik yap\u0131s\u0131, sosyal ekonomik durumu, enflasyon ve belirtmek istedi\u011finiz hususlar burada \xf6zetlenecektir."}),(0,oa.jsx)("div",{style:{marginTop:10,padding:12,border:"1px dashed rgba(0,0,0,0.25)",borderRadius:10,opacity:.85},children:(0,oa.jsx)("div",{className:"small",children:(0,oa.jsx)("i",{children:"Metin alan\u0131 (sonraki ad\u0131mda veri ba\u011flanacak)"})})})]}),(0,oa.jsx)(Nb,{title:"F. KOM\u0130SYON G\xd6R\xdc\u015e VE \xd6NER\u0130LER\u0130",children:(0,oa.jsx)("div",{style:{padding:12,border:"1px dashed rgba(0,0,0,0.25)",borderRadius:10,opacity:.85},children:(0,oa.jsx)("div",{className:"small",children:(0,oa.jsx)("i",{children:"Komisyon g\xf6r\xfc\u015f metni (sonraki ad\u0131mda veri ba\u011flanacak)"})})})})]})}function Ab(){const{detailedReportMode:e,setDetailedReportMode:t,selectedScenario:n,reportCurrency:i,setReportCurrency:r,reportExportRef:a,school:l,inputs:s,report:o,prevReport:c,prevScenarioMeta:u,programType:d}=Ee(),m="LOCAL"===(null===n||void 0===n?void 0:n.input_currency)&&Number(null===n||void 0===n?void 0:n.fx_usd_to_local)>0&&(null===n||void 0===n?void 0:n.local_currency_code);return(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsx)("div",{className:"card",children:(0,oa.jsx)("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"flex-start",flexWrap:"wrap"},children:(0,oa.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"flex-end"},children:[(0,oa.jsx)("button",{className:"onepager"===e?"btn primary":"btn",onClick:()=>t("onepager"),children:"Tek Sayfa (Ozet)"}),(0,oa.jsx)("button",{className:"detailed"===e?"btn primary":"btn",onClick:()=>t("detailed"),children:"Detayli (RAPOR)"}),m?(0,oa.jsxs)("div",{className:"tabs",children:[(0,oa.jsx)("button",{type:"button",className:"tab ".concat("usd"===i?"active":""),onClick:()=>r("usd"),children:"USD"}),(0,oa.jsx)("button",{type:"button",className:"tab ".concat("local"===i?"active":""),onClick:()=>r("local"),children:n.local_currency_code})]}):null]})})}),(0,oa.jsx)("div",{ref:a,"data-report-export":"1",className:"report-export",children:(0,oa.jsx)(Eb,{mode:e,school:l,scenario:n,inputs:s,report:o,prevReport:c,prevCurrencyMeta:u,reportCurrency:i,currencyMeta:n,programType:d})})]})}const _b=e=>"number"===typeof e&&Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:0}):"-",Pb=e=>"number"===typeof e&&Number.isFinite(e)?(100*e).toLocaleString(void 0,{maximumFractionDigits:0})+"%":"-",Mb={yemek:"Yemek",uniforma:"Uniforma",kitapKirtasiye:"Kitap/K\u0131rtasiye",ulasimServis:"Ula\u015f\u0131m/Servis"};function Lb(e){return"y1"===e?"1.Y\u0131l":"y2"===e?"2.Y\u0131l":"3.Y\u0131l"}function Rb(e){var t,n,i,a,l,s,o,c,u,d,m,h,p,f,y;let{results:v,currencyMeta:g,reportCurrency:b="usd",onReportCurrencyChange:x}=e;const{years:k,meta:j}=(0,r.useMemo)(()=>function(e){return e?null!==e&&void 0!==e&&e.years&&"object"===typeof e.years?{years:e.years,meta:e.temelBilgiler||{}}:{years:{y1:e},meta:e.temelBilgiler||{}}:{years:{},meta:{}}}(v),[v]),S=Number((null===g||void 0===g?void 0:g.fx_usd_to_local)||0),w="LOCAL"===(null===g||void 0===g?void 0:g.input_currency)&&S>0&&(null===g||void 0===g?void 0:g.local_currency_code),N="local"===b&&w,C=(null===g||void 0===g?void 0:g.local_currency_code)||"LOCAL",T=N?C:"USD",E=e=>((e,t)=>{const n=Number(e);if(!Number.isFinite(n))return"-";try{return n.toLocaleString(void 0,{style:"currency",currency:String(t||"").trim(),maximumFractionDigits:0})}catch(Bb){return _b(n)}})((e=>{const t=Number(e);return Number.isFinite(t)?N?t*S:t:e})(e),T),A=e=>(null===k||void 0===k?void 0:k[e])||{},_=e=>{const t=(e=>{var t;return(null===(t=A(e))||void 0===t?void 0:t.pnl)||{}})(e)||{},n=(e=>{var t;return(null===(t=A(e))||void 0===t?void 0:t.income)||{}})(e)||{},i=Number(null===t||void 0===t?void 0:t.grossSales);if(!Number.isFinite(i))return null;const r=i-(Number((null===n||void 0===n?void 0:n.grossTuition)||0)+Number((null===n||void 0===n?void 0:n.nonEducationFeesTotal)||0)+Number((null===n||void 0===n?void 0:n.dormitoryRevenuesTotal)||0)+Number((null===n||void 0===n?void 0:n.otherInstitutionIncomeTotal)||0)+Number((null===n||void 0===n?void 0:n.governmentIncentives)||0));return Math.abs(r)>.01?r:null},P=(0,r.useMemo)(()=>{const e=["y1","y2","y3"].filter(e=>null===k||void 0===k?void 0:k[e]);return e.length?e:["y1"]},[k]),[M,L]=(0,r.useState)(P[0]||"y1");(0,r.useEffect)(()=>{P.includes(M)||L(P[0]||"y1")},[P,M]);const R=(0,r.useMemo)(()=>["y1","y2","y3"].map(e=>{var t,n,i,r,a;const l=(null===k||void 0===k?void 0:k[e])||{};return{ky:e,netIncome:null===l||void 0===l||null===(t=l.income)||void 0===t?void 0:t.netIncome,netCiro:null===l||void 0===l||null===(n=l.income)||void 0===n?void 0:n.netActivityIncome,expenses:null===l||void 0===l||null===(i=l.expenses)||void 0===i?void 0:i.totalExpenses,netResult:null===l||void 0===l||null===(r=l.result)||void 0===r?void 0:r.netResult,margin:null===l||void 0===l||null===(a=l.kpis)||void 0===a?void 0:a.profitMargin}}),[k]);if(!v)return null;const O=(null===k||void 0===k?void 0:k[M])||(null===k||void 0===k?void 0:k.y1)||{},F=O.students||{},D=O.income||{},I=O.expenses||{},B=O.result||{},z=O.kpis||{},U=O.pnl||{},Y=Array.isArray(I.nonTuitionServicesBreakdown)?I.nonTuitionServicesBreakdown:[],K=e=>{const t=Number(null===e||void 0===e?void 0:e.total);if(Number.isFinite(t))return t;const n=Number(null===e||void 0===e?void 0:e.studentCount),i=Number(null===e||void 0===e?void 0:e.unitCost);return Number.isFinite(n)&&Number.isFinite(i)?n*i:0},W=Y.length?Y.reduce((e,t)=>e+K(t),0):void 0,H=Array.isArray(null===U||void 0===U?void 0:U.grossSalesBreakdown)?U.grossSalesBreakdown:[],V=_(M),G=null==V?H:[...H,{label:"Di\u011fer / Yuvarlama",value:V}],q=(null===D||void 0===D?void 0:D.discountsSplit)||{},$=Array.isArray(null===q||void 0===q?void 0:q.bursDetails)?q.bursDetails:[],X=Array.isArray(null===q||void 0===q?void 0:q.indirimDetails)?q.indirimDetails:[],Q=["y1","y2","y3"].flatMap(e=>{var t,n;return(null===k||void 0===k||null===(t=k[e])||void 0===t||null===(n=t.flags)||void 0===n?void 0:n.errors)||[]}),Z=["y1","y2","y3"].flatMap(e=>{var t,n;return(null===k||void 0===k||null===(t=k[e])||void 0===t||null===(n=t.flags)||void 0===n?void 0:n.warnings)||[]}),J=null===j||void 0===j?void 0:j.inflationFactors,ee=null===j||void 0===j?void 0:j.inflation,te=Array.isArray(null===j||void 0===j?void 0:j.inflationNotes)?j.inflationNotes:[];return(0,oa.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{style:{fontWeight:900,fontSize:16},children:"\xd6zet Rapor"}),(0,oa.jsx)("div",{className:"small",style:{marginTop:2},children:"1/2/3. y\u0131l raporu \u2022 2. ve 3. y\u0131l enflasyon ile otomatik t\xfcretilir"})]}),(0,oa.jsxs)("div",{className:"row",style:{gap:10},children:[(0,oa.jsx)("div",{className:"tabs",children:P.map(e=>(0,oa.jsx)("button",{type:"button",className:"tab ".concat(M===e?"active":""),onClick:()=>L(e),children:Lb(e)},e))}),w?(0,oa.jsxs)("div",{className:"tabs",children:[(0,oa.jsx)("button",{type:"button",className:"tab ".concat("usd"===b?"active":""),onClick:()=>null===x||void 0===x?void 0:x("usd"),children:"USD"}),(0,oa.jsx)("button",{type:"button",className:"tab ".concat("local"===b?"active":""),onClick:()=>null===x||void 0===x?void 0:x("local"),children:C})]}):null]})]}),(ee||J||te.length>0)&&(0,oa.jsxs)("div",{style:{marginTop:10},children:[(ee||J)&&(0,oa.jsxs)("div",{className:"row",children:[(0,oa.jsxs)("span",{className:"badge",children:["Enflasyon Y2: ",null!=(null===ee||void 0===ee?void 0:ee.y2)?Pb(ee.y2):"-"]}),(0,oa.jsxs)("span",{className:"badge",children:["Enflasyon Y3: ",null!=(null===ee||void 0===ee?void 0:ee.y3)?Pb(ee.y3):"-"]}),(0,oa.jsxs)("span",{className:"badge",children:["Fakt\xf6r Y2: ",null!=(null===J||void 0===J?void 0:J.y2)?J.y2.toFixed(4):"-"]}),(0,oa.jsxs)("span",{className:"badge",children:["Fakt\xf6r Y3: ",null!=(null===J||void 0===J?void 0:J.y3)?J.y3.toFixed(4):"-"]})]}),te.length>0&&(0,oa.jsx)("div",{className:"row",style:{marginTop:6,flexWrap:"wrap",gap:6},children:te.map((e,t)=>(0,oa.jsxs)("span",{className:"badge",style:{background:"rgba(245,158,11,0.12)",border:"1px solid rgba(245,158,11,0.35)"},children:["\u26a0\ufe0f ",e]},t))})]}),P.length>1&&(0,oa.jsx)("div",{style:{marginTop:12,overflowX:"auto"},children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{}),(0,oa.jsx)("th",{style:{width:170,textAlign:"right"},children:"Y1"}),(0,oa.jsx)("th",{style:{width:170,textAlign:"right"},children:"Y2"}),(0,oa.jsx)("th",{style:{width:170,textAlign:"right"},children:"Y3"})]})}),(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"Net Toplam Gelir"}),(0,oa.jsx)("td",{className:"num",children:E(null===(t=R[0])||void 0===t?void 0:t.netIncome)}),(0,oa.jsx)("td",{className:"num",children:E(null===(n=R[1])||void 0===n?void 0:n.netIncome)}),(0,oa.jsx)("td",{className:"num",children:E(null===(i=R[2])||void 0===i?void 0:i.netIncome)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"Net Ciro"}),(0,oa.jsx)("td",{className:"num",children:E(null===(a=R[0])||void 0===a?void 0:a.netCiro)}),(0,oa.jsx)("td",{className:"num",children:E(null===(l=R[1])||void 0===l?void 0:l.netCiro)}),(0,oa.jsx)("td",{className:"num",children:E(null===(s=R[2])||void 0===s?void 0:s.netCiro)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"Toplam Gider"}),(0,oa.jsx)("td",{className:"num",children:E(null===(o=R[0])||void 0===o?void 0:o.expenses)}),(0,oa.jsx)("td",{className:"num",children:E(null===(c=R[1])||void 0===c?void 0:c.expenses)}),(0,oa.jsx)("td",{className:"num",children:E(null===(u=R[2])||void 0===u?void 0:u.expenses)})]}),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"Net Sonu\xe7"}),(0,oa.jsx)("td",{className:"num",children:E(null===(d=R[0])||void 0===d?void 0:d.netResult)}),(0,oa.jsx)("td",{className:"num",children:E(null===(m=R[1])||void 0===m?void 0:m.netResult)}),(0,oa.jsx)("td",{className:"num",children:E(null===(h=R[2])||void 0===h?void 0:h.netResult)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"K\xe2r Marj\u0131"}),(0,oa.jsx)("td",{className:"num",children:Pb(null===(p=R[0])||void 0===p?void 0:p.margin)}),(0,oa.jsx)("td",{className:"num",children:Pb(null===(f=R[1])||void 0===f?void 0:f.margin)}),(0,oa.jsx)("td",{className:"num",children:Pb(null===(y=R[2])||void 0===y?void 0:y.margin)})]})]})]})}),P.length>1&&(0,oa.jsxs)("div",{style:{marginTop:14,overflowX:"auto"},children:[(0,oa.jsx)("div",{style:{fontWeight:900,marginBottom:6},children:"Gelir Tablosu (Y1-Y2-Y3)"}),(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{}),(0,oa.jsx)("th",{style:{width:170,textAlign:"right"},children:"Y1"}),(0,oa.jsx)("th",{style:{width:170,textAlign:"right"},children:"Y2"}),(0,oa.jsx)("th",{style:{width:170,textAlign:"right"},children:"Y3"})]})}),(0,oa.jsx)("tbody",{children:(()=>{const e=(null===k||void 0===k?void 0:k.y1)||{},t=(null===k||void 0===k?void 0:k.y2)||{},n=(null===k||void 0===k?void 0:k.y3)||{},i=(null===e||void 0===e?void 0:e.pnl)||{},r=(null===t||void 0===t?void 0:t.pnl)||{},a=(null===n||void 0===n?void 0:n.pnl)||{},l=(null===e||void 0===e?void 0:e.income)||{},s=(null===t||void 0===t?void 0:t.income)||{},o=(null===n||void 0===n?void 0:n.income)||{},c=[_("y1"),_("y2"),_("y3")],u=c.some(e=>null!=e)?[{type:"i",label:"Di\u011fer / Yuvarlama",v:c}]:[],d=[{type:"h",label:"A. BR\xdcT SATI\u015eLAR",v:[i.grossSales,r.grossSales,a.grossSales]},{type:"i",label:"Br\xfct E\u011fitim Geliri (Tuition)",v:[l.grossTuition,s.grossTuition,o.grossTuition]},{type:"i",label:"\xd6\u011frenim D\u0131\u015f\u0131 \xd6\u011frenci \xdccretleri (Br\xfct)",v:[l.nonEducationFeesTotal,s.nonEducationFeesTotal,o.nonEducationFeesTotal]},{type:"i",label:"Yurt Gelirleri (Br\xfct)",v:[l.dormitoryRevenuesTotal,s.dormitoryRevenuesTotal,o.dormitoryRevenuesTotal]},{type:"i",label:"Di\u011fer Kurum Gelirleri",v:[l.otherInstitutionIncomeTotal,s.otherInstitutionIncomeTotal,o.otherInstitutionIncomeTotal]},{type:"i",label:"Devlet Te\u015fvikleri",v:[l.governmentIncentives,s.governmentIncentives,o.governmentIncentives]},...u,{type:"h",label:"B. SATI\u015e \u0130ND\u0130R\u0130MLER\u0130 (-)",v:[i.salesDiscounts,r.salesDiscounts,a.salesDiscounts]},{type:"i",label:"Burslar (-)",v:[i.bursDiscounts,r.bursDiscounts,a.bursDiscounts]},{type:"i",label:"\u0130ndirimler (-)",v:[i.indirimDiscounts,r.indirimDiscounts,a.indirimDiscounts]},{type:"h",label:"C. Net Sat\u0131\u015flar",v:[i.netSales,r.netSales,a.netSales]},{type:"h",label:"D. Sat\u0131\u015flar\u0131n Maliyeti (-)",v:[i.costOfSalesTotal,r.costOfSalesTotal,a.costOfSalesTotal]},{type:"i",label:"Sat\u0131lan Ticari Mallar Maliyeti (-) (621)",v:[i.costOfSalesGoods,r.costOfSalesGoods,a.costOfSalesGoods]},{type:"i",label:"Sat\u0131lan Hizmet Maliyeti (-) (622)",v:[i.costOfSalesServices,r.costOfSalesServices,a.costOfSalesServices]},{type:"h",label:"BR\xdcT SATI\u015e KARI VEYA ZARARI",v:[i.grossProfit,r.grossProfit,a.grossProfit]},{type:"h",label:"E. FAAL\u0130YET G\u0130DERLER\u0130 (-)",v:[i.operatingTotal,r.operatingTotal,a.operatingTotal]},{type:"i",label:"Pazarlama Sat\u0131\u015f Da\u011f\u0131t\u0131m Giderleri (-) (631)",v:[i.operatingMarketing,r.operatingMarketing,a.operatingMarketing]},{type:"i",label:"Genel Y\xf6netim Giderleri (-) (632)",v:[i.operatingGeneral,r.operatingGeneral,a.operatingGeneral]},{type:"f",label:"D\xd6NEM NET KARI VEYA ZARARI",v:[i.periodNetProfit,r.periodNetProfit,a.periodNetProfit]}],m=e=>"i"===e?{paddingLeft:18}:{};return d.map((e,t)=>{return(0,oa.jsxs)("tr",{style:(n=e.type,"h"===n?{fontWeight:800}:"f"===n?{fontWeight:900}:{}),children:[(0,oa.jsx)("td",{style:m(e.type),children:e.label}),(0,oa.jsx)("td",{className:"num",children:E(e.v[0])}),(0,oa.jsx)("td",{className:"num",children:E(e.v[1])}),(0,oa.jsx)("td",{className:"num",children:E(e.v[2])})]},t);var n})})()})]})]}),(0,oa.jsxs)("div",{style:{marginTop:14,fontWeight:900},children:["Kapasite \u2022 ",Lb(M)]}),(0,oa.jsxs)("div",{className:"grid2",style:{marginTop:6},children:[(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Kapasite"}),(0,oa.jsx)("div",{className:"value",children:_b(F.schoolCapacity)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Toplam \xd6\u011frenci"}),(0,oa.jsx)("div",{className:"value",children:_b(F.totalStudents)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Doluluk"}),(0,oa.jsx)("div",{className:"value",children:Pb(F.utilizationRate)})]})]}),(0,oa.jsxs)("div",{style:{marginTop:14,fontWeight:900},children:["Gelirler \u2022 ",Lb(M)]}),(0,oa.jsx)("div",{style:{overflowX:"auto",marginTop:6},children:(0,oa.jsx)("table",{className:"table",children:(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"A. BR\xdcT SATI\u015eLAR"}),(0,oa.jsx)("td",{className:"num",children:E(U.grossSales)})]}),G.map((e,t)=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{paddingLeft:18},children:e.label}),(0,oa.jsx)("td",{className:"num",children:E(e.value)})]},t)),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"B. SATI\u015e \u0130ND\u0130R\u0130MLER\u0130 (-)"}),(0,oa.jsx)("td",{className:"num",children:E(U.salesDiscounts)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{paddingLeft:18},children:"Burslar (-)"}),(0,oa.jsx)("td",{className:"num",children:E(U.bursDiscounts)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{paddingLeft:18},children:"\u0130ndirimler (-)"}),(0,oa.jsx)("td",{className:"num",children:E(U.indirimDiscounts)})]}),($.length>0||X.length>0)&&(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:2,style:{paddingTop:0},children:(0,oa.jsxs)("details",{children:[(0,oa.jsx)("summary",{className:"small",children:"Burs / \u0130ndirim detaylar\u0131"}),(0,oa.jsx)("div",{style:{marginTop:8,overflowX:"auto"},children:(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"T\xfcr"}),(0,oa.jsx)("th",{children:"A\xe7\u0131klama"}),(0,oa.jsx)("th",{style:{width:170,textAlign:"right"},children:"Tutar"})]})}),(0,oa.jsxs)("tbody",{children:[$.map((e,t)=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"Burs"}),(0,oa.jsx)("td",{children:e.name}),(0,oa.jsx)("td",{className:"num",children:E(-Math.abs(e.amount))})]},"b"+t)),X.map((e,t)=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"\u0130ndirim"}),(0,oa.jsx)("td",{children:e.name}),(0,oa.jsx)("td",{className:"num",children:E(-Math.abs(e.amount))})]},"i"+t))]})]})})]})})}),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"C. Net Sat\u0131\u015flar"}),(0,oa.jsx)("td",{className:"num",children:E(U.netSales)})]}),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"D. Sat\u0131\u015flar\u0131n Maliyeti (-)"}),(0,oa.jsx)("td",{className:"num",children:E(U.costOfSalesTotal)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{paddingLeft:18},children:"Sat\u0131lan Ticari Mallar Maliyeti (-) (621)"}),(0,oa.jsx)("td",{className:"num",children:E(U.costOfSalesGoods)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{paddingLeft:18},children:"Sat\u0131lan Hizmet Maliyeti (-) (622)"}),(0,oa.jsx)("td",{className:"num",children:E(U.costOfSalesServices)})]}),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"BR\xdcT SATI\u015e KARI VEYA ZARARI"}),(0,oa.jsx)("td",{className:"num",children:E(U.grossProfit)})]}),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"E. FAAL\u0130YET G\u0130DERLER\u0130 (-)"}),(0,oa.jsx)("td",{className:"num",children:E(U.operatingTotal)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{paddingLeft:18},children:"Pazarlama Sat\u0131\u015f Da\u011f\u0131t\u0131m Giderleri (-) (631)"}),(0,oa.jsx)("td",{className:"num",children:E(U.operatingMarketing)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{style:{paddingLeft:18},children:"Genel Y\xf6netim Giderleri (-) (632)"}),(0,oa.jsx)("td",{className:"num",children:E(U.operatingGeneral)})]}),(0,oa.jsxs)("tr",{style:{fontWeight:900},children:[(0,oa.jsx)("td",{children:"D\xd6NEM NET KARI VEYA ZARARI"}),(0,oa.jsx)("td",{className:"num",children:E(U.periodNetProfit)})]})]})})}),(0,oa.jsxs)("div",{className:"grid2",style:{marginTop:8},children:[(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Net Ki\u015fi Ba\u015f\u0131 Ciro"}),(0,oa.jsx)("div",{className:"value",children:E(z.netCiroPerStudent)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Di\u011fer Gelirler %"}),(0,oa.jsx)("div",{className:"value",children:Pb(D.otherIncomeRatio)})]})]}),(0,oa.jsxs)("div",{style:{marginTop:14,fontWeight:900},children:["Giderler \u2022 ",Lb(M)]}),(0,oa.jsx)("div",{style:{overflowX:"auto",marginTop:6},children:(0,oa.jsx)("table",{className:"table",children:(0,oa.jsxs)("tbody",{children:[(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"\u0130\u015fletme Giderleri Toplam\u0131"}),(0,oa.jsx)("td",{className:"num",children:E(I.operatingExpensesTotal)})]}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"\xd6\u011frenim D\u0131\u015f\u0131 Maliyetler Toplam\u0131"}),(0,oa.jsx)("td",{className:"num",children:E(I.nonTuitionServicesCostTotal)})]}),(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:2,style:{paddingTop:0},children:(0,oa.jsxs)("details",{children:[(0,oa.jsx)("summary",{style:{cursor:"pointer"},children:"Detaylar\u0131 g\xf6ster"}),(0,oa.jsxs)("div",{style:{marginTop:8},children:[(0,oa.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"\xd6\u011frenim D\u0131\u015f\u0131 Maliyetler Detay\u0131"}),Y.length>0?(0,oa.jsxs)("table",{className:"table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Kalem"}),(0,oa.jsx)("th",{style:{textAlign:"right"},children:"\xd6\u011frenci Say\u0131s\u0131"}),(0,oa.jsx)("th",{style:{textAlign:"right"},children:"Birim Maliyet"}),(0,oa.jsx)("th",{style:{textAlign:"right"},children:"Toplam"})]})}),(0,oa.jsxs)("tbody",{children:[Y.map((e,t)=>{const n=K(e);return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:Mb[null===e||void 0===e?void 0:e.key]||(null===e||void 0===e?void 0:e.key)||"-"}),(0,oa.jsx)("td",{className:"num",children:_b(null===e||void 0===e?void 0:e.studentCount)}),(0,oa.jsx)("td",{className:"num",children:E(null===e||void 0===e?void 0:e.unitCost)}),(0,oa.jsx)("td",{className:"num",children:E(n)})]},(null===e||void 0===e?void 0:e.key)||(null===e||void 0===e?void 0:e.id)||t)}),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"Toplam"}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{}),(0,oa.jsx)("td",{className:"num",children:E(W)})]})]})]}):(0,oa.jsx)("div",{className:"small",children:"Detay bulunamad\u0131."})]})]})})}),(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:"Yurt Giderleri Toplam\u0131"}),(0,oa.jsx)("td",{className:"num",children:E(I.dormitoryCostTotal)})]}),(0,oa.jsxs)("tr",{style:{fontWeight:800},children:[(0,oa.jsx)("td",{children:"Toplam Gider"}),(0,oa.jsx)("td",{className:"num",children:E(I.totalExpenses)})]})]})})}),(0,oa.jsxs)("div",{style:{marginTop:14,fontWeight:900},children:["Sonu\xe7 \u2022 ",Lb(M)]}),(0,oa.jsxs)("div",{className:"grid2",style:{marginTop:6},children:[(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Net Sonu\xe7"}),(0,oa.jsx)("div",{className:"value",children:E(B.netResult)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"K\xe2r Marj\u0131"}),(0,oa.jsx)("div",{className:"value",children:Pb(z.profitMargin)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Gelir / \xd6\u011frenci"}),(0,oa.jsx)("div",{className:"value",children:E(z.revenuePerStudent)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Gider / \xd6\u011frenci"}),(0,oa.jsx)("div",{className:"value",children:E(z.costPerStudent)})]}),(0,oa.jsxs)("div",{className:"stat",children:[(0,oa.jsx)("div",{className:"label",children:"Tahsil Edilemeyen Gelirler %"}),(0,oa.jsx)("div",{className:"value",children:Pb(z.uncollectableRevenuePct)})]})]}),(Q.length>0||Z.length>0)&&(0,oa.jsxs)("div",{style:{marginTop:12},children:[Q.length>0&&(0,oa.jsxs)("div",{style:{padding:10,borderRadius:12,background:"rgba(220,38,38,0.08)",border:"1px solid rgba(220,38,38,0.25)"},children:[(0,oa.jsx)("div",{style:{fontWeight:900,color:"#b91c1c"},children:"Hatalar"}),(0,oa.jsx)("ul",{style:{margin:"6px 0 0 18px"},children:Q.map((e,t)=>(0,oa.jsx)("li",{children:e},t))})]}),Z.length>0&&(0,oa.jsxs)("div",{style:{marginTop:8,padding:10,borderRadius:12,background:"rgba(245,158,11,0.10)",border:"1px solid rgba(245,158,11,0.25)"},children:[(0,oa.jsx)("div",{style:{fontWeight:900,color:"#92400e"},children:"Uyar\u0131lar"}),(0,oa.jsx)("ul",{style:{margin:"6px 0 0 18px"},children:Z.map((e,t)=>(0,oa.jsx)("li",{children:e},t))})]})]})]})}function Ob(){const{report:e,selectedScenario:t,reportCurrency:n,setReportCurrency:i,reportMode:r,reportModeLoading:a,handleReportModeChange:l,reportExportRef:s}=Ee();return(0,oa.jsxs)("div",{style:{marginTop:12},children:[(0,oa.jsxs)("div",{className:"row",style:{gap:10,alignItems:"center",marginBottom:10},children:[(0,oa.jsxs)("div",{className:"tabs",children:[(0,oa.jsx)("button",{type:"button",className:"tab ".concat("original"===r?"active":""),onClick:()=>null===l||void 0===l?void 0:l("original"),disabled:a,children:"Original"}),(0,oa.jsx)("button",{type:"button",className:"tab ".concat("distributed"===r?"active":""),onClick:()=>null===l||void 0===l?void 0:l("distributed"),disabled:a,children:"Distributed"})]}),a?(0,oa.jsx)("div",{className:"small muted",children:"Y\xfckleniyor..."}):null]}),(0,oa.jsx)("div",{ref:s,"data-report-export":"1",className:"report-export",children:(0,oa.jsx)(Rb,{results:e,currencyMeta:t,reportCurrency:n,onReportCurrencyChange:i})})]})}function Fb(e){var t;let{children:n,allowReset:i=!1}=e;const r=da(),a=Se();return r.token?null!==(t=r.user)&&void 0!==t&&t.must_reset_password&&!i?(0,oa.jsx)(qe,{to:"/profile",replace:!0,state:{from:a}}):n:(0,oa.jsx)(qe,{to:"/login",replace:!0})}function Db(){var e,t,n;const i=da(),r=null!==(e=i.user)&&void 0!==e&&e.must_reset_password?"/profile":"admin"===(null===(t=i.user)||void 0===t?void 0:t.role)?"/countries":"/schools";return(0,oa.jsxs)(Ze,{children:[(0,oa.jsx)(Xe,{path:"/login",element:i.token?(0,oa.jsx)(qe,{to:r,replace:!0}):(0,oa.jsx)(ma,{})}),(0,oa.jsxs)(Xe,{element:(0,oa.jsx)(Fb,{children:(0,oa.jsx)(iv,{})}),children:[(0,oa.jsx)(Xe,{path:"/schools",element:(0,oa.jsx)(Dl,{})}),(0,oa.jsx)(Xe,{path:"/select",element:(0,oa.jsx)(Bs,{})}),(0,oa.jsxs)(Xe,{path:"/schools/:id",element:(0,oa.jsx)(ds,{}),children:[(0,oa.jsx)(Xe,{index:!0,element:(0,oa.jsx)("div",{})}),(0,oa.jsx)(Xe,{path:"temel-bilgiler",element:(0,oa.jsx)(kv,{})}),(0,oa.jsx)(Xe,{path:"kapasite",element:(0,oa.jsx)(Av,{})}),(0,oa.jsx)(Xe,{path:"norm",element:(0,oa.jsx)(Vv,{})}),(0,oa.jsx)(Xe,{path:"ik",element:(0,oa.jsx)(ug,{})}),(0,oa.jsx)(Xe,{path:"gelirler",element:(0,oa.jsx)(Ag,{})}),(0,oa.jsx)(Xe,{path:"giderler",element:(0,oa.jsx)(Xg,{})}),(0,oa.jsx)(Xe,{path:"detayli-rapor",element:(0,oa.jsx)(Ab,{})}),(0,oa.jsx)(Xe,{path:"rapor",element:(0,oa.jsx)(Ob,{})})]}),(0,oa.jsx)(Xe,{path:"/users",element:(0,oa.jsx)(io,{})}),(0,oa.jsx)(Xe,{path:"/countries",element:(0,oa.jsx)(ro,{})}),(0,oa.jsx)(Xe,{path:"/progress",element:(0,oa.jsx)(ao,{})}),(0,oa.jsx)(Xe,{path:"/approvals",element:(0,oa.jsx)(lo,{})}),(0,oa.jsx)(Xe,{path:"/reports",element:(0,oa.jsx)(so,{})}),(0,oa.jsx)(Xe,{path:"/manage-permissions",element:"admin"===(null===(n=i.user)||void 0===n?void 0:n.role)?(0,oa.jsx)(No,{}):(0,oa.jsx)(fo,{})}),(0,oa.jsx)(Xe,{path:"/review-queue",element:(0,oa.jsx)(ev,{})}),(0,oa.jsx)(Xe,{path:"/admin",element:(0,oa.jsx)(Ys,{})})]}),(0,oa.jsx)(Xe,{element:(0,oa.jsx)(Fb,{allowReset:!0,children:(0,oa.jsx)(iv,{})}),children:(0,oa.jsx)(Xe,{path:"/profile",element:(0,oa.jsx)(zs,{})})}),(0,oa.jsx)(Xe,{path:"*",element:(0,oa.jsx)(qe,{to:i.token?r:"/login",replace:!0})})]})}(0,l.createRoot)(document.getElementById("root")).render((0,oa.jsx)(r.StrictMode,{children:(0,oa.jsx)(Mt,{children:(0,oa.jsx)(ua,{children:(0,oa.jsx)(Db,{})})})}))})();
//# sourceMappingURL=main.75c0cf3c.js.map