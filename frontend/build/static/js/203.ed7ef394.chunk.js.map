{"version":3,"file":"static/js/203.ed7ef394.chunk.js","mappings":"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","sources":["hooks/useListQueries.js","pages/ManagePermissionsPage.jsx"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport { api } from \"../api\";\n\nconst DEFAULT_QUERY_OPTIONS = {\n  staleTime: 60_000,\n};\n\nexport function useListCountries(options = {}) {\n  return useQuery({\n    queryKey: [\"countries\"],\n    queryFn: () => api.listCountries(),\n    ...DEFAULT_QUERY_OPTIONS,\n    ...options,\n  });\n}\n\nexport function useListSchools(params = {}, options = {}) {\n  return useQuery({\n    queryKey: [\"schools\", params],\n    queryFn: () => api.listSchools(params),\n    ...DEFAULT_QUERY_OPTIONS,\n    ...options,\n  });\n}\n\nexport function useAdminUsers(params = {}, options = {}) {\n  return useQuery({\n    queryKey: [\"adminUsers\", params],\n    queryFn: () => api.listUsers(params),\n    ...DEFAULT_QUERY_OPTIONS,\n    ...options,\n  });\n}\n\nexport function useManagerUsers(params = {}, options = {}) {\n  return useQuery({\n    queryKey: [\"managerUsers\", params],\n    queryFn: () => api.managerListUsers(params),\n    ...DEFAULT_QUERY_OPTIONS,\n    ...options,\n  });\n}\r\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { api } from \"../api\";\nimport { useListSchools, useManagerUsers } from \"../hooks/useListQueries\";\n\r\nconst REQUIRED_MODULES = [\r\n  \"Temel Bilgiler\",\r\n  \"Kapasite\",\r\n  \"Norm\",\r\n  \"İK (HR)\",\r\n  \"Gelirler\",\r\n  \"Giderler\",\r\n];\r\n\r\nconst MODULE_ALIASES = {\r\n  \"Norm İK (HR)\": [\"Norm\", \"İK (HR)\"],\r\n};\r\n\r\nconst ROLE_LABELS = {\r\n  principal: \"Principal\",\r\n  hr: \"HR\",\r\n  accountant: \"Accountant\",\r\n};\r\n\r\nconst ROLE_OPTIONS = [\r\n  { value: \"principal\", label: \"Principal\" },\r\n  { value: \"hr\", label: \"HR\" },\r\n];\r\n\r\nconst normalizeModuleList = (modules) => {\r\n  if (!Array.isArray(modules)) return [];\r\n  const expanded = [];\r\n  modules.forEach((moduleName) => {\r\n    const clean = String(moduleName || \"\").trim();\r\n    if (!clean) return;\r\n    const alias = MODULE_ALIASES[clean];\r\n    if (alias) {\r\n      expanded.push(...alias);\r\n      return;\r\n    }\r\n    expanded.push(clean);\r\n  });\r\n  return Array.from(new Set(expanded));\r\n};\r\n\r\nconst normalizeAssignmentsFromApi = (rows) => {\r\n  if (!Array.isArray(rows)) return [];\r\n  return rows\r\n    .map((row) => {\r\n      const userId = Number(row?.userId ?? row?.user_id);\r\n      const role = String(row?.role || \"\").trim().toLowerCase();\r\n      const modules = normalizeModuleList(row?.modules);\r\n      return { userId, role, modules };\r\n    })\r\n    .filter(\r\n      (row) =>\r\n        Number.isFinite(row.userId) &&\r\n        row.userId > 0 &&\r\n        (row.role === \"principal\" || row.role === \"hr\" || row.role === \"accountant\")\r\n    );\r\n};\r\n\r\nconst normalizeAssignmentPayload = (assignments) =>\r\n  (Array.isArray(assignments) ? assignments : []).map((assignment) => ({\r\n    userId: assignment.userId,\r\n    role: assignment.role,\r\n    modules: normalizeModuleList(assignment.modules),\r\n  }));\r\n\r\nexport default function ManagePermissionsPage() {\r\n  const outlet = useOutletContext();\r\n  const saveVersionRef = useRef({});\r\n\r\n  // === State for users, schools and assignments ===\r\n  const [users, setUsers] = useState([]);\r\n  const [schools, setSchools] = useState([]);\r\n  const [assignmentsBySchool, setAssignmentsBySchool] = useState({});\r\n  const assignmentsBySchoolRef = useRef({});\r\n\r\n  // Loading/saving flags\r\n  const [assignmentsLoading, setAssignmentsLoading] = useState(false);\r\n  const [savingSchoolIds, setSavingSchoolIds] = useState({});\r\n\r\n  // UI state: which school row is selected (for drawer) and which tab is active\r\n  const [selectedSchoolId, setSelectedSchoolId] = useState(null);\r\n  const [activeTab, setActiveTab] = useState(\"assignments\");\r\n\r\n  // Add user drawer state (existing)\r\n  const [newUserId, setNewUserId] = useState(\"\");\r\n  const [newRole, setNewRole] = useState(\"principal\");\r\n\r\n  // Create user form state for the Create User tab\r\n  const [createFullName, setCreateFullName] = useState(\"\");\r\n  const [createEmail, setCreateEmail] = useState(\"\");\r\n  const [createPassword, setCreatePassword] = useState(\"\");\r\n  const [createRole, setCreateRole] = useState(\"principal\");\r\n  const [createSchoolId, setCreateSchoolId] = useState(\"\");\r\n  const [creatingUser, setCreatingUser] = useState(false);\r\n  const [createSchoolName, setCreateSchoolName] = useState(\"\");\n  const [creatingSchool, setCreatingSchool] = useState(false);\n  const [userRoleDrafts, setUserRoleDrafts] = useState({});\n  const [userEmailDrafts, setUserEmailDrafts] = useState({});\n  const [updatingUserIds, setUpdatingUserIds] = useState({});\n  const [resettingUserIds, setResettingUserIds] = useState({});\n  const [temporaryPasswords, setTemporaryPasswords] = useState({});\n\n  const usersQuery = useManagerUsers({\n    limit: 50,\n    offset: 0,\n    fields: \"brief\",\n    order: \"full_name:asc\",\n  });\n  const usersLoading = usersQuery.isFetching;\n\n  const schoolsQuery = useListSchools({\n    limit: 50,\n    offset: 0,\n    fields: \"brief\",\n    order: \"name:asc\",\n  });\n  const schoolsLoading = schoolsQuery.isFetching;\n\r\n  useEffect(() => {\r\n    // Set a generic title and subtitle for the access management hub.  When\r\n    // this page mounts the header will reflect that users can manage\r\n    // assignments and create new users within their country.\r\n    outlet?.setHeaderMeta?.({\r\n      title: \"Manage Permissions\",\r\n      subtitle: \"Assign users to schools and create new users\",\r\n      centered: true,\r\n    });\r\n    return () => {\r\n      outlet?.clearHeaderMeta?.();\r\n    };\r\n  }, [outlet]);\r\n\r\n  const normalizeSchoolsList = useCallback((list) => {\r\n    if (Array.isArray(list)) return list;\r\n    if (list && Array.isArray(list.items)) return list.items;\r\n    return [];\r\n  }, []);\r\n\r\n  const loadUsers = useCallback(async () => {\n    const result = await usersQuery.refetch();\n    if (result?.error) {\n      console.error(result.error);\n      toast.error(result.error?.message || \"Failed to load users\");\n    }\n  }, [usersQuery]);\n\r\n  const loadSchools = useCallback(async () => {\n    const result = await schoolsQuery.refetch();\n    if (result?.error) {\n      console.error(result.error);\n      toast.error(result.error?.message || \"Failed to load schools\");\n    }\n  }, [schoolsQuery]);\n\n  useEffect(() => {\n    const rows = usersQuery.data?.items;\n    setUsers(Array.isArray(rows) ? rows : []);\n  }, [usersQuery.data]);\n\n  useEffect(() => {\n    setSchools(normalizeSchoolsList(schoolsQuery.data));\n  }, [schoolsQuery.data, normalizeSchoolsList]);\n\n  useEffect(() => {\n    if (!usersQuery.isError) return;\n    console.error(usersQuery.error);\n    toast.error(usersQuery.error?.message || \"Failed to load users\");\n  }, [usersQuery.isError, usersQuery.error]);\n\n  useEffect(() => {\n    if (!schoolsQuery.isError) return;\n    console.error(schoolsQuery.error);\n    toast.error(schoolsQuery.error?.message || \"Failed to load schools\");\n  }, [schoolsQuery.isError, schoolsQuery.error]);\n\r\n  const loadAssignmentsForSchools = useCallback(async (schoolsList) => {\r\n    if (!Array.isArray(schoolsList) || schoolsList.length === 0) {\r\n      setAssignmentsBySchool({});\r\n      return;\r\n    }\r\n    setAssignmentsLoading(true);\r\n    try {\r\n      const results = await Promise.allSettled(\r\n        schoolsList.map((school) => api.managerGetSchoolAssignments(school.id))\r\n      );\r\n      const next = {};\r\n      let hasError = false;\r\n      results.forEach((result, index) => {\r\n        const schoolId = schoolsList[index]?.id;\r\n        if (schoolId == null) return;\r\n        if (result.status === \"fulfilled\") {\r\n          next[String(schoolId)] = normalizeAssignmentsFromApi(result.value);\r\n        } else {\r\n          hasError = true;\r\n          next[String(schoolId)] = [];\r\n        }\r\n      });\r\n      if (hasError) {\r\n        toast.error(\"Failed to load some school assignments\");\r\n      }\r\n      setAssignmentsBySchool(next);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(err?.message || \"Failed to load school assignments\");\r\n      setAssignmentsBySchool({});\r\n    } finally {\r\n      setAssignmentsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    assignmentsBySchoolRef.current = assignmentsBySchool;\r\n  }, [assignmentsBySchool]);\r\n\r\n  useEffect(() => {\r\n    if (schools.length === 0) {\r\n      setAssignmentsBySchool({});\r\n      return;\r\n    }\r\n    loadAssignmentsForSchools(schools);\r\n  }, [schools, loadAssignmentsForSchools]);\r\n\r\n  useEffect(() => {\r\n    if (!selectedSchoolId) return;\r\n    if (!schools.some((school) => String(school.id) === String(selectedSchoolId))) {\r\n      setSelectedSchoolId(null);\r\n    }\r\n  }, [schools, selectedSchoolId]);\r\n\r\n  useEffect(() => {\r\n    setNewUserId(\"\");\r\n  }, [selectedSchoolId]);\r\n\r\n  const selectedSchool = useMemo(\r\n    () => schools.find((school) => String(school.id) === String(selectedSchoolId)) || null,\r\n    [schools, selectedSchoolId]\r\n  );\r\n\r\n  const selectedAssignments = useMemo(() => {\r\n    if (!selectedSchool) return [];\r\n    return assignmentsBySchool[String(selectedSchool.id)] || [];\r\n  }, [assignmentsBySchool, selectedSchool]);\r\n\r\n  const isSavingSelected = selectedSchool\r\n    ? Boolean(savingSchoolIds[String(selectedSchool.id)])\r\n    : false;\r\n\r\n  const getUserById = (id) => users.find((user) => Number(user.id) === Number(id)) || null;\r\n\r\n  const getUserLabel = (user) =>\r\n    user?.full_name || user?.name || user?.email || (user?.id != null ? `User ${user.id}` : \"Unknown\");\r\n\r\n  const getMissingModules = (assignments) => {\r\n    const covered = new Set();\r\n    (assignments || []).forEach((assignment) => {\r\n      (assignment.modules || []).forEach((moduleName) => covered.add(moduleName));\r\n    });\r\n    return REQUIRED_MODULES.filter((moduleName) => !covered.has(moduleName));\r\n  };\r\n\r\n  const persistAssignments = useCallback(async (schoolId, nextAssignments, previousAssignments) => {\r\n    if (!schoolId) return;\r\n    const key = String(schoolId);\r\n    const nextVersion = (saveVersionRef.current[key] || 0) + 1;\r\n    saveVersionRef.current[key] = nextVersion;\r\n    setSavingSchoolIds((prev) => ({ ...prev, [key]: true }));\r\n    try {\r\n      const payload = normalizeAssignmentPayload(nextAssignments);\r\n      const response = await api.managerSetSchoolAssignments(schoolId, { assignments: payload });\r\n      if (saveVersionRef.current[key] !== nextVersion) return;\r\n      const savedAssignments = Array.isArray(response)\r\n        ? response\r\n        : response?.assignments || payload;\r\n      const normalized = normalizeAssignmentsFromApi(savedAssignments);\r\n      setAssignmentsBySchool((prev) => ({ ...prev, [key]: normalized }));\r\n    } catch (err) {\r\n      console.error(err);\r\n      if (saveVersionRef.current[key] !== nextVersion) return;\r\n      setAssignmentsBySchool((prev) => ({ ...prev, [key]: previousAssignments }));\r\n      toast.error(err?.message || \"Failed to save assignments\");\r\n    } finally {\r\n      if (saveVersionRef.current[key] === nextVersion) {\r\n        setSavingSchoolIds((prev) => {\r\n          const next = { ...prev };\r\n          delete next[key];\r\n          return next;\r\n        });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const applyAssignmentUpdate = useCallback(\r\n    (schoolId, updater) => {\r\n      if (!schoolId) return;\r\n      const key = String(schoolId);\r\n      const currentAssignments = Array.isArray(assignmentsBySchoolRef.current[key])\r\n        ? assignmentsBySchoolRef.current[key]\r\n        : [];\r\n      const nextAssignments = updater(currentAssignments);\r\n      if (nextAssignments === currentAssignments) return;\r\n      setAssignmentsBySchool((prev) => ({ ...prev, [key]: nextAssignments }));\r\n      persistAssignments(schoolId, nextAssignments, currentAssignments);\r\n    },\r\n    [persistAssignments]\r\n  );\r\n\r\n  const toggleModule = (schoolId, userId, role, moduleName) => {\r\n    applyAssignmentUpdate(schoolId, (assignments) =>\r\n      assignments.map((assignment) => {\r\n        if (assignment.userId !== userId || assignment.role !== role) {\r\n          return assignment;\r\n        }\r\n        const existing = Array.isArray(assignment.modules) ? assignment.modules : [];\r\n        const hasModule = existing.includes(moduleName);\r\n        const modules = hasModule\r\n          ? existing.filter((item) => item !== moduleName)\r\n          : [...existing, moduleName];\r\n        return { ...assignment, modules };\r\n      })\r\n    );\r\n  };\r\n\r\n  const toggleAllModules = (schoolId, userId, role, shouldSelectAll) => {\r\n    applyAssignmentUpdate(schoolId, (assignments) =>\r\n      assignments.map((assignment) => {\r\n        if (assignment.userId !== userId || assignment.role !== role) {\r\n          return assignment;\r\n        }\r\n        return {\r\n          ...assignment,\r\n          modules: shouldSelectAll ? [...REQUIRED_MODULES] : [],\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const removeAssignment = (schoolId, userId) => {\r\n    applyAssignmentUpdate(schoolId, (assignments) =>\r\n      assignments.filter((assignment) => assignment.userId !== userId)\r\n    );\r\n  };\r\n\r\n  const addAssignment = () => {\r\n    if (!selectedSchool || !newUserId) return;\r\n    const userId = Number(newUserId);\r\n    if (!Number.isFinite(userId)) return;\r\n    const roleToAssign = selectedAddUser?.role === \"accountant\" ? \"accountant\" : newRole;\r\n    applyAssignmentUpdate(selectedSchool.id, (assignments) => {\r\n      const alreadyAssigned = assignments.some(\r\n        (assignment) => assignment.userId === userId\r\n      );\r\n      if (alreadyAssigned) return assignments;\r\n      return [\r\n        ...assignments,\r\n        {\r\n          userId,\r\n          role: roleToAssign,\r\n          modules: [],\r\n        },\r\n      ];\r\n    });\r\n    setNewUserId(\"\");\r\n  };\r\n\r\n  const availableUsers = useMemo(() => {\r\n    if (!selectedSchool) return [];\r\n    const assignedIds = new Set(\r\n      selectedAssignments.map((assignment) => assignment.userId)\r\n    );\r\n    return users.filter((user) => !assignedIds.has(user.id));\r\n  }, [selectedAssignments, selectedSchool, users]);\r\n\r\n  const selectedAddUser = useMemo(() => {\r\n    if (!newUserId) return null;\r\n    return users.find((user) => String(user.id) === String(newUserId)) || null;\r\n  }, [newUserId, users]);\r\n\r\n  const isAccountantSelection = selectedAddUser?.role === \"accountant\";\r\n\r\n  useEffect(() => {\r\n    if (!selectedAddUser) return;\r\n    if (selectedAddUser.role === \"accountant\" && newRole !== \"accountant\") {\r\n      setNewRole(\"accountant\");\r\n    } else if (selectedAddUser.role !== \"accountant\" && newRole === \"accountant\") {\r\n      setNewRole(\"principal\");\r\n    }\r\n  }, [selectedAddUser, newRole]);\r\n\r\n  const editableRoles = useMemo(() => [\"user\", \"principal\", \"hr\"], []);\r\n\r\n  const handleRoleDraftChange = (userId, value) => {\r\n    setUserRoleDrafts((prev) => ({ ...prev, [userId]: value }));\r\n  };\r\n\r\n  const handleEmailDraftChange = (userId, value) => {\r\n    setUserEmailDrafts((prev) => ({ ...prev, [userId]: value }));\r\n  };\r\n\r\n  const handleSaveUser = async (user) => {\r\n    if (!user) return;\r\n    const userId = user.id;\r\n    const nextEmail = String(userEmailDrafts[userId] ?? user.email ?? \"\").trim();\r\n    const nextRole = String(userRoleDrafts[userId] ?? user.role ?? \"\").trim().toLowerCase();\r\n    const canEditRole = editableRoles.includes(user.role) || editableRoles.includes(nextRole);\r\n    const changes = [];\r\n\r\n    if (nextEmail && nextEmail !== user.email) {\r\n      changes.push(() => api.managerUpdateUserEmail(userId, { email: nextEmail }));\r\n    }\r\n    if (canEditRole && nextRole && nextRole !== user.role) {\r\n      changes.push(() => api.managerUpdateUserRole(userId, { role: nextRole }));\r\n    }\r\n\r\n    if (changes.length === 0) {\r\n      toast.info(\"No changes to save\");\r\n      return;\r\n    }\r\n\r\n    setUpdatingUserIds((prev) => ({ ...prev, [userId]: true }));\r\n    try {\r\n      for (const fn of changes) {\r\n        await fn();\r\n      }\r\n      toast.success(\"User updated\");\r\n      await loadUsers();\r\n      setUserRoleDrafts((prev) => {\r\n        const next = { ...prev };\r\n        delete next[userId];\r\n        return next;\r\n      });\r\n      setUserEmailDrafts((prev) => {\r\n        const next = { ...prev };\r\n        delete next[userId];\r\n        return next;\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(err?.message || \"Failed to update user\");\r\n    } finally {\r\n      setUpdatingUserIds((prev) => {\r\n        const next = { ...prev };\r\n        delete next[userId];\r\n        return next;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async (user) => {\r\n    if (!user) return;\r\n    const userId = user.id;\r\n    setResettingUserIds((prev) => ({ ...prev, [userId]: true }));\r\n    try {\r\n      const response = await api.managerResetUserPassword(userId);\r\n      const tempPassword = response?.temporary_password;\r\n      if (tempPassword) {\r\n        setTemporaryPasswords((prev) => ({ ...prev, [userId]: tempPassword }));\r\n      }\r\n      toast.success(\"Temporary password generated\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(err?.message || \"Failed to reset password\");\r\n    } finally {\r\n      setResettingUserIds((prev) => {\r\n        const next = { ...prev };\r\n        delete next[userId];\r\n        return next;\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handle creating a new user and optionally assigning them to a school.\r\n   * The manager API will scope the new user to the caller's country.  If a\r\n   * school is selected in the Create User tab, the newly created user will\r\n   * be automatically assigned to that school with the chosen role and no\r\n   * module responsibilities.  After creation the users and assignments\r\n   * lists are refreshed.\r\n   */\r\n  const handleCreateUser = async (event) => {\r\n    event?.preventDefault?.();\r\n    const trimmedEmail = createEmail.trim();\r\n    if (!trimmedEmail || !createPassword) {\r\n      toast.error(\"Email and password are required\");\r\n      return;\r\n    }\r\n    if (createPassword.length < 8) {\r\n      toast.error(\"Password must be at least 8 characters\");\r\n      return;\r\n    }\r\n    if (![\"principal\", \"hr\"].includes(createRole)) {\r\n      toast.error(\"Role must be Principal or HR\");\r\n      return;\r\n    }\r\n    setCreatingUser(true);\r\n    try {\r\n      const payload = {\r\n        full_name: createFullName ? createFullName.trim() : null,\r\n        email: trimmedEmail,\r\n        password: createPassword,\r\n        role: createRole,\r\n      };\r\n      // Create the user in the manager's country\r\n      const userResp = await api.managerCreateUser(payload);\r\n      toast.success(\"User created\");\r\n      // Refresh users list so the new user is available for assignments\r\n      await loadUsers();\r\n      // If a school was selected, immediately assign the new user to that school\r\n      const schoolId = createSchoolId;\r\n      if (schoolId) {\r\n        const newUserId = userResp?.id;\r\n        if (newUserId) {\r\n          const key = String(schoolId);\r\n          const currentAssignments = Array.isArray(assignmentsBySchoolRef.current[key])\r\n            ? assignmentsBySchoolRef.current[key]\r\n            : [];\r\n          const nextAssignments = [\r\n            ...currentAssignments,\r\n            { userId: newUserId, role: createRole, modules: [] },\r\n          ];\r\n          persistAssignments(schoolId, nextAssignments, currentAssignments);\r\n        }\r\n      }\r\n      // Reset form fields\r\n      setCreateFullName(\"\");\r\n      setCreateEmail(\"\");\r\n      setCreatePassword(\"\");\r\n      setCreateRole(\"principal\");\r\n      setCreateSchoolId(\"\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(err?.message || \"Failed to create user\");\r\n    } finally {\r\n      setCreatingUser(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateSchool = async (event) => {\r\n    event?.preventDefault?.();\r\n    const trimmedName = createSchoolName.trim();\r\n    if (!trimmedName) {\r\n      toast.error(\"School name is required\");\r\n      return;\r\n    }\r\n    setCreatingSchool(true);\r\n    try {\r\n      await api.createSchool({ name: trimmedName });\r\n      toast.success(\"School created\");\r\n      setCreateSchoolName(\"\");\r\n      await loadSchools();\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(err?.message || \"Failed to create school\");\r\n    } finally {\r\n      setCreatingSchool(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"permissions-page\">\r\n      <div className=\"container permissions-page-content\" style={{ padding: \"1rem\" }}>\r\n        {/* Top bar with tabs */}\r\n        <div className=\"row\" style={{ justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n          <div className=\"access-hub-tabs\">\r\n            <div\r\n              className={`access-hub-tab ${activeTab === \"assignments\" ? \"is-active\" : \"\"}`}\r\n              onClick={() => {\r\n                setActiveTab(\"assignments\");\r\n                setSelectedSchoolId(null);\r\n              }}\r\n            >\r\n              School assignments\r\n            </div>\r\n            <div\r\n              className={`access-hub-tab ${activeTab === \"createUser\" ? \"is-active\" : \"\"}`}\r\n              onClick={() => {\r\n                setActiveTab(\"createUser\");\r\n                setSelectedSchoolId(null);\r\n              }}\r\n            >\r\n              Create user\r\n            </div>\r\n            <div\r\n              className={`access-hub-tab ${activeTab === \"createSchool\" ? \"is-active\" : \"\"}`}\r\n              onClick={() => {\r\n                setActiveTab(\"createSchool\");\r\n                setSelectedSchoolId(null);\r\n              }}\r\n            >\r\n              Create school\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Tab content */}\r\n        {activeTab === \"assignments\" && (\r\n          <>\r\n            {/* School assignments list */}\r\n            <div className=\"school-assignments-page\" style={{ paddingTop: 24 }}>\r\n              <div className=\"school-assignments-header\">\r\n                <div>\r\n                  <h2>School assignments</h2>\r\n                  <p>Assign principals, HR users, and module responsibility by school.</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"school-assignments-table-wrap\">\r\n                <table className=\"table school-assignments-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>School</th>\r\n                      <th>Principals</th>\r\n                      <th>HR Users</th>\r\n                      <th>Accountants</th>\r\n                      <th>Missing Modules</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {schoolsLoading ? (\r\n                      <tr>\r\n                        <td colSpan={5}>Loading schools...</td>\r\n                      </tr>\r\n                    ) : schools.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan={5}>No schools found.</td>\r\n                      </tr>\r\n                    ) : (\r\n                      schools.map((school) => {\r\n                        const key = String(school.id);\r\n                        const assignments = assignmentsBySchool[key];\r\n                        const assignmentsReady = Array.isArray(assignments);\r\n                        const principals = assignmentsReady\r\n                          ? assignments\r\n                              .filter((assignment) => assignment.role === \"principal\")\r\n                              .map((assignment) => getUserLabel(getUserById(assignment.userId)))\r\n                          : [];\r\n                        const hrUsers = assignmentsReady\r\n                          ? assignments\r\n                              .filter((assignment) => assignment.role === \"hr\")\r\n                              .map((assignment) => getUserLabel(getUserById(assignment.userId)))\r\n                          : [];\r\n                        const accountants = assignmentsReady\r\n                          ? assignments\r\n                              .filter((assignment) => assignment.role === \"accountant\")\r\n                              .map((assignment) => getUserLabel(getUserById(assignment.userId)))\r\n                          : [];\r\n                        const missingModules = assignmentsReady\r\n                          ? getMissingModules(assignments)\r\n                          : [];\r\n                        return (\r\n                          <tr\r\n                            key={school.id}\r\n                            className=\"school-assignments-row\"\r\n                            onClick={() => setSelectedSchoolId(school.id)}\r\n                          >\r\n                            <td>\r\n                              <div className=\"school-assignments-name\">{school.name}</div>\r\n                            </td>\r\n                            <td>\r\n                              {assignmentsReady\r\n                                ? principals.length > 0\r\n                                  ? principals.join(\", \")\r\n                                  : \"None\"\r\n                                : assignmentsLoading\r\n                                  ? \"Loading...\"\r\n                                  : \"None\"}\r\n                            </td>\r\n                            <td>\r\n                              {assignmentsReady\r\n                                ? hrUsers.length > 0\r\n                                  ? hrUsers.join(\", \")\r\n                                  : \"None\"\r\n                                : assignmentsLoading\r\n                                  ? \"Loading...\"\r\n                                  : \"None\"}\r\n                            </td>\r\n                            <td>\r\n                              {assignmentsReady\r\n                                ? accountants.length > 0\r\n                                  ? accountants.join(\", \")\r\n                                  : \"None\"\r\n                                : assignmentsLoading\r\n                                  ? \"Loading...\"\r\n                                  : \"None\"}\r\n                            </td>\r\n                            <td className=\"school-assignments-missing\">\r\n                              {assignmentsReady\r\n                                ? missingModules.length > 0\r\n                                  ? missingModules.join(\", \")\r\n                                  : \"None\"\r\n                                : assignmentsLoading\r\n                                  ? \"Loading...\"\r\n                                  : \"None\"}\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            {/* Drawer and overlay for assignments */}\r\n            <div\r\n              className={`school-assignments-overlay ${selectedSchool ? \"is-open\" : \"\"}`}\r\n              onClick={() => setSelectedSchoolId(null)}\r\n              role=\"button\"\r\n              aria-label=\"Close school assignments\"\r\n              tabIndex={-1}\r\n            />\r\n            <aside className={`school-assignments-drawer ${selectedSchool ? \"is-open\" : \"\"}`}>\r\n              <div className=\"school-assignments-drawer-header\">\r\n                <div>\r\n                  <div className=\"school-assignments-drawer-title\">School assignments</div>\r\n                  <div className=\"school-assignments-drawer-subtitle\">\r\n                    {selectedSchool ? selectedSchool.name : \"Select a school\"}\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  className=\"btn school-assignments-close\"\r\n                  onClick={() => setSelectedSchoolId(null)}\r\n                  aria-label=\"Close drawer\"\r\n                  type=\"button\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              <div className=\"school-assignments-drawer-body\">\r\n                {!selectedSchool ? (\r\n                  <div className=\"school-assignments-empty\">Select a school to start editing.</div>\r\n                ) : !Array.isArray(assignmentsBySchool[String(selectedSchool.id)]) ? (\r\n                  <div className=\"school-assignments-empty\">Loading assignments...</div>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"school-assignments-section-title\">Assigned users</div>\r\n                    {selectedAssignments.length === 0 ? (\r\n                      <div className=\"school-assignments-empty\">No users assigned yet.</div>\r\n                    ) : (\r\n                      selectedAssignments.map((assignment) => {\r\n                        const user = getUserById(assignment.userId);\r\n                        const allSelected =\r\n                          REQUIRED_MODULES.length > 0 &&\r\n                          REQUIRED_MODULES.every((module) =>\r\n                            (assignment.modules || []).includes(module)\r\n                          );\r\n                        return (\r\n                          <div\r\n                            key={assignment.userId}\r\n                            className=\"school-assignments-card\"\r\n                          >\r\n                            <div className=\"school-assignments-card-header\">\r\n                              <div>\r\n                                <div className=\"school-assignments-card-name\">\r\n                                  {getUserLabel(user)}\r\n                                </div>\r\n                                <div className=\"school-assignments-card-role\">\r\n                                  {ROLE_LABELS[assignment.role] || assignment.role}\r\n                                </div>\r\n                              </div>\r\n                              <button\r\n                                className=\"btn btn-sm danger\"\r\n                                onClick={() =>\r\n                                  removeAssignment(selectedSchool.id, assignment.userId)\r\n                                }\r\n                                type=\"button\"\r\n                                disabled={isSavingSelected}\r\n                              >\r\n                                Remove\r\n                              </button>\r\n                            </div>\r\n                            <div className=\"school-assignments-modules\">\r\n                              <label className=\"school-assignments-module-item\">\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={allSelected}\r\n                                  onChange={(event) =>\r\n                                    toggleAllModules(\r\n                                      selectedSchool.id,\r\n                                      assignment.userId,\r\n                                      assignment.role,\r\n                                      event.target.checked\r\n                                    )\r\n                                  }\r\n                                  disabled={isSavingSelected}\r\n                                />\r\n                                <span>Select all</span>\r\n                              </label>\r\n                              {REQUIRED_MODULES.map((moduleName) => (\r\n                                <label\r\n                                  key={moduleName}\r\n                                  className=\"school-assignments-module-item\"\r\n                                >\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    checked={(assignment.modules || []).includes(moduleName)}\r\n                                    onChange={() =>\r\n                                      toggleModule(\r\n                                        selectedSchool.id,\r\n                                        assignment.userId,\r\n                                        assignment.role,\r\n                                        moduleName\r\n                                      )\r\n                                    }\r\n                                    disabled={isSavingSelected}\r\n                                  />\r\n                                  <span>{moduleName}</span>\r\n                                </label>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    )}\r\n\r\n                    <div className=\"school-assignments-section-title\">Add user</div>\r\n                    <div className=\"school-assignments-add-card\">\r\n                      <div className=\"school-assignments-add-row\">\r\n                        <select\r\n                          className=\"input\"\r\n                          value={newUserId}\r\n                          onChange={(event) => setNewUserId(event.target.value)}\r\n                          disabled={availableUsers.length === 0 || isSavingSelected || usersLoading}\r\n                        >\r\n                          <option value=\"\">Select user</option>\r\n                          {availableUsers.map((user) => (\r\n                            <option key={user.id} value={user.id}>\r\n                              {getUserLabel(user)}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                        <select\r\n                          className=\"input\"\r\n                          value={newRole}\r\n                          onChange={(event) => setNewRole(event.target.value)}\r\n                          disabled={isSavingSelected || isAccountantSelection}\r\n                        >\r\n                          {(isAccountantSelection\r\n                            ? [{ value: \"accountant\", label: \"Accountant\" }]\r\n                            : ROLE_OPTIONS\r\n                          ).map((role) => (\r\n                            <option key={role.value} value={role.value}>\r\n                              {role.label}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                        <button\r\n                          className=\"btn primary\"\r\n                          onClick={addAssignment}\r\n                          disabled={!newUserId || isSavingSelected}\r\n                          type=\"button\"\r\n                        >\r\n                          Add\r\n                        </button>\r\n                      </div>\r\n                      {!usersLoading && availableUsers.length === 0 && (\r\n                        <div className=\"small\">All users are already assigned.</div>\r\n                      )}\r\n                      {usersLoading && <div className=\"small\">Loading users...</div>}\r\n                    </div>\r\n\r\n                    <div className=\"school-assignments-missing-line\">\r\n                      <span className=\"school-assignments-missing-label\">Missing modules:</span>{\" \"}\r\n                      {getMissingModules(selectedAssignments).length > 0\r\n                        ? getMissingModules(selectedAssignments).join(\", \")\r\n                        : \"None\"}\r\n                      {isSavingSelected && <span className=\"small\">Saving...</span>}\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </aside>\r\n          </>\r\n        )}\r\n        {activeTab === \"createUser\" && (\r\n          /* Create user tab */\r\n          <div className=\"access-hub-grid\" style={{ marginTop: 16 }}>\r\n            <div className=\"left-pane\">\r\n              {/* Left pane can display instructions or remain empty for now */}\r\n              <div style={{ marginBottom: 12, fontWeight: 700 }}>Create a new user</div>\r\n              <div className=\"small\" style={{ marginBottom: 12 }}>\r\n                Fill out the form to create a new Principal or HR user. You can optionally assign the user to a school in your country.\r\n              </div>\r\n            </div>\r\n            <div className=\"right-pane\">\r\n              <form onSubmit={handleCreateUser} className=\"create-user-form\">\r\n                <div className=\"row\" style={{ flexDirection: \"column\", gap: 8, marginBottom: 12 }}>\r\n                  <input\r\n                    className=\"input full\"\r\n                    placeholder=\"Full name\"\r\n                    value={createFullName}\r\n                    onChange={(e) => setCreateFullName(e.target.value)}\r\n                  />\r\n                  <input\r\n                    className=\"input full\"\r\n                    placeholder=\"Email\"\r\n                    type=\"email\"\r\n                    value={createEmail}\r\n                    onChange={(e) => setCreateEmail(e.target.value)}\r\n                  />\r\n                  <input\r\n                    className=\"input full\"\r\n                    placeholder=\"Temporary password\"\r\n                    type=\"password\"\r\n                    value={createPassword}\r\n                    onChange={(e) => setCreatePassword(e.target.value)}\r\n                  />\r\n                  <select\r\n                    className=\"input full\"\r\n                    value={createRole}\r\n                    onChange={(e) => setCreateRole(e.target.value)}\r\n                  >\r\n                    <option value=\"principal\">Principal</option>\r\n                    <option value=\"hr\">HR</option>\r\n                  </select>\r\n                  <select\r\n                    className=\"input full\"\r\n                    value={createSchoolId}\r\n                    onChange={(e) => setCreateSchoolId(e.target.value)}\r\n                  >\r\n                    <option value=\"\">Unassigned to school</option>\r\n                    {schools.map((s) => (\r\n                      <option key={s.id} value={s.id}>\r\n                        {s.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"row\" style={{ justifyContent: \"flex-end\", gap: 8 }}>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn primary\"\r\n                    disabled={creatingUser}\r\n                  >\r\n                    {creatingUser ? \"Creating...\" : \"Create user\"}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n              <div className=\"user-management-section\">\r\n                <div className=\"user-management-title\">Users in your country</div>\r\n                {usersLoading ? (\r\n                  <div className=\"small\">Loading users...</div>\r\n                ) : users.length === 0 ? (\r\n                  <div className=\"small\">No users found.</div>\r\n                ) : (\r\n                  <div className=\"user-management-list\">\r\n                    <div className=\"user-management-header\">\r\n                      <div>User</div>\r\n                      <div>Email</div>\r\n                      <div>Role</div>\r\n                      <div>Actions</div>\r\n                    </div>\r\n                    {users.map((user) => {\r\n                      const userId = user.id;\r\n                      const emailValue = userEmailDrafts[userId] ?? user.email ?? \"\";\r\n                      const roleValue = userRoleDrafts[userId] ?? user.role ?? \"user\";\r\n                      const canEditRole = editableRoles.includes(user.role);\r\n                      const isUpdating = Boolean(updatingUserIds[userId]);\r\n                      const isResetting = Boolean(resettingUserIds[userId]);\r\n                      return (\r\n                        <div key={userId} className=\"user-management-row\">\r\n                          <div className=\"user-management-name\">\r\n                            <div>{getUserLabel(user)}</div>\r\n                            <div className=\"small\">{user.email}</div>\r\n                          </div>\r\n                          <div>\r\n                            <input\r\n                              className=\"input full\"\r\n                              value={emailValue}\r\n                              onChange={(event) =>\r\n                                handleEmailDraftChange(userId, event.target.value)\r\n                              }\r\n                              disabled={isUpdating}\r\n                            />\r\n                          </div>\r\n                          <div>\r\n                            {canEditRole ? (\r\n                              <select\r\n                                className=\"input full\"\r\n                                value={roleValue}\r\n                                onChange={(event) =>\r\n                                  handleRoleDraftChange(userId, event.target.value)\r\n                                }\r\n                                disabled={isUpdating}\r\n                              >\r\n                                <option value=\"user\">User</option>\r\n                                <option value=\"principal\">Principal</option>\r\n                                <option value=\"hr\">HR</option>\r\n                              </select>\r\n                            ) : (\r\n                              <div className=\"user-management-role\">{user.role}</div>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"user-management-actions\">\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn\"\r\n                              onClick={() => handleSaveUser(user)}\r\n                              disabled={isUpdating}\r\n                            >\r\n                              {isUpdating ? \"Saving...\" : \"Save\"}\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn\"\r\n                              onClick={() => handleResetPassword(user)}\r\n                              disabled={isResetting}\r\n                            >\r\n                              {isResetting ? \"Resetting...\" : \"Reset password\"}\r\n                            </button>\r\n                          </div>\r\n                          {temporaryPasswords[userId] && (\r\n                            <div className=\"user-management-temp\">\r\n                              Temporary password:{\" \"}\r\n                              <span className=\"user-management-temp-value\">\r\n                                {temporaryPasswords[userId]}\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {activeTab === \"createSchool\" && (\r\n          <div className=\"access-hub-grid\" style={{ marginTop: 16 }}>\r\n            <div className=\"left-pane\">\r\n              <div style={{ marginBottom: 12, fontWeight: 700 }}>Create a new school</div>\r\n              <div className=\"small\" style={{ marginBottom: 12 }}>\r\n                Add a school in your country to start assigning users and modules.\r\n              </div>\r\n            </div>\r\n            <div className=\"right-pane\">\r\n              <form onSubmit={handleCreateSchool} className=\"create-school-form\">\r\n                <div className=\"row\" style={{ flexDirection: \"column\", gap: 8, marginBottom: 12 }}>\r\n                  <input\r\n                    className=\"input full\"\r\n                    placeholder=\"School name\"\r\n                    value={createSchoolName}\r\n                    onChange={(e) => setCreateSchoolName(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"row\" style={{ justifyContent: \"flex-end\", gap: 8 }}>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn primary\"\r\n                    disabled={creatingSchool}\r\n                  >\r\n                    {creatingSchool ? \"Creating...\" : \"Create school\"}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["DEFAULT_QUERY_OPTIONS","staleTime","useListCountries","options","arguments","length","undefined","useQuery","_objectSpread","queryKey","queryFn","api","listCountries","useListSchools","params","listSchools","useAdminUsers","listUsers","useManagerUsers","managerListUsers","REQUIRED_MODULES","MODULE_ALIASES","ROLE_LABELS","principal","hr","accountant","ROLE_OPTIONS","value","label","normalizeModuleList","modules","Array","isArray","expanded","forEach","moduleName","clean","String","trim","alias","push","from","Set","normalizeAssignmentsFromApi","rows","map","row","_row$userId","userId","Number","user_id","role","toLowerCase","filter","isFinite","ManagePermissionsPage","outlet","useOutletContext","saveVersionRef","useRef","users","setUsers","useState","schools","setSchools","assignmentsBySchool","setAssignmentsBySchool","assignmentsBySchoolRef","assignmentsLoading","setAssignmentsLoading","savingSchoolIds","setSavingSchoolIds","selectedSchoolId","setSelectedSchoolId","activeTab","setActiveTab","newUserId","setNewUserId","newRole","setNewRole","createFullName","setCreateFullName","createEmail","setCreateEmail","createPassword","setCreatePassword","createRole","setCreateRole","createSchoolId","setCreateSchoolId","creatingUser","setCreatingUser","createSchoolName","setCreateSchoolName","creatingSchool","setCreatingSchool","userRoleDrafts","setUserRoleDrafts","userEmailDrafts","setUserEmailDrafts","updatingUserIds","setUpdatingUserIds","resettingUserIds","setResettingUserIds","temporaryPasswords","setTemporaryPasswords","usersQuery","limit","offset","fields","order","usersLoading","isFetching","schoolsQuery","schoolsLoading","useEffect","_outlet$setHeaderMeta","setHeaderMeta","call","title","subtitle","centered","_outlet$clearHeaderMe","clearHeaderMeta","normalizeSchoolsList","useCallback","list","items","loadUsers","async","result","refetch","_result$error","error","console","toast","message","loadSchools","_result$error2","_usersQuery$data","data","_usersQuery$error","isError","_schoolsQuery$error","loadAssignmentsForSchools","schoolsList","results","Promise","allSettled","school","managerGetSchoolAssignments","id","next","hasError","index","_schoolsList$index","schoolId","status","err","current","some","selectedSchool","useMemo","find","selectedAssignments","isSavingSelected","Boolean","getUserById","user","getUserLabel","full_name","name","email","concat","getMissingModules","assignments","covered","assignment","add","has","persistAssignments","nextAssignments","previousAssignments","key","nextVersion","prev","payload","response","managerSetSchoolAssignments","savedAssignments","normalized","applyAssignmentUpdate","updater","currentAssignments","availableUsers","assignedIds","selectedAddUser","isAccountantSelection","editableRoles","_jsx","className","children","_jsxs","style","padding","justifyContent","alignItems","onClick","_Fragment","paddingTop","colSpan","assignmentsReady","principals","hrUsers","accountants","missingModules","join","tabIndex","type","allSelected","every","module","includes","removeAssignment","disabled","checked","onChange","event","toggleAllModules","shouldSelectAll","target","toggleModule","existing","item","addAssignment","roleToAssign","marginTop","marginBottom","fontWeight","onSubmit","_event$preventDefault","preventDefault","trimmedEmail","password","userResp","managerCreateUser","success","flexDirection","gap","placeholder","e","s","_ref3","_userEmailDrafts$user2","_ref4","_userRoleDrafts$userI2","emailValue","roleValue","canEditRole","isUpdating","isResetting","handleEmailDraftChange","handleRoleDraftChange","_ref","_userEmailDrafts$user","_ref2","_userRoleDrafts$userI","nextEmail","nextRole","changes","managerUpdateUserEmail","managerUpdateUserRole","fn","info","handleSaveUser","managerResetUserPassword","tempPassword","temporary_password","handleResetPassword","_event$preventDefault2","trimmedName","createSchool"],"ignoreList":[],"sourceRoot":""}