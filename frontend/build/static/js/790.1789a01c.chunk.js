"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[790],{991(e,l,n){n.d(l,{IM:()=>d,fH:()=>o,zj:()=>r});var i=n(5043),t=n(5685);const s="fizizbilite";function a(e,l){try{const n=window.localStorage.getItem(e);return null==n?l:JSON.parse(n)}catch(n){return l}}function r(e,l){let{prefix:n=s,scope:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,l=arguments.length>1?arguments[1]:void 0;const n=(0,t.zy)();return(0,i.useMemo)(()=>{const i=("string"===typeof l?l.trim():"")||n.pathname+(n.search||"");return e+":"+i},[e,l,n.pathname,n.search])}(n,r),o=(0,i.useMemo)(()=>"".concat(d,":ui:").concat(e),[d,e]),c=(0,i.useRef)(null),[u,m]=(0,i.useState)(()=>a(o,l));return(0,i.useEffect)(()=>{c.current=o,m(a(o,l))},[o]),(0,i.useEffect)(()=>{c.current===o&&function(e,l){try{window.localStorage.setItem(e,JSON.stringify(l))}catch(n){}}(o,u)},[o,u]),[u,m,o]}function d(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const[i,t]=r(e,!!l,n);return[!!i,e=>t(!!("function"===typeof e?e(i):e))]}function o(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const[i,t]=r(e,String(null!==l&&void 0!==l?l:""),n);return[String(null!==i&&void 0!==i?i:""),e=>t(String("function"===typeof e?e(i):e))]}},4790(e,l,n){n.r(l),n.d(l,{default:()=>E});var i=n(5043),t=n(5685),s=n(2555),a=n(991),r=n(5458),d=n(5318),o=n(579);const c=(e,l,n)=>Math.min(n,Math.max(l,e)),u=e=>{const l=Number(e);return Number.isFinite(l)?l:0},m=e=>Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:0}):"-",y=e=>Number.isFinite(e)?"".concat((100*e).toFixed(0),"%"):"-",v={minWidth:360,width:360},h=["y1","y2","y3"];function x(e,l){const n=String(e||""),i=Number.isFinite(Number(l))?Number(l):1,t=Math.max(28,28*i)/Math.max(80,6.2*n.length);return Math.min(1,Math.max(.65,t)).toFixed(2)}const p=new Set(["turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas"]),j=[{key:"ulkeTemsilciligi",no:1,code:632,label:"\xdclke Temsilcili\u011fi Giderleri (Temsilcilik Per. Gid. HAR\u0130\xc7)"},{key:"genelYonetim",no:2,code:632,label:"Genel Y\xf6netim Giderleri (Ofis Giderleri, K\u0131rtasiye, Aidatlar,Sosyal Yard\u0131mlar, Ara\xe7 Kiralama, Sigorta vb.)"},{key:"kira",no:3,code:622,group:"E\u011fitim Hizmetleri Maliyeti",label:"\u0130\u015fletme Giderleri (Kira)"},{key:"emsalKira",no:4,code:622,label:"\u0130\u015fletme Giderleri (Emsal Kira, Bina Tahsis veya Vak\u0131f'a ait ise Emsal Kira Bedeli Yaz\u0131lacak)"},{key:"enerjiKantin",no:5,code:622,label:"\u0130\u015fletme Giderleri (Elektrik, Su, Is\u0131tma, So\u011futma, Veri/Ses \u0130leti\u015fim vb. Kantin)"},{key:"turkPersonelMaas",no:6,code:622,label:"Yurt d\u0131\u015f\u0131 T\xdcRK Personel Maa\u015f Giderleri (M\xfcd\xfcr, M\xfcd\xfcr Yard\u0131mc\u0131s\u0131,Y\xf6netici, E\u011fitimci, \xd6\u011fretmen, Belletmen vb.)"},{key:"turkDestekPersonelMaas",no:7,code:622,label:"Yurt d\u0131\u015f\u0131 T\xdcRK DESTEK Personel Maa\u015f Giderleri (E\u011fitim faaliyetinde bulunmayan di\u011fer \xe7al\u0131\u015fanlar. \xdclke Temsilcisi, Temsilcilik destek vb.)"},{key:"yerelPersonelMaas",no:8,code:622,label:"Yurt d\u0131\u015f\u0131 YEREL Personel Maa\u015f Giderleri (Y\xf6netici, E\u011fitimci, \xd6\u011fretmen, Belletmen vb.)"},{key:"yerelDestekPersonelMaas",no:9,code:622,label:"Yurt d\u0131\u015f\u0131 YEREL DESTEK ve \xdclke Temsilci\u011fi DESTEK Personel Maa\u015f Giderleri (E\u011fitim faaliyetinde bulunmayan di\u011fer \xe7al\u0131\u015fanlar)"},{key:"internationalPersonelMaas",no:10,code:622,label:"Yurt d\u0131\u015f\u0131 INTERNATIONAL Personel Maa\u015f Giderleri (Y\xf6netici, E\u011fitimci, \xd6\u011fretmen, Belletmen vb.)"},{key:"disaridanHizmet",no:11,code:632,label:"D\u0131\u015far\u0131dan Sa\u011flanan Mal ve Hizmet Al\u0131mlar\u0131 (G\xfcvenlik,Temizlik,Avukatl\u0131k, Dan\u0131\u015fmanl\u0131k, \u0130\u015f Sa\u011fl\u0131\u011f\u0131 ve G\xfcvenli\u011fi, Mali M\xfc\u015favir vb.)"},{key:"egitimAracGerec",no:12,code:622,label:"E\u011fitim Ara\xe7 ve Gere\xe7leri (Okul ve S\u0131n\u0131flar i\xe7in K\u0131rtasiye Malzemeleri, Kitaplar, vb.) - (\xd6\u011frencilere d\xf6nem ba\u015f\u0131 verilen)"},{key:"finansalGiderler",no:13,code:632,label:"Finansal Giderler (Prim \xf6demeleri, Komisyon ve Kredi Giderleri, Teminat Mektuplar\u0131)"},{key:"egitimAmacliHizmet",no:14,code:622,label:"E\u011fitim Ama\xe7l\u0131 Hizmet Al\u0131mlar\u0131 (\u0130zinler ve lisanslama, Cambridge Lisanslamalar\u0131 vb.)"},{key:"temsilAgirlama",no:16,code:632,label:"Temsil ve A\u011f\u0131rlama - Kamp\xfcs baz\u0131nda (\xd6\u011flen Yeme\u011fi Giderleri Hari\xe7) mutfak giderleri vs.)"},{key:"ulkeIciUlasim",no:17,code:622,label:"\xdclke \u0130\xe7i Ula\u015f\u0131m ve Konaklama / U\xe7ak Bileti Dahil / PERSONEL ULA\u015eIM"},{key:"ulkeDisiUlasim",no:18,code:632,label:"\xdclke D\u0131\u015f\u0131 Ula\u015f\u0131m ve Konaklama / U\xe7ak Bileti Dahil / (TMV Merkez Misafir A\u011f\u0131rlama, T\xfcrk Personel)"},{key:"vergilerResmiIslemler",no:21,code:632,label:"Vergiler Resmi \u0130\u015flemler (Mahkeme,Dava ve \u0130cra, Resmi \u0130zinler,Tescil ve Kurulu\u015f \u0130\u015flemleri, Noter vb.)"},{key:"vergiler",no:22,code:632,label:"Vergiler (Kira Stopaj dahil)"},{key:"demirbasYatirim",no:23,code:622,label:"Demirba\u015f, Arsa, Bina, Ta\u015f\u0131t ve Di\u011fer Yat\u0131r\u0131m Al\u0131mlar\u0131 (Lisanslama, Yaz\u0131l\u0131m ve program, Telif haklar\u0131 vb. dahil)"},{key:"rutinBakim",no:24,code:622,label:"Rutin Bak\u0131m, Onar\u0131m Giderleri (Boya, Tamirat, Tadilat, Makine Te\xe7hizat, Ara\xe7, Ofis Malzeme Tamiri vb.)"},{key:"pazarlamaOrganizasyon",no:25,code:631,label:"Pazarlama, Tan\u0131t\u0131m Organizasyon, Etkinlikler (\xd6\u011frenci Faaliyetleri Dahil)"},{key:"reklamTanitim",no:26,code:631,label:"Reklam, Tan\u0131t\u0131m, Bas\u0131m, \u0130lan"},{key:"tahsilEdilemeyenGelirler",no:29,code:622,label:"Tahsil Edilemeyen Gelirler"}],g=[{key:"yemek",no:27,code:622,label:"Yemek (\xd6\u011frenci ve Personel \xf6\u011flen yeme\u011fi i\xe7in yap\u0131lan harcamalar (Enerji, g\u0131da,yak\u0131t,elektrik,gaz vs. ve org. gideri))"},{key:"uniforma",no:28,code:621,label:"\xdcniforma (\xd6\u011frenci \xdcniforma maliyeti (Liste fiyat\u0131 de\u011fil, maliyet fiyat\u0131))"},{key:"kitapKirtasiye",no:29,code:621,label:"Kitap-K\u0131rtasiye (\xd6\u011frencilere d\xf6nem ba\u015f\u0131 verdi\u011fimiz materyallerin maliyeti)"},{key:"ulasimServis",no:30,code:622,label:"Ula\u015f\u0131m (Okul Servisi) \xd6\u011frencilerimiz i\xe7in kullan\u0131lan servis maliyeti"}],N=[{key:"yurtGiderleri",no:31,code:622,label:"Yurt Giderleri (Kamp\xfcs giderleri i\xe7inde g\xf6sterilmeyecek; yurt i\xe7in yap\u0131lan giderler)"},{key:"digerYurt",no:32,code:622,label:"Di\u011fer (Yaz Okulu Giderleri vs)"}],k={yemek:"yemek",uniforma:"uniforma",kitapKirtasiye:"kitap",ulasimServis:"ulasim"},f={yurtGiderleri:"yurt",digerYurt:"yazOkulu"},b=(e,l)=>{var n,i;return e?u("y2"===l?null!==(n=null===e||void 0===e?void 0:e.studentCountY2)&&void 0!==n?n:null===e||void 0===e?void 0:e.studentCount:"y3"===l&&null!==(i=null===e||void 0===e?void 0:e.studentCountY3)&&void 0!==i?i:null===e||void 0===e?void 0:e.studentCount):0},A=[{name:"MAG\u0130S BA\u015eARI BURSU"},{name:"MAAR\u0130F YETENEK BURSU"},{name:"\u0130HT\u0130YA\xc7 BURSU"},{name:"OKUL BA\u015eARI BURSU"},{name:"TAM E\u011e\u0130T\u0130M BURSU"},{name:"BARINMA BURSU"},{name:"T\xdcRK\xc7E BA\u015eARI BURSU"},{name:"VAKFIN ULUSLARARASI Y\xdcK\xdcML\xdcL\xdcKLER\u0130NDEN KAYNAKLI \u0130ND\u0130R\u0130M"},{name:"VAKIF \xc7ALI\u015eANI \u0130ND\u0130R\u0130M\u0130"},{name:"KARDE\u015e \u0130ND\u0130R\u0130M\u0130"},{name:"ERKEN KAYIT \u0130ND\u0130R\u0130M\u0130"},{name:"PE\u015e\u0130N \xd6DEME \u0130ND\u0130R\u0130M\u0130"},{name:"KADEME GE\xc7\u0130\u015e \u0130ND\u0130R\u0130M\u0130"},{name:"TEMS\u0130L \u0130ND\u0130R\u0130M\u0130"},{name:"KURUM \u0130ND\u0130R\u0130M\u0130"},{name:"\u0130ST\u0130SNA\u0130 \u0130ND\u0130R\u0130M"},{name:"YEREL MEVZUATIN \u015eART KO\u015eTU\u011eU \u0130ND\u0130R\u0130M"}];function M(e,l){const n=(0,s.A)({},e||{}),i=l||{};for(const t of Object.keys(i)){const e=i[t];e&&"object"===typeof e&&!Array.isArray(e)?n[t]=M(n[t],e):n[t]=e}return n}const Y=["okulOncesi","ilkokulYerel","ilkokulInt","ortaokulYerel","ortaokulInt","liseYerel","liseInt"],w=["turk_mudur","turk_mdyard","turk_egitimci","turk_temsil","yerel_yonetici_egitimci","yerel_destek","yerel_ulke_temsil_destek","int_yonetici_egitimci"];function C(e){const l=(null===e||void 0===e?void 0:e.unitCosts)||{},n=(null===e||void 0===e?void 0:e.headcountsByLevel)||{},i={};for(const a of w){let e=0;for(const l of Y){var t;e+=u(null===n||void 0===n||null===(t=n[l])||void 0===t?void 0:t[a])}i[a]=u(null===l||void 0===l?void 0:l[a])*e}const s=e=>e.reduce((e,l)=>e+u(i[l]),0);return{turkPersonelMaas:s(["turk_mudur","turk_mdyard","turk_egitimci"]),turkDestekPersonelMaas:s(["turk_temsil"]),yerelPersonelMaas:s(["yerel_yonetici_egitimci"]),yerelDestekPersonelMaas:s(["yerel_destek","yerel_ulke_temsil_destek"]),internationalPersonelMaas:s(["int_yonetici_egitimci"])}}function S(e){var l,n,t,Y;let{baseYear:w,giderler:S,onChange:T,grades:E,gelirler:R,discounts:D,onDiscountsChange:K,currencyCode:L="USD",temelBilgiler:G,ik:I,dirtyPaths:P,onDirty:F,uiScopeKey:B}=e;const z=(0,i.useMemo)(()=>function(e){const l=(null===e||void 0===e?void 0:e.inflation)||{},n=u(null===l||void 0===l?void 0:l.y2);return{y1:1,y2:1+n,y3:(1+n)*(1+u(null===l||void 0===l?void 0:l.y3))}}(G),[G]),[U,O]=(0,a.IM)("expenses.showAccountCol",!1,{scope:B}),_=(0,i.useMemo)(()=>{const e=Number.isFinite(Number(w))?Number(w):null,l=l=>{const n=l+1,i=null!=e?e+l:null,t=null!=i?i+1:null,s=null!=i&&null!=t?"".concat(i,"-").concat(t):"";return{n:n,start:i,end:t,range:s,labelLong:s?"".concat(n,".Y\u0131l (").concat(s," E\u011e\u0130T\u0130M \xd6\u011eRET\u0130M YILI)"):"".concat(n,".Y\u0131l"),labelShort:s?"".concat(n,".Y\u0131l (").concat(s,")"):"".concat(n,".Y\u0131l")}};return{y1:l(0),y2:l(1),y3:l(2)}},[w]),H=(0,i.useMemo)(()=>function(e){return(Array.isArray(e)?e:[]).reduce((e,l)=>e+u(null===l||void 0===l?void 0:l.studentsPerBranch),0)}(E),[E]),V=e=>"inputs.giderler.isletme.items.".concat(e),W=(e,l)=>"inputs.giderler.ogrenimDisi.items.".concat(e,".").concat(l),Z=(e,l)=>"inputs.giderler.yurt.items.".concat(e,".").concat(l),J=(e,l)=>"inputs.discounts.".concat(e,".").concat(l),q=(e,l)=>e+((e=>!!P&&P.has(e))(l)?" input-dirty":""),Q=(0,i.useMemo)(()=>M(function(){const e={};for(const i of j)e[i.key]=0;const l={};for(const i of g)l[i.key]={studentCount:0,unitCost:0,unitCostY2:0,unitCostY3:0};const n={};for(const i of N)n[i.key]={studentCount:0,unitCost:0};return{isletme:{items:e},ogrenimDisi:{items:l},yurt:{items:n}}}(),S||{}),[S]),X=(0,i.useMemo)(()=>{const e=(null===I||void 0===I?void 0:I.years)||{};return{y1:C((null===e||void 0===e?void 0:e.y1)||{}),y2:C((null===e||void 0===e?void 0:e.y2)||{}),y3:C((null===e||void 0===e?void 0:e.y3)||{})}},[I]),$=(0,i.useMemo)(()=>function(e,l,n){var i,t,s;const a=e||{},r=Array.isArray(null===a||void 0===a||null===(i=a.tuition)||void 0===i?void 0:i.rows)?a.tuition.rows:[],d=Array.isArray(null===a||void 0===a||null===(t=a.nonEducationFees)||void 0===t?void 0:t.rows)?a.nonEducationFees.rows:[],o=Array.isArray(null===a||void 0===a||null===(s=a.dormitory)||void 0===s?void 0:s.rows)?a.dormitory.rows:[],c=(e,l)=>{var n,i,t;return e?u("y2"===l?null!==(n=null===e||void 0===e?void 0:e.studentCountY2)&&void 0!==n?n:null===e||void 0===e?void 0:e.studentCount:"y3"===l&&null!==(i=null!==(t=null===e||void 0===e?void 0:e.studentCountY3)&&void 0!==t?t:null===e||void 0===e?void 0:e.studentCountY2)&&void 0!==i?i:null===e||void 0===e?void 0:e.studentCount):0},m=e=>r.length?r.reduce((l,n)=>l+c(n,e),0):l,y=e=>{var l;const i=null!==(l=null===n||void 0===n?void 0:n[e])&&void 0!==l?l:1;return r.length?r.reduce((l,n)=>l+c(n,e)*u(null===n||void 0===n?void 0:n.unitFee)*i,0):m(e)*u(a.tuitionFeePerStudentYearly)*i},v=e=>{var i;const t=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:1;return d.length?d.reduce((l,n)=>l+c(n,e)*u(null===n||void 0===n?void 0:n.unitFee)*t,0):l*u(a.lunchFeePerStudentYearly)*t},x=e=>{var i;const t=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:1;return o.length?o.reduce((l,n)=>l+c(n,e)*u(null===n||void 0===n?void 0:n.unitFee)*t,0):l*u(a.dormitoryFeePerStudentYearly)*t},p={};for(const u of h){const e=y(u),l=m(u),n=e+v(u)+x(u),i=l>0?e/l:0;p[u]={grossTuition:e,tuitionStudents:l,avgTuitionFee:i,activityGross:n}}return p}(R,H,z),[R,H,z]),ee=(0,i.useMemo)(()=>{var e;const l=Array.isArray(null===R||void 0===R||null===(e=R.nonEducationFees)||void 0===e?void 0:e.rows)?R.nonEducationFees.rows:[];return new Map(l.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]))},[R]),le=(0,i.useMemo)(()=>{var e;const l=Array.isArray(null===R||void 0===R||null===(e=R.dormitory)||void 0===e?void 0:e.rows)?R.dormitory.rows:[];return new Map(l.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]))},[R]),ne=u(null===$||void 0===$||null===(l=$.y1)||void 0===l?void 0:l.tuitionStudents),ie=(0,i.useMemo)(()=>{const e={};for(const n of h){var l;const i=(null===$||void 0===$?void 0:$[n])||{};e[n]=(0,r.N)({yearKey:n,discounts:D,grossTuition:i.grossTuition,tuitionStudents:i.tuitionStudents,avgTuitionFee:i.avgTuitionFee,factor:null!==(l=null===z||void 0===z?void 0:z[n])&&void 0!==l?l:1})}return e},[D,z,$]),te={y1:u(null===$||void 0===$||null===(n=$.y1)||void 0===n?void 0:n.activityGross)-u(null===ie||void 0===ie?void 0:ie.y1),y2:u(null===$||void 0===$||null===(t=$.y2)||void 0===t?void 0:t.activityGross)-u(null===ie||void 0===ie?void 0:ie.y2),y3:u(null===$||void 0===$||null===(Y=$.y3)||void 0===Y?void 0:Y.activityGross)-u(null===ie||void 0===ie?void 0:ie.y3)},se=(e,l)=>{var n,i,t,s,a,r;const d=u(null===Q||void 0===Q||null===(n=Q.isletme)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e]),o=u(null===X||void 0===X||null===(t=X.y1)||void 0===t?void 0:t[e]),c=o>0?Math.max(0,d-o):0,m=o>0?o:d,y=u(null===X||void 0===X||null===(s=X[l])||void 0===s?void 0:s[e]);return(y>0?y:"y1"===l?m:m*(null!==(a=null===z||void 0===z?void 0:z[l])&&void 0!==a?a:1))+("y1"===l?c:c*(null!==(r=null===z||void 0===z?void 0:z[l])&&void 0!==r?r:1))},ae=(e,l)=>{var n,i,t;if(p.has(e))return se(e,l);const s=u(null===Q||void 0===Q||null===(n=Q.isletme)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e]);return"y1"===l?s:s*(null!==(t=null===z||void 0===z?void 0:z[l])&&void 0!==t?t:1)},re=(0,i.useMemo)(()=>{const e={y1:0,y2:0,y3:0};for(const l of j)e.y1+=ae(l.key,"y1"),e.y2+=ae(l.key,"y2"),e.y3+=ae(l.key,"y3");return e},[Q,X,z]),de=(0,i.useMemo)(()=>{var e;const l={y1:0,y2:0,y3:0,studentsY1:0,studentsY2:0,studentsY3:0},n=Array.isArray(null===R||void 0===R||null===(e=R.nonEducationFees)||void 0===e?void 0:e.rows)?R.nonEducationFees.rows:[],i=new Map(n.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]));for(const a of g){var t,s;const e=(null===(t=Q.ogrenimDisi)||void 0===t||null===(s=t.items)||void 0===s?void 0:s[a.key])||{},n=k[a.key],r=n?i.get(n):null,d=b(r,"y1"),o=b(r,"y2"),c=b(r,"y3"),m=u(e.unitCost),y=u(e.unitCostY2),v=u(e.unitCostY3);l.studentsY1+=d,l.studentsY2+=o,l.studentsY3+=c,l.y1+=d*m,l.y2+=o*y,l.y3+=c*v}return l},[Q,R]),oe=(0,i.useMemo)(()=>{var e;const l={y1:0,y2:0,y3:0,studentsY1:0,studentsY2:0,studentsY3:0},n=Array.isArray(null===R||void 0===R||null===(e=R.dormitory)||void 0===e?void 0:e.rows)?R.dormitory.rows:[],i=new Map(n.map(e=>[String((null===e||void 0===e?void 0:e.key)||""),e]));for(const d of N){var t,s,a,r;const e=(null===(t=Q.yurt)||void 0===t||null===(s=t.items)||void 0===s?void 0:s[d.key])||{},n=f[d.key],o=n?i.get(n):null,c=b(o,"y1"),m=b(o,"y2"),y=b(o,"y3"),v=u(e.unitCost),h=v*(null!==(a=null===z||void 0===z?void 0:z.y2)&&void 0!==a?a:1),x=v*(null!==(r=null===z||void 0===z?void 0:z.y3)&&void 0!==r?r:1);l.studentsY1+=c,l.studentsY2+=m,l.studentsY3+=y,l.y1+=c*v,l.y2+=m*h,l.y3+=y*x}return l},[Q,R,z]),ce={y1:re.y1+de.y1+oe.y1,y2:re.y2+de.y2+oe.y2,y3:re.y3+de.y3+oe.y3};(0,i.useEffect)(()=>{if(!K)return;if(!Number.isFinite(ne)||ne<=0)return;const e=Array.isArray(D)?D:[];let l=!1;const n=e.map(e=>{if(!e)return e;if(null==e.studentCount||""===e.studentCount)return e;const n=Number(e.studentCount);if(!Number.isFinite(n))return e;const i=Math.max(0,Math.round(n)),t=c(i/ne,0,1),a=c(u(e.ratio),0,1);return Math.abs(t-a)<1e-6?e:(l=!0,(0,s.A)((0,s.A)({},e),{},{ratio:t}))});l&&K(n)},[ne,D,K]);const ue=(e,l)=>l>0?e/l-1:null,me=(0,i.useMemo)(()=>{const e=new Map;for(const l of j)e.set(l.key,l);return e},[]),ye=(0,i.useMemo)(()=>[{label:null,keys:["ulkeTemsilciligi","genelYonetim"]},{label:"E\u011fitim Hizmetleri Maliyetleri",bandClass:"exp-band-edu",keys:["kira","emsalKira","enerjiKantin","turkPersonelMaas","turkDestekPersonelMaas","yerelPersonelMaas","yerelDestekPersonelMaas","internationalPersonelMaas","disaridanHizmet","egitimAracGerec","finansalGiderler","egitimAmacliHizmet"]},{label:null,keys:["temsilAgirlama"]},{label:null,keys:["ulkeIciUlasim"]},{label:null,keys:["ulkeDisiUlasim"]},{label:"Vergiler",keys:["vergilerResmiIslemler","vergiler"]},{label:null,keys:["demirbasYatirim","rutinBakim"]},{label:"Pazarlama, Tan\u0131t\u0131m",keys:["pazarlamaOrganizasyon","reklamTanitim"]},{label:null,keys:["tahsilEdilemeyenGelirler"]}],[]);return(0,o.jsxs)("div",{className:"card expenses-card expenses-table-container",children:[(0,o.jsx)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"flex-start"},children:(0,o.jsx)("button",{className:"btn",type:"button",onClick:()=>O(e=>!e),children:U?"Hesap kolonunu gizle":"Hesap kolonunu g\xf6ster"})}),(0,o.jsx)("div",{className:"section-head",children:(0,o.jsx)("div",{className:"section-title",children:"G\u0130DERLER (\u0130\u015eLETME) / YIL (".concat(L,")")})}),(0,o.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,o.jsxs)("table",{className:"table data-table table-3y expenses-3block expenses-main",children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{className:"group",children:[(0,o.jsx)("th",{rowSpan:2,className:"exp-group-col",style:{width:30}}),U?(0,o.jsx)("th",{rowSpan:2,style:{width:70},children:"Hesap"}):null,(0,o.jsx)("th",{rowSpan:2,className:"exp-label-col",style:v,children:"Gider Kalemi"}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y1.labelLong}),(0,o.jsx)("th",{colSpan:4,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y2.labelLong}),(0,o.jsx)("th",{colSpan:4,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y3.labelLong})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"sep-left exp-col-total cell-num",children:"Toplam (".concat(L,")")}),(0,o.jsx)("th",{className:"exp-col-pct cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"\u0130\u015fletme Giderleri"}),(0,o.jsx)("div",{children:"Toplam\u0131 i\xe7indeki %"})]})}),(0,o.jsx)("th",{className:"exp-col-pct cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"Toplam Ciro"}),(0,o.jsx)("div",{children:"i\xe7indeki %"})]})}),(0,o.jsx)("th",{className:"sep-left exp-col-yoy cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"Tahmini"}),(0,o.jsx)("div",{children:"art\u0131\u015f %"})]})}),(0,o.jsx)("th",{className:"exp-col-total cell-num",children:"Toplam (".concat(L,")")}),(0,o.jsx)("th",{className:"exp-col-pct cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"\u0130\u015fletme Giderleri"}),(0,o.jsx)("div",{children:"Toplam\u0131 i\xe7indeki %"})]})}),(0,o.jsx)("th",{className:"exp-col-pct cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"Toplam Ciro"}),(0,o.jsx)("div",{children:"i\xe7indeki %"})]})}),(0,o.jsx)("th",{className:"sep-left exp-col-yoy cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"Tahmini"}),(0,o.jsx)("div",{children:"art\u0131\u015f %"})]})}),(0,o.jsx)("th",{className:"exp-col-total cell-num",children:"Toplam (".concat(L,")")}),(0,o.jsx)("th",{className:"exp-col-pct cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"\u0130\u015fletme Giderleri"}),(0,o.jsx)("div",{children:"Toplam\u0131 i\xe7indeki %"})]})}),(0,o.jsx)("th",{className:"exp-col-pct cell-num",children:(0,o.jsxs)("div",{className:"exp-th-wrap",children:[(0,o.jsx)("div",{children:"Toplam Ciro"}),(0,o.jsx)("div",{children:"i\xe7indeki %"})]})})]})]}),(0,o.jsxs)("tbody",{children:[ye.flatMap(e=>{const l=e.keys.map(e=>me.get(e)).filter(Boolean);return l.map((n,i)=>{var t,a;const r=ae(n.key,"y1"),c=ae(n.key,"y2"),h=ae(n.key,"y3"),j=ue(c,r),g=ue(h,c),N=re.y1>0?r/re.y1:null,k=re.y2>0?c/re.y2:null,f=re.y3>0?h/re.y3:null,b=te.y1>0?r/te.y1:null,A=te.y2>0?c/te.y2:null,M=te.y3>0?h/te.y3:null,Y=p.has(n.key)?se(n.key,"y1"):u(null===(t=Q.isletme)||void 0===t||null===(a=t.items)||void 0===a?void 0:a[n.key]);return(0,o.jsxs)("tr",{className:"".concat(e.bandClass||"").concat(0===i?" row-group-start":""),children:[e.label?0===i?(0,o.jsx)("td",{rowSpan:l.length,className:"exp-group-cell",children:(0,o.jsx)("div",{className:"exp-group-label",style:{"--exp-scale":x(e.label,l.length)},title:e.label,children:e.label})}):null:(0,o.jsx)("td",{className:"exp-group-blank"}),U?(0,o.jsx)("td",{children:n.code}):null,(0,o.jsx)("td",{className:"exp-label-col",style:v,title:n.label,children:n.label}),(0,o.jsx)("td",{className:"sep-left cell-num",children:(0,o.jsx)(d.A,{className:q("input xxs num",V(n.key)),min:"0",step:"0.01",value:Y,disabled:p.has(n.key),title:p.has(n.key)?"Bu sat\u0131r HR (\u0130K) tab\u0131ndan otomatik hesaplan\u0131r":"Sadece 1. y\u0131l\u0131 gir, 2-3. y\u0131l otomatik",onChange:e=>function(e,l){var n;const i=""===l?0:u(l);if(p.has(e))return;const t=(0,s.A)((0,s.A)({},Q),{},{isletme:(0,s.A)((0,s.A)({},Q.isletme||{}),{},{items:(0,s.A)((0,s.A)({},(null===(n=Q.isletme)||void 0===n?void 0:n.items)||{}),{},{[e]:i})})});T(t),null===F||void 0===F||F(V(e),i)}(n.key,e)})}),(0,o.jsx)("td",{className:"cell-pct",children:y(N)}),(0,o.jsx)("td",{className:"cell-pct",children:y(b)}),(0,o.jsx)("td",{className:"cell-pct sep-left",children:y(j)}),(0,o.jsx)("td",{className:"cell-num",children:m(c)}),(0,o.jsx)("td",{className:"cell-pct",children:y(k)}),(0,o.jsx)("td",{className:"cell-pct",children:y(A)}),(0,o.jsx)("td",{className:"cell-pct sep-left",children:y(g)}),(0,o.jsx)("td",{className:"cell-num",children:m(h)}),(0,o.jsx)("td",{className:"cell-pct",children:y(f)}),(0,o.jsx)("td",{className:"cell-pct",children:y(M)})]},n.key)})}),(0,o.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,o.jsx)("td",{className:"exp-group-blank"}),(0,o.jsx)("td",{colSpan:U?2:1,children:"TOPLAM"}),(0,o.jsx)("td",{className:"cell-num sep-left",children:m(re.y1)}),(0,o.jsx)("td",{className:"cell-pct",children:y(1)}),(0,o.jsx)("td",{className:"cell-pct",children:y(te.y1>0?re.y1/te.y1:null)}),(0,o.jsx)("td",{className:"cell-pct sep-left",children:y(ue(re.y2,re.y1))}),(0,o.jsx)("td",{className:"cell-num",children:m(re.y2)}),(0,o.jsx)("td",{className:"cell-pct",children:y(1)}),(0,o.jsx)("td",{className:"cell-pct",children:y(te.y2>0?re.y2/te.y2:null)}),(0,o.jsx)("td",{className:"cell-pct sep-left",children:y(ue(re.y3,re.y2))}),(0,o.jsx)("td",{className:"cell-num",children:m(re.y3)}),(0,o.jsx)("td",{className:"cell-pct",children:y(1)}),(0,o.jsx)("td",{className:"cell-pct",children:y(te.y3>0?re.y3/te.y3:null)})]})]})]})}),(0,o.jsx)("div",{className:"section-head",children:(0,o.jsx)("div",{className:"section-title",children:"G\u0130DERLER (\xd6\u011eREN\u0130M DI\u015eI H\u0130ZMETLERE Y\xd6NEL\u0130K SATILAN MAL VE H\u0130ZMETLER) / YIL"})}),(0,o.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,o.jsxs)("table",{className:"table data-table",children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{className:"group",children:[U?(0,o.jsx)("th",{rowSpan:2,style:{width:70},children:"Hesap"}):null,(0,o.jsx)("th",{rowSpan:2,className:"exp-label-col",style:v,children:"Gider Kalemi"}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y1.labelLong}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y2.labelLong}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y3.labelLong})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:140},children:"Birim (".concat(_.y1.range,")")}),(0,o.jsx)("th",{style:{width:160},children:"Toplam (".concat(_.y1.range,")")}),(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:140},children:"Birim (".concat(_.y2.range,")")}),(0,o.jsx)("th",{style:{width:160},children:"Toplam (".concat(_.y2.range,")")}),(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:140},children:"Birim (".concat(_.y3.range,")")}),(0,o.jsx)("th",{style:{width:160},children:"Toplam (".concat(_.y3.range,")")})]})]}),(0,o.jsxs)("tbody",{children:[g.map((e,l)=>{var n,i,t,a,r,c,y;const v=(null===(n=Q.ogrenimDisi)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e.key])||{},h="yemek"===e.key?"yemek":"uniforma"===e.key?"uniforma":"kitapKirtasiye"===e.key?"kitap":"ulasimServis"===e.key?"ulasim":null,x=h?ee.get(h):null,p=u(null===x||void 0===x?void 0:x.studentCount),j=u(null!==(t=null===x||void 0===x?void 0:x.studentCountY2)&&void 0!==t?t:null===x||void 0===x?void 0:x.studentCount),g=u(null!==(a=null!==(r=null===x||void 0===x?void 0:x.studentCountY3)&&void 0!==r?r:null===x||void 0===x?void 0:x.studentCountY2)&&void 0!==a?a:null===x||void 0===x?void 0:x.studentCount),N=u(v.unitCost),k=N*(null!==(c=z.y2)&&void 0!==c?c:1),f=N*(null!==(y=z.y3)&&void 0!==y?y:1),b=p*N,A=j*k,M=g*f;return(0,o.jsxs)("tr",{className:0===l?"row-group-start":"",children:[U?(0,o.jsx)("td",{children:e.code}):null,(0,o.jsx)("td",{children:e.label}),(0,o.jsx)("td",{className:"sep-left cell-count",children:(0,o.jsx)("div",{className:"cell-num",children:m(p)})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)(d.A,{className:q("input xs num",W(e.key,"unitCost")),min:"0",step:"0.01",value:N,onChange:l=>function(e,l,n){var i,t,a;const r=(null===(i=Q.ogrenimDisi)||void 0===i||null===(t=i.items)||void 0===t?void 0:t[e])||{studentCount:0,unitCost:0},d=""===n?0:u(n),o=(0,s.A)((0,s.A)({},Q),{},{ogrenimDisi:(0,s.A)((0,s.A)({},Q.ogrenimDisi||{}),{},{items:(0,s.A)((0,s.A)({},(null===(a=Q.ogrenimDisi)||void 0===a?void 0:a.items)||{}),{},{[e]:(0,s.A)((0,s.A)({},r),{},{[l]:d})})})});T(o),null===F||void 0===F||F(W(e,l),d)}(e.key,"unitCost",l)})}),(0,o.jsx)("td",{className:"cell-num",children:m(b)}),(0,o.jsx)("td",{className:"cell-count sep-left",children:(0,o.jsx)("div",{className:"cell-num",children:m(j)})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)("div",{children:m(k)})}),(0,o.jsx)("td",{className:"cell-num",children:m(A)}),(0,o.jsx)("td",{className:"cell-count sep-left",children:(0,o.jsx)("div",{className:"cell-num",children:m(g)})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)("div",{children:m(f)})}),(0,o.jsx)("td",{className:"cell-num",children:m(M)})]},e.key)}),(()=>{const e=ee,l=g.reduce((l,n)=>{var i,t,s,a,r,d,o;const c=(null===(i=Q.ogrenimDisi)||void 0===i||null===(t=i.items)||void 0===t?void 0:t[n.key])||{},m="yemek"===n.key?"yemek":"uniforma"===n.key?"uniforma":"kitapKirtasiye"===n.key?"kitap":"ulasimServis"===n.key?"ulasim":null,y=m?e.get(m):null,v=u(null===y||void 0===y?void 0:y.studentCount),h=u(null!==(s=null===y||void 0===y?void 0:y.studentCountY2)&&void 0!==s?s:null===y||void 0===y?void 0:y.studentCount),x=u(null!==(a=null!==(r=null===y||void 0===y?void 0:y.studentCountY3)&&void 0!==r?r:null===y||void 0===y?void 0:y.studentCountY2)&&void 0!==a?a:null===y||void 0===y?void 0:y.studentCount),p=u(c.unitCost),j=p*(null!==(d=z.y2)&&void 0!==d?d:1),g=p*(null!==(o=z.y3)&&void 0!==o?o:1);return l.s1+=v,l.s2+=h,l.s3+=x,l.y1+=v*p,l.y2+=h*j,l.y3+=x*g,l},{s1:0,s2:0,s3:0,y1:0,y2:0,y3:0});return(0,o.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,o.jsx)("td",{colSpan:U?2:1,children:"TOPLAM"}),(0,o.jsx)("td",{className:"cell-count sep-left"}),(0,o.jsx)("td",{}),(0,o.jsx)("td",{className:"cell-num",children:m(l.y1)}),(0,o.jsx)("td",{className:"cell-count sep-left"}),(0,o.jsx)("td",{}),(0,o.jsx)("td",{className:"cell-num",children:m(l.y2)}),(0,o.jsx)("td",{className:"cell-count sep-left"}),(0,o.jsx)("td",{}),(0,o.jsx)("td",{className:"cell-num",children:m(l.y3)})]})})()]})]})}),(0,o.jsx)("div",{className:"section-head",children:(0,o.jsx)("div",{className:"section-title",children:"G\u0130DERLER (YURT, KONAKLAMA) / YIL"})}),(0,o.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,o.jsxs)("table",{className:"table data-table",children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{className:"group",children:[U?(0,o.jsx)("th",{rowSpan:2,style:{width:70},children:"Hesap"}):null,(0,o.jsx)("th",{rowSpan:2,className:"exp-label-col",style:v,children:"Gider Kalemi"}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y1.labelLong}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y2.labelLong}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y3.labelLong})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:140},children:"Birim (".concat(_.y1.range,")")}),(0,o.jsx)("th",{style:{width:160},children:"Toplam (".concat(_.y1.range,")")}),(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:140},children:"Birim (".concat(_.y2.range,")")}),(0,o.jsx)("th",{style:{width:160},children:"Toplam (".concat(_.y2.range,")")}),(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"\xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:140},children:"Birim (".concat(_.y3.range,")")}),(0,o.jsx)("th",{style:{width:160},children:"Toplam (".concat(_.y3.range,")")})]})]}),(0,o.jsxs)("tbody",{children:[N.map((e,l)=>{var n,i,t,a,r;const c=(null===(n=Q.yurt)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[e.key])||{},y="yurtGiderleri"===e.key?"yurt":"digerYurt"===e.key?"yazOkulu":null,v=y?le.get(y):null,h=u(null===v||void 0===v?void 0:v.studentCount),x=u(null!==(t=null===v||void 0===v?void 0:v.studentCountY2)&&void 0!==t?t:null===v||void 0===v?void 0:v.studentCount),p=u(null!==(a=null!==(r=null===v||void 0===v?void 0:v.studentCountY3)&&void 0!==r?r:null===v||void 0===v?void 0:v.studentCountY2)&&void 0!==a?a:null===v||void 0===v?void 0:v.studentCount),j=u(c.unitCost),g=j*z.y2,N=j*z.y3,k=h*j,f=x*g,b=p*N;return(0,o.jsxs)("tr",{className:0===l?"row-group-start":"",children:[U?(0,o.jsx)("td",{children:e.code}):null,(0,o.jsx)("td",{children:e.label}),(0,o.jsx)("td",{className:"sep-left cell-count",children:(0,o.jsx)("div",{className:"cell-num",children:m(h)})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)(d.A,{className:q("input xs num",Z(e.key,"unitCost")),min:"0",step:"0.01",value:j,onChange:l=>function(e,l,n){var i,t,a;const r=(null===(i=Q.yurt)||void 0===i||null===(t=i.items)||void 0===t?void 0:t[e])||{studentCount:0,unitCost:0},d=""===n?0:u(n),o=(0,s.A)((0,s.A)({},Q),{},{yurt:(0,s.A)((0,s.A)({},Q.yurt||{}),{},{items:(0,s.A)((0,s.A)({},(null===(a=Q.yurt)||void 0===a?void 0:a.items)||{}),{},{[e]:(0,s.A)((0,s.A)({},r),{},{[l]:d})})})});T(o),null===F||void 0===F||F(Z(e,l),d)}(e.key,"unitCost",l)})}),(0,o.jsx)("td",{className:"cell-num",children:m(k)}),(0,o.jsx)("td",{className:"sep-left cell-count",children:(0,o.jsx)("div",{className:"cell-num",children:m(x)})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)("div",{className:"cell-num",children:m(g)})}),(0,o.jsx)("td",{className:"cell-num",children:m(f)}),(0,o.jsx)("td",{className:"sep-left cell-count",children:(0,o.jsx)("div",{className:"cell-num",children:m(p)})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)("div",{className:"cell-num",children:m(N)})}),(0,o.jsx)("td",{className:"cell-num",children:m(b)})]},e.key)}),(()=>{const e=le,l=N.reduce((l,n)=>{var i,t,s,a,r;const d=(null===(i=Q.yurt)||void 0===i||null===(t=i.items)||void 0===t?void 0:t[n.key])||{},o="yurtGiderleri"===n.key?"yurt":"digerYurt"===n.key?"yazOkulu":null,c=o?e.get(o):null,m=u(null===c||void 0===c?void 0:c.studentCount),y=u(null!==(s=null===c||void 0===c?void 0:c.studentCountY2)&&void 0!==s?s:null===c||void 0===c?void 0:c.studentCount),v=u(null!==(a=null!==(r=null===c||void 0===c?void 0:c.studentCountY3)&&void 0!==r?r:null===c||void 0===c?void 0:c.studentCountY2)&&void 0!==a?a:null===c||void 0===c?void 0:c.studentCount),h=u(d.unitCost),x=h*z.y2,p=h*z.y3;return l.s1+=m,l.s2+=y,l.s3+=v,l.y1+=m*h,l.y2+=y*x,l.y3+=v*p,l},{s1:0,s2:0,s3:0,y1:0,y2:0,y3:0});return(0,o.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,o.jsx)("td",{colSpan:U?2:1,children:"TOPLAM"}),(0,o.jsx)("td",{className:"cell-count sep-left"}),(0,o.jsx)("td",{}),(0,o.jsx)("td",{className:"cell-num",children:m(l.y1)}),(0,o.jsx)("td",{className:"cell-count sep-left"}),(0,o.jsx)("td",{}),(0,o.jsx)("td",{className:"cell-num",children:m(l.y2)}),(0,o.jsx)("td",{className:"cell-count sep-left"}),(0,o.jsx)("td",{}),(0,o.jsx)("td",{className:"cell-num",children:m(l.y3)})]})})()]})]})}),(0,o.jsx)("div",{className:"section-head",children:(0,o.jsx)("div",{className:"section-title",children:"BURS VE \u0130ND\u0130R\u0130MLER / YIL"})}),(0,o.jsx)("div",{className:"table-scroll no-vert-scroll",style:{marginTop:8},children:(0,o.jsxs)("table",{className:"table data-table",children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{className:"group",children:[(0,o.jsx)("th",{rowSpan:2,className:"exp-label-col",style:v,children:"Burs / \u0130ndirim"}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y1.labelLong}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y2.labelLong}),(0,o.jsx)("th",{colSpan:3,className:"sep-left exp-year-head",style:{textAlign:"center"},children:_.y3.labelLong})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"Burslu \xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:120},children:"Ort. %"}),(0,o.jsx)("th",{style:{width:150},children:"Toplam"}),(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"Burslu \xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:120},children:"Ort. %"}),(0,o.jsx)("th",{style:{width:150},children:"Toplam"}),(0,o.jsx)("th",{className:"sep-left",style:{width:140},children:"Burslu \xd6\u011frenci"}),(0,o.jsx)("th",{style:{width:120},children:"Ort. %"}),(0,o.jsx)("th",{style:{width:150},children:"Toplam"})]})]}),(0,o.jsx)("tbody",{children:(e=>{const l=Array.isArray(D)?D:[],n=new Map(l.map(e=>[String((null===e||void 0===e?void 0:e.name)||""),e])),i=e=>{var l,n;return u(null===$||void 0===$||null===(l=$[e])||void 0===l?void 0:l.tuitionStudents)||u(null===$||void 0===$||null===(n=$.y1)||void 0===n?void 0:n.tuitionStudents)},t=(e,l)=>{const n=i(l),t="y1"===l?null===e||void 0===e?void 0:e.studentCount:"y2"===l?null===e||void 0===e?void 0:e.studentCountY2:null===e||void 0===e?void 0:e.studentCountY3,s="y1"===l?null===e||void 0===e?void 0:e.ratio:"y2"===l?null===e||void 0===e?void 0:e.ratioY2:null===e||void 0===e?void 0:e.ratioY3,a=null!=t&&""!==t?Math.max(0,Math.round(u(t))):null;if(n>0){const e=null!=a?a:Math.round(c(u(s),0,1)*n);return Math.min(e,n)}return null!=a?a:0},a=(e,l)=>{const n="y1"===l?null===e||void 0===e?void 0:e.value:"y2"===l?null===e||void 0===e?void 0:e.valueY2:null===e||void 0===e?void 0:e.valueY3;return c(u(n),0,1)},r=(e,l,n,i)=>{const t=(e=>{var l;return u(null===$||void 0===$||null===(l=$[e])||void 0===l?void 0:l.avgTuitionFee)})(l);if("fixed"===String((null===e||void 0===e?void 0:e.mode)||"percent")){var s;const i="y1"===l?null===e||void 0===e?void 0:e.value:"y2"===l?null===e||void 0===e?void 0:e.valueY2:null===e||void 0===e?void 0:e.valueY3,t="y2"===l&&null!=(null===e||void 0===e?void 0:e.valueY2)&&""!==(null===e||void 0===e?void 0:e.valueY2)||"y3"===l&&null!=(null===e||void 0===e?void 0:e.valueY3)&&""!==(null===e||void 0===e?void 0:e.valueY3),a=u(i),r=t?a:a*(null!==(s=null===z||void 0===z?void 0:z[l])&&void 0!==s?s:1);return n*Math.max(0,r)}return t*n*i},v=(e,n,t,a)=>{if(!K)return;const r=i(n),d=""===t||null==t,o=d?0:Math.max(0,Math.round(u(t))),m=r>0?Math.min(o,r):o,y=c(u(a)/100,0,1),v=c(m/(r>0?r:1),0,1),h=[...l],x=h.findIndex(l=>String((null===l||void 0===l?void 0:l.name)||"")===e),p=x>=0?h[x]:{name:e,mode:"percent"},j=d?void 0:m,g="y1"===n?{studentCount:j,ratio:v,value:y,mode:"percent"}:"y2"===n?{studentCountY2:j,ratioY2:v,valueY2:y,mode:"percent"}:{studentCountY3:j,ratioY3:v,valueY3:y,mode:"percent"};x>=0?h[x]=(0,s.A)((0,s.A)({},p),g):h.push((0,s.A)((0,s.A)({},p),g)),K(h),"y1"===n?(null===F||void 0===F||F(J(e,"ratio"),v),null===F||void 0===F||F(J(e,"value"),y)):"y2"===n?(null===F||void 0===F||F(J(e,"ratioY2"),v),null===F||void 0===F||F(J(e,"valueY2"),y)):(null===F||void 0===F||F(J(e,"ratioY3"),v),null===F||void 0===F||F(J(e,"valueY3"),y))},h=A.map(e=>{const l=n.get(e.name)||{name:e.name,mode:"percent",value:0,ratio:0},i=t(l,"y1"),s=t(l,"y2"),d=t(l,"y3"),o=a(l,"y1"),c=a(l,"y2"),u=a(l,"y3"),m=r(l,"y1",i,o),y=r(l,"y2",s,c),v=r(l,"y3",d,u);return{name:e.name,c1:i,c2:s,c3:d,p1:o,p2:c,p3:u,a1:m,a2:y,a3:v}}),x=h.reduce((e,l)=>(e.s1+=u(l.c1),e.s2+=u(l.c2),e.s3+=u(l.c3),e.a1+=u(l.a1),e.a2+=u(l.a2),e.a3+=u(l.a3),e.w1+=u(l.c1)*c(l.p1,0,1),e.w2+=u(l.c2)*c(l.p2,0,1),e.w3+=u(l.c3)*c(l.p3,0,1),e),{s1:0,s2:0,s3:0,a1:0,a2:0,a3:0,w1:0,w2:0,w3:0}),p=x.s1>0?x.w1/x.s1:0,j=x.s2>0?x.w2/x.s2:0,g=x.s3>0?x.w3/x.s3:0,N=u(null===$||void 0===$||null===(e=$.y1)||void 0===e?void 0:e.grossTuition),k=i("y1");return(0,o.jsxs)(o.Fragment,{children:[h.map((e,l)=>(0,o.jsxs)("tr",{className:0===l?"row-group-start":"",children:[(0,o.jsx)("td",{children:e.name}),(0,o.jsx)("td",{className:"cell-count sep-left",children:(0,o.jsx)(d.A,{className:q("input xs num",J(e.name,"ratio")),min:"0",step:"1",value:e.c1,onChange:l=>v(e.name,"y1",l,100*e.p1),disabled:!K})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)(d.A,{className:q("input xs num",J(e.name,"value")),min:"0",max:"100",step:"0.1",value:(100*e.p1).toFixed(1),onChange:l=>v(e.name,"y1",e.c1,l),disabled:!K})}),(0,o.jsx)("td",{className:"cell-num",children:m(e.a1)}),(0,o.jsx)("td",{className:"cell-count sep-left",children:(0,o.jsx)(d.A,{className:q("input xs num",J(e.name,"ratioY2")),min:"0",step:"1",value:e.c2,onChange:l=>v(e.name,"y2",l,100*e.p2),disabled:!K})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)(d.A,{className:q("input xs num",J(e.name,"valueY2")),min:"0",max:"100",step:"0.1",value:(100*e.p2).toFixed(1),onChange:l=>v(e.name,"y2",e.c2,l),disabled:!K})}),(0,o.jsx)("td",{className:"cell-num",children:m(e.a2)}),(0,o.jsx)("td",{className:"cell-count sep-left",children:(0,o.jsx)(d.A,{className:q("input xs num",J(e.name,"ratioY3")),min:"0",step:"1",value:e.c3,onChange:l=>v(e.name,"y3",l,100*e.p3),disabled:!K})}),(0,o.jsx)("td",{className:"cell-num",children:(0,o.jsx)(d.A,{className:q("input xs num",J(e.name,"valueY3")),min:"0",max:"100",step:"0.1",value:(100*e.p3).toFixed(1),onChange:l=>v(e.name,"y3",e.c3,l),disabled:!K})}),(0,o.jsx)("td",{className:"cell-num",children:m(e.a3)})]},e.name)),(0,o.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,o.jsx)("td",{children:"TOPLAM"}),(0,o.jsx)("td",{className:"cell-count sep-left",children:m(x.s1)}),(0,o.jsx)("td",{className:"cell-pct",children:y(p)}),(0,o.jsx)("td",{className:"cell-num",children:m(x.a1)}),(0,o.jsx)("td",{className:"cell-count sep-left",children:m(x.s2)}),(0,o.jsx)("td",{className:"cell-pct",children:y(j)}),(0,o.jsx)("td",{className:"cell-num",children:m(x.a2)}),(0,o.jsx)("td",{className:"cell-count sep-left",children:m(x.s3)}),(0,o.jsx)("td",{className:"cell-pct",children:y(g)}),(0,o.jsx)("td",{className:"cell-num",children:m(x.a3)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"small",children:"Burs/\u0130ndirimli \xd6\u011frenci Oran\u0131 (Y1)"}),(0,o.jsx)("td",{className:"small cell-pct",colSpan:9,children:y(k>0?x.s1/k:0)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"small",children:"Burs/\u0130ndirimlerin \xd6\u011frenci \xdccret Gelirleri \u0130\xe7indeki % (Y1)"}),(0,o.jsx)("td",{className:"small cell-pct",colSpan:9,children:y(N>0?x.a1/N:0)})]})]})})()})]})}),(0,o.jsx)("div",{className:"section-head",children:(0,o.jsx)("div",{className:"section-title",children:"\xd6ZET"})}),(0,o.jsx)("div",{className:"table-scroll",style:{marginTop:8},children:(0,o.jsxs)("table",{className:"table data-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{}),(0,o.jsx)("th",{style:{width:170},children:"Y1"}),(0,o.jsx)("th",{style:{width:170},children:"Y2"}),(0,o.jsx)("th",{style:{width:170},children:"Y3"})]})}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"\u0130\u015fletme Giderleri"}),(0,o.jsx)("td",{className:"cell-num",children:m(re.y1)}),(0,o.jsx)("td",{className:"cell-num",children:m(re.y2)}),(0,o.jsx)("td",{className:"cell-num",children:m(re.y3)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"\xd6\u011frenim D\u0131\u015f\u0131 Maliyetler"}),(0,o.jsx)("td",{className:"cell-num",children:m(de.y1)}),(0,o.jsx)("td",{className:"cell-num",children:m(de.y2)}),(0,o.jsx)("td",{className:"cell-num",children:m(de.y3)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"Yurt/Konaklama Giderleri"}),(0,o.jsx)("td",{className:"cell-num",children:m(oe.y1)}),(0,o.jsx)("td",{className:"cell-num",children:m(oe.y2)}),(0,o.jsx)("td",{className:"cell-num",children:m(oe.y3)})]}),(0,o.jsxs)("tr",{className:"row-group-start",style:{fontWeight:800},children:[(0,o.jsx)("td",{children:"Toplam Gider"}),(0,o.jsx)("td",{className:"cell-num",children:m(ce.y1)}),(0,o.jsx)("td",{className:"cell-num",children:m(ce.y2)}),(0,o.jsx)("td",{className:"cell-num",children:m(ce.y3)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"small",children:"Net Ciro (Gelirler - \u0130ndirimler)"}),(0,o.jsx)("td",{className:"cell-num",children:m(te.y1)}),(0,o.jsx)("td",{className:"cell-num",children:m(te.y2)}),(0,o.jsx)("td",{className:"cell-num",children:m(te.y3)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"small",children:"Gider / Net Ciro"}),(0,o.jsx)("td",{className:"cell-num",children:te.y1>0?y(ce.y1/te.y1):"-"}),(0,o.jsx)("td",{className:"cell-num",children:te.y2>0?y(ce.y2/te.y2):"-"}),(0,o.jsx)("td",{className:"cell-num",children:te.y3>0?y(ce.y3/te.y3):"-"})]})]})]})}),(0,o.jsx)("div",{className:"small",style:{marginTop:10},children:"\u0130pucu: HR (\u0130K) tab\u0131ndaki 1/2/3. y\u0131l personel say\u0131lar\u0131 ve birim maliyetleri girildi\u011finde, maa\u015f sat\u0131rlar\u0131 burada otomatik g\xfcncellenir (1. y\u0131l giri\u015f alan\u0131 kilitlenir)."})]})}var T=n(6278);function E(){const{inputs:e,setField:l,baseYear:n,inputCurrencyCode:i,dirtyPaths:s,markDirty:a,uiScopeKey:r,expensesAvgPct:d,expensesMissingLines:c}=(0,t.KC)();if(!e)return null;const u=Array.isArray(c)?c.join(" / "):"";return(0,o.jsx)("div",{style:{marginTop:12},children:(0,o.jsx)(T.A,{pct:d,title:"Giderler",missingLines:c,missingPreview:u,children:(0,o.jsx)(S,{baseYear:n,giderler:e.giderler,temelBilgiler:e.temelBilgiler,ik:e.ik,grades:e.grades,gelirler:e.gelirler,discounts:e.discounts,currencyCode:i,onDiscountsChange:e=>{l("discounts",e)},onChange:e=>{l("giderler",e)},dirtyPaths:s,onDirty:a,uiScopeKey:r})})})}},5318(e,l,n){n.d(l,{A:()=>c});var i=n(2555),t=n(3986),s=n(5043),a=n(579);const r=["value","onChange","onBlur","onFocus","className","step","disabled","placeholder","title","name","id","inputMode"],d=new Map;function o(e){const l=String(null!==e&&void 0!==e?e:"").trim();if(!l)return{value:null,empty:!0};const n=l.replace(/\s+/g,""),i=n.includes("."),t=n.includes(",");let s=null,a=null;if(i&&t){s=n.lastIndexOf(".")>n.lastIndexOf(",")?".":",",a="."===s?",":"."}else if(i||t){const e=i?".":",";if((n.match(new RegExp("\\".concat(e),"g"))||[]).length>1)a=e;else{const l=n.lastIndexOf(e),i=n.length-l-1;i>=1&&i<=2?s=e:a=e}}let r=n;a&&(r=r.split(a).join("")),s&&(r=r.replace(s,".")),s||(r=r.replace(/[.,]/g,"")),r=r.replace(/(?!^)-/g,""),r=r.replace(/[^0-9.-]/g,"");const d=Number(r);return Number.isFinite(d)?{value:d,empty:!1}:{value:null,empty:!1}}function c(e){let{value:l,onChange:n,onBlur:c,onFocus:u,className:m,step:y,disabled:v,placeholder:h,title:x,name:p,id:j,inputMode:g}=e,N=(0,t.A)(e,r);const k=(0,s.useMemo)(()=>function(e){if(null==e)return 2;const l=String(e).trim();if(!l||"any"===l)return 6;const n=l.indexOf(".");return-1===n?0:Math.max(0,l.length-n-1)}(y),[y]),f="tr-TR",{decimal:b}=(0,s.useMemo)(()=>function(e){var l,n;if(d.has(e))return d.get(e);const i=new Intl.NumberFormat(e).formatToParts(1000.1),t={group:(null===(l=i.find(e=>"group"===e.type))||void 0===l?void 0:l.value)||",",decimal:(null===(n=i.find(e=>"decimal"===e.type))||void 0===n?void 0:n.value)||"."};return d.set(e,t),t}(f),[f]),A=(0,s.useMemo)(()=>new Intl.NumberFormat(f,{useGrouping:!0,maximumFractionDigits:k}),[f,k]),M=(0,s.useMemo)(()=>new Intl.NumberFormat(f,{useGrouping:!1,maximumFractionDigits:k}),[f,k]),[Y,w]=(0,s.useState)(!1),[C,S]=(0,s.useState)(""),T=Number(l),E=""!==l&&null!=l&&Number.isFinite(T);(0,s.useEffect)(()=>{Y||S(E?A.format(T):"")},[Y,A,E,T]);return(0,a.jsx)("input",(0,i.A)((0,i.A)({},N),{},{id:j,name:p,className:m,value:Y?C:C||"",onChange:e=>{const l=e.target.value;S(l);const i=o(l);i.empty?null===n||void 0===n||n(""):null!=i.value&&(null===n||void 0===n||n(i.value))},onFocus:e=>{w(!0),S(E?M.format(T):""),null===u||void 0===u||u(e)},onBlur:e=>{w(!1);const l=o(C);if(l.empty)return S(""),null===n||void 0===n||n(""),void(null===c||void 0===c||c(e));if(null!=l.value){const e=Number(l.value);S(A.format(e)),null===n||void 0===n||n(e)}null===c||void 0===c||c(e)},disabled:v,placeholder:h,title:x,inputMode:g||"decimal",autoComplete:"off","aria-invalid":N["aria-invalid"],"data-decimal-separator":b}))}},5458(e,l,n){n.d(l,{N:()=>s});const i=(e,l,n)=>Math.min(n,Math.max(l,e)),t=e=>{const l=Number(e);return Number.isFinite(l)?l:0};function s(e){let{yearKey:l,discounts:n,grossTuition:s,tuitionStudents:a,avgTuitionFee:r,factor:d}=e;const o=t(a),c=t(s),u=t(r);if(c<=0||o<=0)return 0;const m=(e,l,n)=>{if(e)return"y2"===n?null===e||void 0===e?void 0:e[l+"Y2"]:"y3"===n?null===e||void 0===e?void 0:e[l+"Y3"]:null===e||void 0===e?void 0:e[l]},y=(e,l,n)=>!!e&&("y2"===n?null!=(null===e||void 0===e?void 0:e[l+"Y2"])&&""!==(null===e||void 0===e?void 0:e[l+"Y2"]):"y3"===n?null!=(null===e||void 0===e?void 0:e[l+"Y3"])&&""!==(null===e||void 0===e?void 0:e[l+"Y3"]):null!=(null===e||void 0===e?void 0:e[l])&&""!==(null===e||void 0===e?void 0:e[l])),v=(e,l)=>e?"y2"===l?null===e||void 0===e?void 0:e.studentCountY2:"y3"===l?null===e||void 0===e?void 0:e.studentCountY3:null===e||void 0===e?void 0:e.studentCount:null;let h=0;for(const p of n||[]){if(!p)continue;const e=String(p.mode||"percent"),n=v(p,l),s=null==n||""===n?null:Math.max(0,Math.round(t(n))),a=null!=s&&o>0?i(s/o,0,1):null,r=null!=a?a:i(t(m(p,"ratio",l)),0,1),c=m(p,"value",l),x=t(c);if("fixed"===e){const e=y(p,"value",l)?Math.max(0,x):Math.max(0,x)*(null!==d&&void 0!==d?d:1);u>0&&(h+=r*e/u)}else{h+=r*i(x,0,1)}}const x=c*i(h,0,1);return Math.min(x,c)}},6278(e,l,n){n.d(l,{A:()=>s});n(5043);var i=n(3204),t=n(579);function s(e){let{pct:l=0,title:n="",missingPreview:s="",missingLines:a=[],children:r}=e;const d=function(e){const l=Number(e);return Number.isFinite(l)?Math.max(0,Math.min(100,l)):0}(l),o="linear-gradient(90deg, #000 0%, #000 ".concat(d,"%, transparent ").concat(d,"%, transparent 100%)"),c=function(e){let{pct:l,title:n,missingPreview:i,missingLines:t}=e;const s=Array.isArray(t)?t.map(e=>String(e)).filter(Boolean).slice(0,15):[];return s.length?s.join("\n"):i?String(i):n?"".concat(n,": ").concat(l,"%"):"".concat(l,"%")}({pct:Math.round(d),title:n,missingPreview:s,missingLines:a}),u=d<100;return(0,t.jsxs)("div",{style:{position:"relative",overflow:"hidden",borderRadius:12},children:[(0,t.jsx)("div",{"aria-hidden":"true",style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:0,backgroundImage:"linear-gradient(90deg, rgba(16,185,129, 0.05) 0%, rgba(16,185,129, 0.10) 30%, rgba(16,185,129, 0.16) 70%, rgba(16,185,129, 0.10) 100%), radial-gradient(circle at 20% 45%, rgba(16,185,129, 0.14) 0%, rgba(16,185,129, 0.00) 65%)",WebkitMaskImage:o,maskImage:o}}),u?(0,t.jsx)("button",{type:"button",title:c,"aria-label":"Progress details",style:{position:"absolute",top:12,right:12,zIndex:20,width:26,height:26,borderRadius:999,border:"1px solid rgba(15, 23, 42, 0.15)",background:"rgba(255, 255, 255, 0.9)",color:"#0f172a",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"help",boxShadow:"0 6px 16px rgba(15, 23, 42, 0.08)"},children:(0,t.jsx)(i.__w,{size:12})}):null,(0,t.jsx)("div",{style:{position:"relative",zIndex:1},children:r})]})}}}]);
//# sourceMappingURL=790.1789a01c.chunk.js.map