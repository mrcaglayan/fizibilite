"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[942],{5318(e,t,r){r.d(t,{A:()=>d});var n=r(2555),i=r(3986),s=r(5043),l=r(579);const a=["value","onChange","onBlur","onFocus","className","step","disabled","placeholder","title","name","id","inputMode"],o=new Map;function c(e){const t=String(null!==e&&void 0!==e?e:"").trim();if(!t)return{value:null,empty:!0};const r=t.replace(/\s+/g,""),n=r.includes("."),i=r.includes(",");let s=null,l=null;if(n&&i){s=r.lastIndexOf(".")>r.lastIndexOf(",")?".":",",l="."===s?",":"."}else if(n||i){const e=n?".":",";if((r.match(new RegExp("\\".concat(e),"g"))||[]).length>1)l=e;else{const t=r.lastIndexOf(e),n=r.length-t-1;n>=1&&n<=2?s=e:l=e}}let a=r;l&&(a=a.split(l).join("")),s&&(a=a.replace(s,".")),s||(a=a.replace(/[.,]/g,"")),a=a.replace(/(?!^)-/g,""),a=a.replace(/[^0-9.-]/g,"");const o=Number(a);return Number.isFinite(o)?{value:o,empty:!1}:{value:null,empty:!1}}function d(e){let{value:t,onChange:r,onBlur:d,onFocus:u,className:h,step:m,disabled:y,placeholder:g,title:x,name:v,id:f,inputMode:p}=e,j=(0,i.A)(e,a);const b=(0,s.useMemo)(()=>function(e){if(null==e)return 2;const t=String(e).trim();if(!t||"any"===t)return 6;const r=t.indexOf(".");return-1===r?0:Math.max(0,t.length-r-1)}(m),[m]),k="tr-TR",{decimal:A}=(0,s.useMemo)(()=>function(e){var t,r;if(o.has(e))return o.get(e);const n=new Intl.NumberFormat(e).formatToParts(1000.1),i={group:(null===(t=n.find(e=>"group"===e.type))||void 0===t?void 0:t.value)||",",decimal:(null===(r=n.find(e=>"decimal"===e.type))||void 0===r?void 0:r.value)||"."};return o.set(e,i),i}(k),[k]),N=(0,s.useMemo)(()=>new Intl.NumberFormat(k,{useGrouping:!0,maximumFractionDigits:b}),[k,b]),W=(0,s.useMemo)(()=>new Intl.NumberFormat(k,{useGrouping:!1,maximumFractionDigits:b}),[k,b]),[C,w]=(0,s.useState)(!1),[H,S]=(0,s.useState)(""),M=Number(t),T=""!==t&&null!=t&&Number.isFinite(M);(0,s.useEffect)(()=>{C||S(T?N.format(M):"")},[C,N,T,M]);return(0,l.jsx)("input",(0,n.A)((0,n.A)({},j),{},{id:f,name:v,className:h,value:C?H:H||"",onChange:e=>{const t=e.target.value;S(t);const n=c(t);n.empty?null===r||void 0===r||r(""):null!=n.value&&(null===r||void 0===r||r(n.value))},onFocus:e=>{w(!0),S(T?W.format(M):""),null===u||void 0===u||u(e)},onBlur:e=>{w(!1);const t=c(H);if(t.empty)return S(""),null===r||void 0===r||r(""),void(null===d||void 0===d||d(e));if(null!=t.value){const e=Number(t.value);S(N.format(e)),null===r||void 0===r||r(e)}null===d||void 0===d||d(e)},disabled:y,placeholder:g,title:x,inputMode:p||"decimal",autoComplete:"off","aria-invalid":j["aria-invalid"],"data-decimal-separator":A}))}},5942(e,t,r){r.r(t),r.d(t,{default:()=>C});var n=r(2555),i=r(5043),s=r(5685),l=r(6037),a=r(5318),o=r(579);const c="||",d=(0,l.oP)(),u=new Map(d.map((e,t)=>[e,t])),h=["y1","y2","y3"],m=24,y=(0,l.aW)(),g=Object.freeze(y.reduce((e,t)=>(e[t.key]=t.label,e),{})),x=Object.freeze([]),v=e=>{const t=Number(e);return Number.isFinite(t)?t:0};function f(){const e={};return d.forEach(t=>e[t]={}),e}function p(e,t){const r=String(e||"").trim(),n=String(t||"").trim();return r||n?n?r?"".concat(r).concat(c).concat(n):n:r:""}function j(e){const t=String(e||"");if(t.includes(c)){const[e,...r]=t.split(c);return{teacher:e||"",lesson:r.join(c)||""}}return{teacher:t,lesson:t}}function b(e,t){const r=Array.isArray(e)?e:[];return(Array.isArray(t)&&t.length?t:d).map(e=>{const t=r.find(t=>String(t.grade)===e)||{grade:e,branchCount:0,studentsPerBranch:0};return{grade:e,branchCount:v(t.branchCount),studentsPerBranch:v(t.studentsPerBranch)}})}function k(e){return b(e,d).reduce((e,t)=>e+v(t.studentsPerBranch),0)}function A(e){let{title:t,subtitle:r,grades:s,onChange:c,dirtyPaths:u,onDirty:h,pathPrefix:m,gradeColWidth:y,inputWidth:x,gradeOrder:f,allGrades:p,kademeConfig:j}=e;const k=Array.isArray(f)&&f.length?f:d,A=Array.isArray(p)&&p.length?p:k,N=b(s,k),W=b(s,A),C="function"!==typeof c,w=(e,t)=>e+((e=>!(!e||!u)&&u.has(e))(t)?" input-dirty":""),H=(e,t)=>m?"".concat(m,".").concat(e,".").concat(t):"",S=N.reduce((e,t)=>{const r=v(t.studentsPerBranch);return e.totalBranches+=v(t.branchCount),e.totalStudents+=r,e},{totalBranches:0,totalStudents:0});function M(e,t,r){if(C)return;const i=""===r?0:v(r),s=W.map(r=>r.grade!==e?r:(0,n.A)((0,n.A)({},r),{},{[t]:i}));c(s),m&&(null===h||void 0===h||h(H(e,t),i))}const T={borderLeft:"2px solid rgba(0,0,0,0.10)"},F={background:"rgba(0,0,0,0.04)"},E={fontWeight:800,whiteSpace:"nowrap"},P=Number.isFinite(y)?y:36,B={width:Number.isFinite(x)?x:P-2,boxSizing:"border-box",textAlign:"center",paddingLeft:4,paddingRight:4},O=(0,i.useMemo)(()=>function(e,t){const r=Array.isArray(e)&&e.length?e:d,n=[];let i=null,s=[];const a=()=>{if(!s.length)return;const e=i,r=e?(0,l.VJ)(g[e]||e,t,e):"";n.push({key:e,label:r,grades:s})};for(const o of r){const e=(0,l.In)(o,t);e!==i&&s.length&&(a(),s=[]),e!==i&&(i=e),s.push(o)}return a(),n}(k,j),[k,j]),L=(0,i.useMemo)(()=>{const e=new Map(N.map(e=>[e.grade,v(e.studentsPerBranch)]));return O.map(t=>t.grades.reduce((t,r)=>t+v(e.get(r)),0))},[O,N]);return(0,o.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,o.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:800},children:t}),r?(0,o.jsx)("div",{className:"small",children:r}):null]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("span",{className:"badge",children:["Toplam \u015eube: ",S.totalBranches.toFixed(0)]}),(0,o.jsxs)("span",{className:"badge",children:["Toplam \xd6\u011frenci: ",S.totalStudents.toFixed(0)]})]})]}),(0,o.jsx)("div",{style:{overflowX:"auto",marginTop:10},children:(0,o.jsxs)("table",{className:"table",style:{tableLayout:"fixed"},children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{rowSpan:2,style:{minWidth:150,width:150,maxWidth:150}}),O.map((e,t)=>(0,o.jsx)("th",{colSpan:e.grades.length,style:(0,n.A)((0,n.A)({textAlign:"center",fontWeight:900,paddingTop:6,paddingBottom:6},0===t?{}:T),{},{background:"rgba(22, 87, 238, 0.03)",minWidth:1===e.grades.length?100:e.grades.length*P,width:1===e.grades.length?100:e.grades.length*P,whiteSpace:"normal",lineHeight:1.2}),title:e.label,children:e.label},"".concat(e.key||"none","-").concat(t))),(0,o.jsx)("th",{rowSpan:2,style:(0,n.A)((0,n.A)((0,n.A)({textAlign:"center",minWidth:78,width:78,maxWidth:78},T),F),{},{paddingLeft:8,paddingRight:8}),children:"TOPLAM"})]}),(0,o.jsx)("tr",{children:N.map((e,t)=>(0,o.jsx)("th",{style:(0,n.A)((0,n.A)({textAlign:"center",minWidth:P,width:P,maxWidth:P},0===t?{}:T),{},{paddingLeft:4,paddingRight:4}),children:e.grade},e.grade))})]}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:E,children:"\u015eube Say\u0131s\u0131"}),N.map((e,t)=>(0,o.jsx)("td",{style:(0,n.A)((0,n.A)({textAlign:"right"},0===t?{}:T),{},{paddingLeft:4,paddingRight:4}),children:(0,o.jsx)(a.A,{className:w("input sm",H(e.grade,"branchCount")),style:B,min:"0",step:"1",value:e.branchCount,disabled:C,onChange:t=>M(e.grade,"branchCount",t)})},e.grade)),(0,o.jsx)("td",{style:(0,n.A)((0,n.A)((0,n.A)({textAlign:"right",fontWeight:900},T),F),{},{paddingLeft:4,paddingRight:4}),children:S.totalBranches.toFixed(0)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:E,children:"\xd6\u011frenci"}),N.map((e,t)=>(0,o.jsx)("td",{style:(0,n.A)((0,n.A)({textAlign:"right"},0===t?{}:T),{},{paddingLeft:4,paddingRight:4}),children:(0,o.jsx)(a.A,{className:w("input sm",H(e.grade,"studentsPerBranch")),style:B,min:"0",step:"1",value:e.studentsPerBranch,disabled:C,onChange:t=>M(e.grade,"studentsPerBranch",t)})},e.grade)),(0,o.jsx)("td",{style:(0,n.A)((0,n.A)((0,n.A)({textAlign:"right",fontWeight:900},T),F),{},{paddingLeft:4,paddingRight:4}),children:S.totalStudents.toFixed(0)})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:E,children:"Kademe Toplam\u0131"}),O.map((e,t)=>(0,o.jsx)("td",{colSpan:e.grades.length,style:(0,n.A)((0,n.A)({textAlign:"right",fontWeight:900},0===t?{}:T),{},{background:"rgba(15, 23, 42, 0.03)",paddingLeft:8,paddingRight:8}),children:v(L[t]).toFixed(0)},"seg-total-".concat(t))),(0,o.jsx)("td",{style:(0,n.A)((0,n.A)((0,n.A)({textAlign:"right",fontWeight:900},T),F),{},{paddingLeft:4,paddingRight:4}),children:S.totalStudents.toFixed(0)})]})]})]})})]})}function N(e){var t;let{value:r,onChange:s,lastUpdatedAt:c,planningGrades:y,currentGrades:g,onPlanningGradesChange:N,onCurrentGradesChange:W,kademeConfig:C,dirtyPaths:w,onDirty:H}=e;const S=(0,i.useMemo)(()=>function(e){var t;const r=e&&"object"===typeof e?e:{},n=null!==r&&void 0!==r&&r.years&&"object"===typeof r.years?r.years:null;if(n){const e={};return h.forEach(t=>{var i,s;const l=(null===n||void 0===n?void 0:n[t])||{},a=Number(null!==(i=null!==(s=null===l||void 0===l?void 0:l.teacherWeeklyMaxHours)&&void 0!==s?s:null===r||void 0===r?void 0:r.teacherWeeklyMaxHours)&&void 0!==i?i:m),o=Number.isFinite(a)&&a>0?a:m,c=null!==l&&void 0!==l&&l.curriculumWeeklyHours&&"object"===typeof l.curriculumWeeklyHours?l.curriculumWeeklyHours:f();e[t]={teacherWeeklyMaxHours:o,curriculumWeeklyHours:c}}),{years:e}}const i=Number(null!==(t=null===r||void 0===r?void 0:r.teacherWeeklyMaxHours)&&void 0!==t?t:m),s=Number.isFinite(i)&&i>0?i:m,l=null!==r&&void 0!==r&&r.curriculumWeeklyHours&&"object"===typeof r.curriculumWeeklyHours?r.curriculumWeeklyHours:f(),a={};return h.forEach(e=>{a[e]={teacherWeeklyMaxHours:s,curriculumWeeklyHours:structuredClone(l)}}),{years:a}}(r),[r]),[M,T]=(0,i.useState)("y1"),F=(0,i.useMemo)(()=>{var e;return(null===(e=S.years)||void 0===e?void 0:e[M])||{teacherWeeklyMaxHours:m,curriculumWeeklyHours:f()}},[S.years,M]),E=v(null!==(t=F.teacherWeeklyMaxHours)&&void 0!==t?t:m)||m,P=F.curriculumWeeklyHours&&"object"===typeof F.curriculumWeeklyHours?F.curriculumWeeklyHours:f(),B=(0,i.useMemo)(()=>function(e){const t=(0,l.Ds)(e),r=new Set;Object.values(t).forEach(e=>{if(null===e||void 0===e||!e.enabled)return;const t=u.get(String(e.from)),n=u.get(String(e.to));if(!Number.isInteger(t)||!Number.isInteger(n))return;const i=Math.min(t,n),s=Math.max(t,n);for(let l=i;l<=s;l+=1)r.add(d[l])});const n=d.filter(e=>r.has(e));return n.length?n:d}(C),[C]),O=(0,i.useMemo)(()=>function(e){if(Array.isArray(e))return{y1:e,y2:e,y3:e};if(e&&"object"===typeof e){const t=e.years&&"object"===typeof e.years?e.years:e,r=Array.isArray(null===t||void 0===t?void 0:t.y1)?t.y1:[];return{y1:r,y2:Array.isArray(null===t||void 0===t?void 0:t.y2)?t.y2:r,y3:Array.isArray(null===t||void 0===t?void 0:t.y3)?t.y3:r}}return{y1:[],y2:[],y3:[]}}(y),[y]),L=(0,i.useMemo)(()=>(null===O||void 0===O?void 0:O[M])||x,[O,M]),R="y1"===M,G=(0,i.useMemo)(()=>({y1:k(O.y1),y2:k(O.y2),y3:k(O.y3)}),[O]),D=[],z=G.y2<=0||O.y2===O.y1,I=G.y3<=0||O.y3===O.y1;z&&D.push("Y2"),I&&D.push("Y3");const K=(e,t)=>e+((e=>!(!e||!w)&&w.has(e))(t)?" input-dirty":""),Y=e=>"norm.years.".concat(M,".").concat(e),q="inputs.gradesYears.".concat(M),U=(0,i.useMemo)(()=>{const e=new Set;return d.forEach(t=>{const r=(null===P||void 0===P?void 0:P[t])||{};Object.keys(r).forEach(t=>e.add(t))}),Array.from(e)},[P]),V=(0,i.useMemo)(()=>{const e=U.map(e=>(0,n.A)({key:e},j(e))).filter(e=>String(e.key||"").trim());return e.sort((e,t)=>{const r=String(e.teacher||"").toLowerCase(),n=String(t.teacher||"").toLowerCase();return r!==n?r.localeCompare(n):String(e.lesson||"").toLowerCase().localeCompare(String(t.lesson||"").toLowerCase())}),e},[U]),X=(0,i.useMemo)(()=>b(L,d),[L]),J=(0,i.useMemo)(()=>{const e={};return X.forEach(t=>e[t.grade]=v(t.branchCount)),e},[X]),_=(0,i.useMemo)(()=>{const e={};return X.forEach(t=>e[t.grade]=v(t.studentsPerBranch)),e},[X]),[$,Q]=(0,i.useState)(""),[Z,ee]=(0,i.useState)(""),[te,re]=(0,i.useState)({}),ne=e=>"y1"===e?"Y1":"y2"===e?"Y2":"Y3",ie=h.indexOf(M),se=ie>0?h[ie-1]:null;function le(e,t){re(r=>{var i,s;return(0,n.A)((0,n.A)({},r),{},{[e]:(0,n.A)((0,n.A)({teacher:(null===(i=V.find(t=>t.key===e))||void 0===i?void 0:i.teacher)||"",lesson:(null===(s=V.find(t=>t.key===e))||void 0===s?void 0:s.lesson)||""},r[e]||{}),t)})})}function ae(e){const t=te[e];if(!t)return;const r=j(e),i=String(t.teacher||"").trim(),l=String(t.lesson||"").trim();if(i===String(r.teacher||"").trim()&&l===String(r.lesson||"").trim())return void re(t=>{const r=(0,n.A)({},t);return delete r[e],r});const a=p(i,l);a&&a!==e&&!U.includes(a)?(!function(e,t,r){const i=p(t,r);if(!i||i===e)return;if(U.includes(i))return;const l=(0,n.A)({},P||{});d.forEach(t=>{const r=(0,n.A)({},l[t]||{}),s=v(r[e]);r[i]=s,delete r[e],l[t]=r,null===H||void 0===H||H(Y("curriculumWeeklyHours.".concat(t,".").concat(i)),s),null===H||void 0===H||H(Y("curriculumWeeklyHours.".concat(t,".").concat(e)),void 0)});const a=structuredClone(S);a.years=a.years||{},a.years[M]=a.years[M]||{teacherWeeklyMaxHours:m,curriculumWeeklyHours:f()},a.years[M].curriculumWeeklyHours=l,s({years:a.years})}(e,i,l),re(t=>{const r=(0,n.A)({},t);return delete r[e],r})):re(t=>{const r=(0,n.A)({},t);return delete r[e],r})}const oe=(0,i.useMemo)(()=>{const e={};return V.forEach(t=>{let r=0;B.forEach(e=>{var n;const i=v(null===P||void 0===P||null===(n=P[e])||void 0===n?void 0:n[t.key]),s=v(J[e]);r+=i*s}),e[t.key]=r}),e},[V,P,J,B]),ce=(0,i.useMemo)(()=>{const e={};return B.forEach(t=>{let r=0;V.forEach(e=>{var n;r+=v(null===P||void 0===P||null===(n=P[t])||void 0===n?void 0:n[e.key])}),e[t]=r}),e},[V,P,B]),de=(0,i.useMemo)(()=>{const e=Object.values(oe).reduce((e,t)=>e+v(t),0),t=E>0?Math.ceil(e/E):0,r=new Map;V.forEach(e=>{const t=String(e.teacher||"").trim()||"(No Teacher)",n=v(oe[e.key]);r.set(t,(r.get(t)||0)+n)});const n=Array.from(r.entries()).map(e=>{let[t,r]=e;return{teacher:t,hours:r,fte:E>0?r/E:0,needed:E>0?Math.ceil(r/E):0}}).sort((e,t)=>t.hours-e.hours),i=n.reduce((e,t)=>e+v(t.needed),0);return{totalTeachingHours:e,requiredTeachersOverall:t,teacherRows:n,requiredTeachersByBranch:i}},[V,oe,E]),ue=(0,i.useMemo)(()=>{const e=B.reduce((e,t)=>e+v(J[t]),0),t=B.reduce((e,t)=>e+v(_[t]),0),r=B.includes("KG")?v(J.KG):0,n=B.includes("KG")?v(_.KG):0,i=n>0?Math.ceil(n/50):0,s=de.requiredTeachersOverall+i;return{totalBranches:e,totalStudents:t,kgBranches:r,kgStudents:n,okulOncesiPersonel50:i,totalEducatorsWithOkulOncesi:s,studentTeacherRatio:s>0?t/s:null,teacherClassRatio:e>0?s/e:null,studentClassRatio:e>0?t/e:null}},[B,J,_,de.requiredTeachersOverall]),he=34,me={width:"100%",minWidth:0,maxWidth:"100%",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:800},children:"N.Kadro / Norm"}),(0,o.jsx)("div",{className:"small",children:"Planlanan (senaryo) \u015fube bilgileri + ders da\u011f\u0131l\u0131m\u0131 (haftal\u0131k). Sa\u011f tarafta bran\u015fa g\xf6re toplam ders saati ve \xf6\u011fretmen ihtiyac\u0131 hesaplan\u0131r."})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("label",{children:[(0,o.jsxs)("div",{className:"small",children:["\xd6\u011fretmen Haftal\u0131k Max Saat (",ne(M),")"]}),(0,o.jsx)(a.A,{className:K("input sm",Y("teacherWeeklyMaxHours")),min:"1",step:"1",value:E,onChange:e=>function(e){const t=""===e?0:v(e),r=Number.isFinite(t)&&t>0?t:24,n=structuredClone(S);n.years=n.years||{},n.years[M]=n.years[M]||{teacherWeeklyMaxHours:m,curriculumWeeklyHours:f()},n.years[M].teacherWeeklyMaxHours=r,s({years:n.years}),null===H||void 0===H||H(Y("teacherWeeklyMaxHours"),r)}(e)})]})})]}),(0,o.jsxs)("div",{className:"row",style:{justifyContent:"space-between",marginTop:10},children:[(0,o.jsx)("div",{className:"tabs",children:h.map(e=>(0,o.jsx)("div",{className:"tab "+(M===e?"active ":""),onClick:()=>T(e),children:ne(e)},e))}),se?(0,o.jsxs)("button",{className:"btn",onClick:function(){var e,t,r,i,l,a;if(!se)return;const o=(null===(e=S.years)||void 0===e?void 0:e[se])||{teacherWeeklyMaxHours:m,curriculumWeeklyHours:f()},c=null!==o&&void 0!==o&&o.curriculumWeeklyHours&&"object"===typeof o.curriculumWeeklyHours?o.curriculumWeeklyHours:f(),u=structuredClone(S);u.years=u.years||{},u.years[M]={teacherWeeklyMaxHours:v(null!==(t=null===o||void 0===o?void 0:o.teacherWeeklyMaxHours)&&void 0!==t?t:m)||m,curriculumWeeklyHours:structuredClone(c)},s({years:u.years}),null===H||void 0===H||H(Y("teacherWeeklyMaxHours"),u.years[M].teacherWeeklyMaxHours);const h=(null===(r=S.years)||void 0===r||null===(i=r[M])||void 0===i?void 0:i.curriculumWeeklyHours)||{},y=(null===(l=u.years)||void 0===l||null===(a=l[M])||void 0===a?void 0:a.curriculumWeeklyHours)||{};if(d.forEach(e=>{const t=(null===h||void 0===h?void 0:h[e])||{},r=(null===y||void 0===y?void 0:y[e])||{};Object.keys(t).forEach(t=>{t in r||null===H||void 0===H||H(Y("curriculumWeeklyHours.".concat(e,".").concat(t)),void 0)}),Object.entries(r).forEach(t=>{let[r,n]=t;null===H||void 0===H||H(Y("curriculumWeeklyHours.".concat(e,".").concat(r)),n)})}),"function"===typeof N){const e=(null===O||void 0===O?void 0:O[se])||[],t=(0,n.A)((0,n.A)({},O),{},{[M]:structuredClone(e)});N(t);b(t[M],d).forEach(e=>{null===H||void 0===H||H("".concat(q,".").concat(e.grade,".branchCount"),e.branchCount),null===H||void 0===H||H("".concat(q,".").concat(e.grade,".studentsPerBranch"),e.studentsPerBranch)})}},children:["Copy from ",ne(se)]}):null]}),D.length?(0,o.jsxs)("div",{className:"small",style:{marginTop:6,color:"#b91c1c"},children:["Warning: ",D.join(" and ")," planlanan ogrenci bilgisi bos."]}):null,(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"grid2",style:{alignItems:"start"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:800},children:"\xd6zet"}),(0,o.jsxs)("div",{className:"grid2 norm-summary-grid",style:{marginTop:8},children:[(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"Toplam Ders Saati (Haftal\u0131k)"}),(0,o.jsx)("div",{className:"value",children:de.totalTeachingHours.toFixed(2)})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"Toplam E\u011fitimci (Genel)"}),(0,o.jsx)("div",{className:"value",children:de.requiredTeachersOverall})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"Okul \xd6ncesi (KG) Yard\u0131mc\u0131 S\u0131n\u0131f \xd6\u011frt. (S\u0131n\u0131f Say\u0131s\u0131)"}),(0,o.jsx)("div",{className:"value",children:ue.kgBranches.toFixed(0)})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"Okul \xd6ncesi Personeli (50 \xf6\u011frenci / 1)"}),(0,o.jsx)("div",{className:"value",children:ue.okulOncesiPersonel50})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"Toplam E\u011fitimci (Genel + Okul \xd6ncesi)"}),(0,o.jsx)("div",{className:"value",children:ue.totalEducatorsWithOkulOncesi})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"\xd6\u011frenci / \xd6\u011fretmen"}),(0,o.jsx)("div",{className:"value",children:null==ue.studentTeacherRatio?"\u2014":ue.studentTeacherRatio.toFixed(2)})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"\xd6\u011fretmen / S\u0131n\u0131f"}),(0,o.jsx)("div",{className:"value",children:null==ue.teacherClassRatio?"\u2014":ue.teacherClassRatio.toFixed(2)})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"\xd6\u011frenci / S\u0131n\u0131f"}),(0,o.jsx)("div",{className:"value",children:null==ue.studentClassRatio?"\u2014":ue.studentClassRatio.toFixed(2)})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"E\u011fitimci (Bran\u015fa G\xf6re Toplam)"}),(0,o.jsx)("div",{className:"value",children:de.requiredTeachersByBranch})]}),(0,o.jsxs)("div",{className:"stat",children:[(0,o.jsx)("div",{className:"label",children:"Not"}),(0,o.jsxs)("div",{className:"value",style:{fontSize:12,fontWeight:600,lineHeight:1.25},children:[(0,o.jsx)("div",{children:"Bran\u015fa g\xf6re toplam, bran\u015f da\u011f\u0131l\u0131m\u0131 nedeniyle genel toplamdan b\xfcy\xfck olabilir."}),(0,o.jsx)("div",{style:{marginTop:4},children:"Okul \xf6ncesi personelinin pedagojik a\xe7\u0131dan \xf6\u011frenci ileti\u015fiminin y\xfcksek olmas\u0131 gerekir."})]})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:800},children:"Bran\u015f Bazl\u0131 (Toplam Ders Saati)"}),(0,o.jsx)("div",{style:{overflowX:"auto",marginTop:8},children:(0,o.jsxs)("table",{className:"table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Bran\u015f \xd6\u011fretmeni"}),(0,o.jsx)("th",{style:{textAlign:"right"},children:"Toplam Ders Saati"}),(0,o.jsx)("th",{style:{textAlign:"right"},children:"Limit"}),(0,o.jsx)("th",{style:{textAlign:"right"},children:"FTE"}),(0,o.jsx)("th",{style:{textAlign:"right"},children:"E\u011fitimci"})]})}),(0,o.jsx)("tbody",{children:0===de.teacherRows.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"5",className:"small",children:"Hen\xfcz ders sat\u0131r\u0131 yok."})}):de.teacherRows.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.teacher}),(0,o.jsx)("td",{style:{textAlign:"right"},children:e.hours.toFixed(2)}),(0,o.jsx)("td",{style:{textAlign:"right"},children:E}),(0,o.jsx)("td",{style:{textAlign:"right"},children:e.fte.toFixed(2)}),(0,o.jsx)("td",{style:{textAlign:"right",fontWeight:800},children:e.needed})]},e.teacher))})]})})]})]})]}),(0,o.jsxs)("div",{className:"row",style:{alignItems:"stretch"},children:[(0,o.jsx)("div",{style:{flex:"1 1 520px",minWidth:0},children:(0,o.jsx)(A,{title:"PLANLANAN D\xd6NEM B\u0130LG\u0130LER\u0130",subtitle:"Her s\u0131n\u0131f d\xfczeyi i\xe7in \u015fube say\u0131s\u0131 ve \xf6\u011frenci say\u0131s\u0131 (senaryo).",grades:L,onChange:function(e){if("function"!==typeof N)return;const t=(0,n.A)((0,n.A)({},O),{},{[M]:e});N(t)},dirtyPaths:w,onDirty:H,pathPrefix:q,gradeColWidth:34,inputWidth:30,gradeOrder:B,allGrades:d,kademeConfig:C})}),(0,o.jsx)("div",{style:{flex:"1 1 520px",minWidth:0},children:(0,o.jsx)(A,{title:"MEVCUT D\xd6NEM B\u0130LG\u0130LER\u0130",subtitle:"Mevcut d\xf6nem \u015fube ve toplam \xf6\u011frenci say\u0131lar\u0131 (kar\u015f\u0131la\u015ft\u0131rma i\xe7in).",grades:g,onChange:R?W:null,dirtyPaths:w,onDirty:H,pathPrefix:"inputs.gradesCurrent",gradeOrder:B,allGrades:d,kademeConfig:C})})]}),R?null:(0,o.jsx)("div",{className:"small",style:{marginTop:6},children:"Note: Mevcut donem bilgileri sadece Y1 icin duzenlenir."}),(0,o.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,o.jsx)("div",{className:"row",style:{justifyContent:"space-between"},children:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:800},children:"Ders Da\u011f\u0131l\u0131m\u0131 (Haftal\u0131k)"}),(0,o.jsx)("div",{className:"small",children:"Her ders sat\u0131r\u0131nda: dersin s\u0131n\u0131flara g\xf6re haftal\u0131k saatini gir. Toplam ders saati = (saat \xd7 \u015fube) toplam\u0131."})]})}),(0,o.jsxs)("div",{className:"row",style:{marginTop:10},children:[(0,o.jsx)("input",{className:"input",style:{flex:"0 1 240px",minWidth:200,maxWidth:"100%",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},placeholder:"Bran\u015f \xd6\u011fretmeni (\xf6rn: \u0130ngilizce \xd6\u011fretmeni)",value:$,onChange:e=>Q(e.target.value)}),(0,o.jsx)("input",{className:"input",style:{flex:"1 1 320px",minWidth:220,maxWidth:"100%",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},placeholder:"Ders Ad\u0131 (\xf6rn: English)",value:Z,onChange:e=>ee(e.target.value)}),(0,o.jsx)("button",{className:"btn",onClick:function(){const e=p($,Z);if(!e)return;if(U.includes(e))return;const t=function(e){const t=(0,n.A)({},P||{});return d.forEach(r=>{t[r]=(0,n.A)({},t[r]||{}),e in t[r]||(t[r][e]=0)}),t}(e),r=structuredClone(S);r.years=r.years||{},r.years[M]=r.years[M]||{teacherWeeklyMaxHours:m,curriculumWeeklyHours:f()},r.years[M].curriculumWeeklyHours=t,s({years:r.years}),d.forEach(t=>{null===H||void 0===H||H(Y("curriculumWeeklyHours.".concat(t,".").concat(e)),0)}),Q(""),ee("")},children:"Ders Ekle"}),(0,o.jsx)("div",{className:"small",children:'Not: Dersler veritaban\u0131nda "Bran\u015f||Ders" format\u0131nda saklan\u0131r.'})]}),(0,o.jsx)("div",{style:{overflowX:"auto",marginTop:12},children:(0,o.jsxs)("table",{className:"table",style:{tableLayout:"fixed"},children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:{minWidth:160,width:160},children:"Bran\u015f \xd6\u011fretmeni"}),(0,o.jsx)("th",{style:{minWidth:160,width:160},children:"Ders Ad\u0131"}),B.map(e=>(0,o.jsx)("th",{style:{textAlign:"right",minWidth:he,width:he,maxWidth:he,paddingLeft:2,paddingRight:2},children:e},e)),(0,o.jsx)("th",{style:{textAlign:"right",minWidth:140,width:140},children:"Toplam Ders Saati"}),(0,o.jsx)("th",{style:{minWidth:70,width:70},children:"Sil"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{}),(0,o.jsx)("th",{className:"small",children:"Planlanan \u015eube"}),B.map(e=>(0,o.jsx)("th",{className:"small",style:{textAlign:"right",minWidth:he,width:he,maxWidth:he,paddingLeft:2,paddingRight:2},children:v(J[e]).toFixed(0)},e)),(0,o.jsx)("th",{}),(0,o.jsx)("th",{})]})]}),(0,o.jsxs)("tbody",{children:[0===V.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:2+B.length+2,className:"small",children:"Henuz ders satiri yok. Ders ekleyerek baslayabilirsin."})}):V.map(e=>{var t,r,i,l;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("input",{className:"input",style:me,value:(null!==(t=null===(r=te[e.key])||void 0===r?void 0:r.teacher)&&void 0!==t?t:e.teacher)||"",onChange:t=>le(e.key,{teacher:t.target.value}),onBlur:()=>ae(e.key),onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.blur()}})}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{className:"input",style:me,value:(null!==(i=null===(l=te[e.key])||void 0===l?void 0:l.lesson)&&void 0!==i?i:e.lesson)||"",onChange:t=>le(e.key,{lesson:t.target.value}),onBlur:()=>ae(e.key),onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.blur()}})}),B.map(t=>{var r;return(0,o.jsx)("td",{style:{textAlign:"right",paddingLeft:2,paddingRight:2},children:(0,o.jsx)(a.A,{className:K("input sm",Y("curriculumWeeklyHours.".concat(t,".").concat(e.key))),style:{width:26,boxSizing:"border-box",textAlign:"right",paddingLeft:4,paddingRight:4},min:"0",step:"0.25",value:v(null===P||void 0===P||null===(r=P[t])||void 0===r?void 0:r[e.key]),onChange:r=>function(e,t,r){const i=""===r?0:v(r),l=Number.isFinite(i)&&i>=0?i:0,a=structuredClone(S);a.years=a.years||{},a.years[M]=a.years[M]||{teacherWeeklyMaxHours:m,curriculumWeeklyHours:f()},a.years[M].curriculumWeeklyHours=(0,n.A)((0,n.A)({},P||{}),{},{[e]:(0,n.A)((0,n.A)({},(null===P||void 0===P?void 0:P[e])||{}),{},{[t]:l})}),s({years:a.years}),null===H||void 0===H||H(Y("curriculumWeeklyHours.".concat(e,".").concat(t)),l)}(t,e.key,r)})},t)}),(0,o.jsx)("td",{style:{textAlign:"right",fontWeight:800},children:v(oe[e.key]).toFixed(2)}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{className:"btn danger",onClick:()=>function(e){const t=(0,n.A)({},P||{});d.forEach(r=>{const i=(0,n.A)({},t[r]||{});delete i[e],t[r]=i});const r=structuredClone(S);r.years=r.years||{},r.years[M]=r.years[M]||{teacherWeeklyMaxHours:m,curriculumWeeklyHours:f()},r.years[M].curriculumWeeklyHours=t,s({years:r.years}),d.forEach(t=>{null===H||void 0===H||H(Y("curriculumWeeklyHours.".concat(t,".").concat(e)),void 0)})}(e.key),children:"x"})})]},e.key)}),V.length>0?(0,o.jsxs)("tr",{style:{fontWeight:900},children:[(0,o.jsx)("td",{children:"TOPLAM"}),(0,o.jsx)("td",{}),B.map(e=>(0,o.jsx)("td",{style:{textAlign:"right",paddingLeft:2,paddingRight:2},children:v(ce[e]).toFixed(0)},e)),(0,o.jsx)("td",{style:{textAlign:"right"},children:de.totalTeachingHours.toFixed(0)}),(0,o.jsx)("td",{})]}):null]})]})})]})]})}var W=r(6278);function C(){var e;const{norm:t,setNorm:r,inputs:i,handlePlanningGradesChange:l,setField:a,programType:c,dirtyPaths:d,markDirty:u,normAvgPct:h,normMissingLines:m}=(0,s.KC)(),y=Array.isArray(m)?m.join(" / "):"";return(0,o.jsx)("div",{style:{marginTop:12},children:(0,o.jsx)(W.A,{pct:h,title:"Norm",missingLines:m,missingPreview:y,children:(0,o.jsx)(N,{value:t||null,onChange:e=>{r(t=>(0,n.A)((0,n.A)({},t||{}),e))},lastUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,planningGrades:(null===i||void 0===i?void 0:i.gradesYears)||(null===i||void 0===i?void 0:i.grades),currentGrades:null===i||void 0===i?void 0:i.gradesCurrent,onPlanningGradesChange:i?l:null,onCurrentGradesChange:i?e=>a("gradesCurrent",e):null,kademeConfig:null===i||void 0===i||null===(e=i.temelBilgiler)||void 0===e?void 0:e.kademeler,programType:c,dirtyPaths:d,onDirty:u})})})}},6037(e,t,r){r.d(t,{Ds:()=>d,In:()=>h,VJ:()=>u,aW:()=>o,jc:()=>c,oP:()=>y,qV:()=>m});var n=r(2555);const i=["KG","1","2","3","4","5","6","7","8","9","10","11","12"],s=[{key:"okulOncesi",label:"Okul \xd6ncesi",defaultFrom:"KG",defaultTo:"KG"},{key:"ilkokul",label:"\u0130lkokul",defaultFrom:"1",defaultTo:"5"},{key:"ortaokul",label:"Ortaokul",defaultFrom:"6",defaultTo:"9"},{key:"lise",label:"Lise",defaultFrom:"10",defaultTo:"12"}];function l(e){const t=String(e||"").trim().toUpperCase();if("KG"===t)return"KG";if(!/^\d{1,2}$/.test(t))return null;const r=Number(t);return!Number.isFinite(r)||r<1||r>12?null:String(r)}function a(e){const t=l(e);return t?i.indexOf(t):-1}function o(){return s.map(e=>(0,n.A)({},e))}function c(){const e={};return s.forEach(t=>{e[t.key]={enabled:!0,from:t.defaultFrom,to:t.defaultTo}}),e}function d(e){const t=e&&"object"===typeof e?e:{},r={};return s.forEach(e=>{const i=t[e.key]&&"object"===typeof t[e.key]?t[e.key]:{},s=!1!==i.enabled,o=function(e,t,r){var n,i;const s=null!==(n=l(e))&&void 0!==n?n:r.defaultFrom,o=null!==(i=l(t))&&void 0!==i?i:r.defaultTo,c=a(s),d=a(o);return c<0||d<0?{from:r.defaultFrom,to:r.defaultTo}:c<=d?{from:s,to:o}:{from:o,to:s}}(i.from,i.to,e);r[e.key]=(0,n.A)({enabled:s},o)}),r}function u(e,t,r){const n=function(e,t){if(!s.find(e=>e.key===t))return"";const r=d(e)[t];return null!==r&&void 0!==r&&r.enabled?r.from===r.to?r.from:"".concat(r.from,"-").concat(r.to):""}(t,r);return n?"".concat(e," (").concat(n,")"):e}function h(e,t){const r=a(e);if(r<0)return null;const n=d(t);for(const i of s){const e=n[i.key];if(null===e||void 0===e||!e.enabled)continue;const t=a(e.from),s=a(e.to);if(t<=r&&r<=s)return i.key}return null}function m(e,t){const r=Array.isArray(e)?e:[],n={okulOncesi:0,ilkokul:0,ortaokul:0,lise:0,total:0};for(const i of r){const e=Number((null===i||void 0===i?void 0:i.studentsPerBranch)||0);if(!Number.isFinite(e))continue;n.total+=e;const r=h(null===i||void 0===i?void 0:i.grade,t);r&&Object.prototype.hasOwnProperty.call(n,r)&&(n[r]+=e)}return n}function y(){return i.map(e=>e)}},6278(e,t,r){r.d(t,{A:()=>s});r(5043);var n=r(3204),i=r(579);function s(e){let{pct:t=0,title:r="",missingPreview:s="",missingLines:l=[],children:a}=e;const o=function(e){const t=Number(e);return Number.isFinite(t)?Math.max(0,Math.min(100,t)):0}(t),c="linear-gradient(90deg, #000 0%, #000 ".concat(o,"%, transparent ").concat(o,"%, transparent 100%)"),d=function(e){let{pct:t,title:r,missingPreview:n,missingLines:i}=e;const s=Array.isArray(i)?i.map(e=>String(e)).filter(Boolean).slice(0,15):[];return s.length?s.join("\n"):n?String(n):r?"".concat(r,": ").concat(t,"%"):"".concat(t,"%")}({pct:Math.round(o),title:r,missingPreview:s,missingLines:l}),u=o<100;return(0,i.jsxs)("div",{style:{position:"relative",overflow:"hidden",borderRadius:12},children:[(0,i.jsx)("div",{"aria-hidden":"true",style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:0,backgroundImage:"linear-gradient(90deg, rgba(16,185,129, 0.05) 0%, rgba(16,185,129, 0.10) 30%, rgba(16,185,129, 0.16) 70%, rgba(16,185,129, 0.10) 100%), radial-gradient(circle at 20% 45%, rgba(16,185,129, 0.14) 0%, rgba(16,185,129, 0.00) 65%)",WebkitMaskImage:c,maskImage:c}}),u?(0,i.jsx)("button",{type:"button",title:d,"aria-label":"Progress details",style:{position:"absolute",top:12,right:12,zIndex:20,width:26,height:26,borderRadius:999,border:"1px solid rgba(15, 23, 42, 0.15)",background:"rgba(255, 255, 255, 0.9)",color:"#0f172a",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"help",boxShadow:"0 6px 16px rgba(15, 23, 42, 0.08)"},children:(0,i.jsx)(n.__w,{size:12})}):null,(0,i.jsx)("div",{style:{position:"relative",zIndex:1},children:a})]})}}}]);
//# sourceMappingURL=942.633d0169.chunk.js.map